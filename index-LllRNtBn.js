(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function s(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(r){if(r.ep)return;r.ep=!0;const l=s(r);fetch(r.href,l)}})();function To(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const Le={},_s=[],Rt=()=>{},ll=()=>!1,Nn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Oo=e=>e.startsWith("onUpdate:"),et=Object.assign,No=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},aa=Object.prototype.hasOwnProperty,Te=(e,t)=>aa.call(e,t),de=Array.isArray,ws=e=>rn(e)==="[object Map]",Rs=e=>rn(e)==="[object Set]",ir=e=>rn(e)==="[object Date]",ye=e=>typeof e=="function",We=e=>typeof e=="string",Tt=e=>typeof e=="symbol",Oe=e=>e!==null&&typeof e=="object",il=e=>(Oe(e)||ye(e))&&ye(e.then)&&ye(e.catch),al=Object.prototype.toString,rn=e=>al.call(e),ua=e=>rn(e).slice(8,-1),ul=e=>rn(e)==="[object Object]",Ln=e=>We(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Hs=To(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Dn=e=>{const t=Object.create(null);return(s=>t[s]||(t[s]=e(s)))},ca=/-\w/g,_t=Dn(e=>e.replace(ca,t=>t.slice(1).toUpperCase())),da=/\B([A-Z])/g,rs=Dn(e=>e.replace(da,"-$1").toLowerCase()),Mn=Dn(e=>e.charAt(0).toUpperCase()+e.slice(1)),to=Dn(e=>e?`on${Mn(e)}`:""),ns=(e,t)=>!Object.is(e,t),bn=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},cl=(e,t,s,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:s})},jn=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ar;const Un=()=>ar||(ar=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ln(e){if(de(e)){const t={};for(let s=0;s<e.length;s++){const o=e[s],r=We(o)?ma(o):ln(o);if(r)for(const l in r)t[l]=r[l]}return t}else if(We(e)||Oe(e))return e}const fa=/;(?![^(]*\))/g,pa=/:([^]+)/,ga=/\/\*[^]*?\*\//g;function ma(e){const t={};return e.replace(ga,"").split(fa).forEach(s=>{if(s){const o=s.split(pa);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function Se(e){let t="";if(We(e))t=e;else if(de(e))for(let s=0;s<e.length;s++){const o=Se(e[s]);o&&(t+=o+" ")}else if(Oe(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const ha="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",va=To(ha);function dl(e){return!!e||e===""}function ya(e,t){if(e.length!==t.length)return!1;let s=!0;for(let o=0;s&&o<e.length;o++)s=Ts(e[o],t[o]);return s}function Ts(e,t){if(e===t)return!0;let s=ir(e),o=ir(t);if(s||o)return s&&o?e.getTime()===t.getTime():!1;if(s=Tt(e),o=Tt(t),s||o)return e===t;if(s=de(e),o=de(t),s||o)return s&&o?ya(e,t):!1;if(s=Oe(e),o=Oe(t),s||o){if(!s||!o)return!1;const r=Object.keys(e).length,l=Object.keys(t).length;if(r!==l)return!1;for(const a in e){const u=e.hasOwnProperty(a),c=t.hasOwnProperty(a);if(u&&!c||!u&&c||!Ts(e[a],t[a]))return!1}}return String(e)===String(t)}function Lo(e,t){return e.findIndex(s=>Ts(s,t))}const fl=e=>!!(e&&e.__v_isRef===!0),R=e=>We(e)?e:e==null?"":de(e)||Oe(e)&&(e.toString===al||!ye(e.toString))?fl(e)?R(e.value):JSON.stringify(e,pl,2):String(e),pl=(e,t)=>fl(t)?pl(e,t.value):ws(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[o,r],l)=>(s[so(o,l)+" =>"]=r,s),{})}:Rs(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>so(s))}:Tt(t)?so(t):Oe(t)&&!de(t)&&!ul(t)?String(t):t,so=(e,t="")=>{var s;return Tt(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};let st;class gl{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.__v_skip=!0,this.parent=st,!t&&st&&(this.index=(st.scopes||(st.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=st;try{return st=this,t()}finally{st=s}}}on(){++this._on===1&&(this.prevScope=st,st=this)}off(){this._on>0&&--this._on===0&&(st=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,o;for(s=0,o=this.effects.length;s<o;s++)this.effects[s].stop();for(this.effects.length=0,s=0,o=this.cleanups.length;s<o;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,o=this.scopes.length;s<o;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function ml(e){return new gl(e)}function hl(){return st}function xa(e,t=!1){st&&st.cleanups.push(e)}let De;const no=new WeakSet;class vl{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,st&&st.active&&st.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,no.has(this)&&(no.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||xl(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ur(this),bl(this);const t=De,s=wt;De=this,wt=!0;try{return this.fn()}finally{_l(this),De=t,wt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)jo(t);this.deps=this.depsTail=void 0,ur(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?no.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ho(this)&&this.run()}get dirty(){return ho(this)}}let yl=0,zs,Ws;function xl(e,t=!1){if(e.flags|=8,t){e.next=Ws,Ws=e;return}e.next=zs,zs=e}function Do(){yl++}function Mo(){if(--yl>0)return;if(Ws){let t=Ws;for(Ws=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;zs;){let t=zs;for(zs=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=s}}if(e)throw e}function bl(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function _l(e){let t,s=e.depsTail,o=s;for(;o;){const r=o.prevDep;o.version===-1?(o===s&&(s=r),jo(o),ba(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=r}e.deps=t,e.depsTail=s}function ho(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(wl(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function wl(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Qs)||(e.globalVersion=Qs,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!ho(e))))return;e.flags|=2;const t=e.dep,s=De,o=wt;De=e,wt=!0;try{bl(e);const r=e.fn(e._value);(t.version===0||ns(r,e._value))&&(e.flags|=128,e._value=r,t.version++)}catch(r){throw t.version++,r}finally{De=s,wt=o,_l(e),e.flags&=-3}}function jo(e,t=!1){const{dep:s,prevSub:o,nextSub:r}=e;if(o&&(o.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=o,e.nextSub=void 0),s.subs===e&&(s.subs=o,!o&&s.computed)){s.computed.flags&=-5;for(let l=s.computed.deps;l;l=l.nextDep)jo(l,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function ba(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let wt=!0;const kl=[];function Wt(){kl.push(wt),wt=!1}function qt(){const e=kl.pop();wt=e===void 0?!0:e}function ur(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=De;De=void 0;try{t()}finally{De=s}}}let Qs=0;class _a{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Uo{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!De||!wt||De===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==De)s=this.activeLink=new _a(De,this),De.deps?(s.prevDep=De.depsTail,De.depsTail.nextDep=s,De.depsTail=s):De.deps=De.depsTail=s,Sl(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const o=s.nextDep;o.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=o),s.prevDep=De.depsTail,s.nextDep=void 0,De.depsTail.nextDep=s,De.depsTail=s,De.deps===s&&(De.deps=o)}return s}trigger(t){this.version++,Qs++,this.notify(t)}notify(t){Do();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Mo()}}}function Sl(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)Sl(o)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const $n=new WeakMap,gs=Symbol(""),vo=Symbol(""),Zs=Symbol("");function ot(e,t,s){if(wt&&De){let o=$n.get(e);o||$n.set(e,o=new Map);let r=o.get(s);r||(o.set(s,r=new Uo),r.map=o,r.key=s),r.track()}}function Ft(e,t,s,o,r,l){const a=$n.get(e);if(!a){Qs++;return}const u=c=>{c&&c.trigger()};if(Do(),t==="clear")a.forEach(u);else{const c=de(e),f=c&&Ln(s);if(c&&s==="length"){const p=Number(o);a.forEach((d,x)=>{(x==="length"||x===Zs||!Tt(x)&&x>=p)&&u(d)})}else switch((s!==void 0||a.has(void 0))&&u(a.get(s)),f&&u(a.get(Zs)),t){case"add":c?f&&u(a.get("length")):(u(a.get(gs)),ws(e)&&u(a.get(vo)));break;case"delete":c||(u(a.get(gs)),ws(e)&&u(a.get(vo)));break;case"set":ws(e)&&u(a.get(gs));break}}Mo()}function wa(e,t){const s=$n.get(e);return s&&s.get(t)}function vs(e){const t=Ie(e);return t===e?t:(ot(t,"iterate",Zs),ht(e)?t:t.map(kt))}function Fn(e){return ot(e=Ie(e),"iterate",Zs),e}function Zt(e,t){return Kt(e)?$s(Ht(e)?kt(t):t):kt(t)}const ka={__proto__:null,[Symbol.iterator](){return oo(this,Symbol.iterator,e=>Zt(this,e))},concat(...e){return vs(this).concat(...e.map(t=>de(t)?vs(t):t))},entries(){return oo(this,"entries",e=>(e[1]=Zt(this,e[1]),e))},every(e,t){return Dt(this,"every",e,t,void 0,arguments)},filter(e,t){return Dt(this,"filter",e,t,s=>s.map(o=>Zt(this,o)),arguments)},find(e,t){return Dt(this,"find",e,t,s=>Zt(this,s),arguments)},findIndex(e,t){return Dt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Dt(this,"findLast",e,t,s=>Zt(this,s),arguments)},findLastIndex(e,t){return Dt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Dt(this,"forEach",e,t,void 0,arguments)},includes(...e){return ro(this,"includes",e)},indexOf(...e){return ro(this,"indexOf",e)},join(e){return vs(this).join(e)},lastIndexOf(...e){return ro(this,"lastIndexOf",e)},map(e,t){return Dt(this,"map",e,t,void 0,arguments)},pop(){return Ms(this,"pop")},push(...e){return Ms(this,"push",e)},reduce(e,...t){return cr(this,"reduce",e,t)},reduceRight(e,...t){return cr(this,"reduceRight",e,t)},shift(){return Ms(this,"shift")},some(e,t){return Dt(this,"some",e,t,void 0,arguments)},splice(...e){return Ms(this,"splice",e)},toReversed(){return vs(this).toReversed()},toSorted(e){return vs(this).toSorted(e)},toSpliced(...e){return vs(this).toSpliced(...e)},unshift(...e){return Ms(this,"unshift",e)},values(){return oo(this,"values",e=>Zt(this,e))}};function oo(e,t,s){const o=Fn(e),r=o[t]();return o!==e&&!ht(e)&&(r._next=r.next,r.next=()=>{const l=r._next();return l.done||(l.value=s(l.value)),l}),r}const Sa=Array.prototype;function Dt(e,t,s,o,r,l){const a=Fn(e),u=a!==e&&!ht(e),c=a[t];if(c!==Sa[t]){const d=c.apply(e,l);return u?kt(d):d}let f=s;a!==e&&(u?f=function(d,x){return s.call(this,Zt(e,d),x,e)}:s.length>2&&(f=function(d,x){return s.call(this,d,x,e)}));const p=c.call(a,f,o);return u&&r?r(p):p}function cr(e,t,s,o){const r=Fn(e);let l=s;return r!==e&&(ht(e)?s.length>3&&(l=function(a,u,c){return s.call(this,a,u,c,e)}):l=function(a,u,c){return s.call(this,a,Zt(e,u),c,e)}),r[t](l,...o)}function ro(e,t,s){const o=Ie(e);ot(o,"iterate",Zs);const r=o[t](...s);return(r===-1||r===!1)&&Vn(s[0])?(s[0]=Ie(s[0]),o[t](...s)):r}function Ms(e,t,s=[]){Wt(),Do();const o=Ie(e)[t].apply(e,s);return Mo(),qt(),o}const $a=To("__proto__,__v_isRef,__isVue"),$l=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Tt));function Ca(e){Tt(e)||(e=String(e));const t=Ie(this);return ot(t,"has",e),t.hasOwnProperty(e)}class Cl{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,o){if(s==="__v_skip")return t.__v_skip;const r=this._isReadonly,l=this._isShallow;if(s==="__v_isReactive")return!r;if(s==="__v_isReadonly")return r;if(s==="__v_isShallow")return l;if(s==="__v_raw")return o===(r?l?Da:Il:l?Pl:El).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const a=de(t);if(!r){let c;if(a&&(c=ka[s]))return c;if(s==="hasOwnProperty")return Ca}const u=Reflect.get(t,s,He(t)?t:o);if((Tt(s)?$l.has(s):$a(s))||(r||ot(t,"get",s),l))return u;if(He(u)){const c=a&&Ln(s)?u:u.value;return r&&Oe(c)?xo(c):c}return Oe(u)?r?xo(u):rt(u):u}}class Al extends Cl{constructor(t=!1){super(!1,t)}set(t,s,o,r){let l=t[s];const a=de(t)&&Ln(s);if(!this._isShallow){const f=Kt(l);if(!ht(o)&&!Kt(o)&&(l=Ie(l),o=Ie(o)),!a&&He(l)&&!He(o))return f||(l.value=o),!0}const u=a?Number(s)<t.length:Te(t,s),c=Reflect.set(t,s,o,He(t)?t:r);return t===Ie(r)&&(u?ns(o,l)&&Ft(t,"set",s,o):Ft(t,"add",s,o)),c}deleteProperty(t,s){const o=Te(t,s);t[s];const r=Reflect.deleteProperty(t,s);return r&&o&&Ft(t,"delete",s,void 0),r}has(t,s){const o=Reflect.has(t,s);return(!Tt(s)||!$l.has(s))&&ot(t,"has",s),o}ownKeys(t){return ot(t,"iterate",de(t)?"length":gs),Reflect.ownKeys(t)}}class Aa extends Cl{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Ea=new Al,Pa=new Aa,Ia=new Al(!0);const yo=e=>e,vn=e=>Reflect.getPrototypeOf(e);function Ra(e,t,s){return function(...o){const r=this.__v_raw,l=Ie(r),a=ws(l),u=e==="entries"||e===Symbol.iterator&&a,c=e==="keys"&&a,f=r[e](...o),p=s?yo:t?$s:kt;return!t&&ot(l,"iterate",c?vo:gs),et(Object.create(f),{next(){const{value:d,done:x}=f.next();return x?{value:d,done:x}:{value:u?[p(d[0]),p(d[1])]:p(d),done:x}}})}}function yn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Ta(e,t){const s={get(r){const l=this.__v_raw,a=Ie(l),u=Ie(r);e||(ns(r,u)&&ot(a,"get",r),ot(a,"get",u));const{has:c}=vn(a),f=t?yo:e?$s:kt;if(c.call(a,r))return f(l.get(r));if(c.call(a,u))return f(l.get(u));l!==a&&l.get(r)},get size(){const r=this.__v_raw;return!e&&ot(Ie(r),"iterate",gs),r.size},has(r){const l=this.__v_raw,a=Ie(l),u=Ie(r);return e||(ns(r,u)&&ot(a,"has",r),ot(a,"has",u)),r===u?l.has(r):l.has(r)||l.has(u)},forEach(r,l){const a=this,u=a.__v_raw,c=Ie(u),f=t?yo:e?$s:kt;return!e&&ot(c,"iterate",gs),u.forEach((p,d)=>r.call(l,f(p),f(d),a))}};return et(s,e?{add:yn("add"),set:yn("set"),delete:yn("delete"),clear:yn("clear")}:{add(r){!t&&!ht(r)&&!Kt(r)&&(r=Ie(r));const l=Ie(this);return vn(l).has.call(l,r)||(l.add(r),Ft(l,"add",r,r)),this},set(r,l){!t&&!ht(l)&&!Kt(l)&&(l=Ie(l));const a=Ie(this),{has:u,get:c}=vn(a);let f=u.call(a,r);f||(r=Ie(r),f=u.call(a,r));const p=c.call(a,r);return a.set(r,l),f?ns(l,p)&&Ft(a,"set",r,l):Ft(a,"add",r,l),this},delete(r){const l=Ie(this),{has:a,get:u}=vn(l);let c=a.call(l,r);c||(r=Ie(r),c=a.call(l,r)),u&&u.call(l,r);const f=l.delete(r);return c&&Ft(l,"delete",r,void 0),f},clear(){const r=Ie(this),l=r.size!==0,a=r.clear();return l&&Ft(r,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(r=>{s[r]=Ra(r,e,t)}),s}function Fo(e,t){const s=Ta(e,t);return(o,r,l)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?o:Reflect.get(Te(s,r)&&r in o?s:o,r,l)}const Oa={get:Fo(!1,!1)},Na={get:Fo(!1,!0)},La={get:Fo(!0,!1)};const El=new WeakMap,Pl=new WeakMap,Il=new WeakMap,Da=new WeakMap;function Ma(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ja(e){return e.__v_skip||!Object.isExtensible(e)?0:Ma(ua(e))}function rt(e){return Kt(e)?e:Vo(e,!1,Ea,Oa,El)}function Rl(e){return Vo(e,!1,Ia,Na,Pl)}function xo(e){return Vo(e,!0,Pa,La,Il)}function Vo(e,t,s,o,r){if(!Oe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const l=ja(e);if(l===0)return e;const a=r.get(e);if(a)return a;const u=new Proxy(e,l===2?o:s);return r.set(e,u),u}function Ht(e){return Kt(e)?Ht(e.__v_raw):!!(e&&e.__v_isReactive)}function Kt(e){return!!(e&&e.__v_isReadonly)}function ht(e){return!!(e&&e.__v_isShallow)}function Vn(e){return e?!!e.__v_raw:!1}function Ie(e){const t=e&&e.__v_raw;return t?Ie(t):e}function Bo(e){return!Te(e,"__v_skip")&&Object.isExtensible(e)&&cl(e,"__v_skip",!0),e}const kt=e=>Oe(e)?rt(e):e,$s=e=>Oe(e)?xo(e):e;function He(e){return e?e.__v_isRef===!0:!1}function V(e){return Tl(e,!1)}function Ua(e){return Tl(e,!0)}function Tl(e,t){return He(e)?e:new Fa(e,t)}class Fa{constructor(t,s){this.dep=new Uo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:Ie(t),this._value=s?t:kt(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,o=this.__v_isShallow||ht(t)||Kt(t);t=o?t:Ie(t),ns(t,s)&&(this._rawValue=t,this._value=o?t:kt(t),this.dep.trigger())}}function Me(e){return He(e)?e.value:e}const Va={get:(e,t,s)=>t==="__v_raw"?e:Me(Reflect.get(e,t,s)),set:(e,t,s,o)=>{const r=e[t];return He(r)&&!He(s)?(r.value=s,!0):Reflect.set(e,t,s,o)}};function Ol(e){return Ht(e)?e:new Proxy(e,Va)}function Ba(e){const t=de(e)?new Array(e.length):{};for(const s in e)t[s]=za(e,s);return t}class Ha{constructor(t,s,o){this._object=t,this._key=s,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0,this._raw=Ie(t);let r=!0,l=t;if(!de(t)||!Ln(String(s)))do r=!Vn(l)||ht(l);while(r&&(l=l.__v_raw));this._shallow=r}get value(){let t=this._object[this._key];return this._shallow&&(t=Me(t)),this._value=t===void 0?this._defaultValue:t}set value(t){if(this._shallow&&He(this._raw[this._key])){const s=this._object[this._key];if(He(s)){s.value=t;return}}this._object[this._key]=t}get dep(){return wa(this._raw,this._key)}}function za(e,t,s){return new Ha(e,t,s)}class Wa{constructor(t,s,o){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Uo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Qs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&De!==this)return xl(this,!0),!0}get value(){const t=this.dep.track();return wl(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function qa(e,t,s=!1){let o,r;return ye(e)?o=e:(o=e.get,r=e.set),new Wa(o,r,s)}const xn={},Cn=new WeakMap;let fs;function Ka(e,t=!1,s=fs){if(s){let o=Cn.get(s);o||Cn.set(s,o=[]),o.push(e)}}function Ja(e,t,s=Le){const{immediate:o,deep:r,once:l,scheduler:a,augmentJob:u,call:c}=s,f=T=>r?T:ht(T)||r===!1||r===0?Vt(T,1):Vt(T);let p,d,x,_,j=!1,W=!1;if(He(e)?(d=()=>e.value,j=ht(e)):Ht(e)?(d=()=>f(e),j=!0):de(e)?(W=!0,j=e.some(T=>Ht(T)||ht(T)),d=()=>e.map(T=>{if(He(T))return T.value;if(Ht(T))return f(T);if(ye(T))return c?c(T,2):T()})):ye(e)?t?d=c?()=>c(e,2):e:d=()=>{if(x){Wt();try{x()}finally{qt()}}const T=fs;fs=p;try{return c?c(e,3,[_]):e(_)}finally{fs=T}}:d=Rt,t&&r){const T=d,L=r===!0?1/0:r;d=()=>Vt(T(),L)}const X=hl(),B=()=>{p.stop(),X&&X.active&&No(X.effects,p)};if(l&&t){const T=t;t=(...L)=>{T(...L),B()}}let I=W?new Array(e.length).fill(xn):xn;const O=T=>{if(!(!(p.flags&1)||!p.dirty&&!T))if(t){const L=p.run();if(r||j||(W?L.some((xe,N)=>ns(xe,I[N])):ns(L,I))){x&&x();const xe=fs;fs=p;try{const N=[L,I===xn?void 0:W&&I[0]===xn?[]:I,_];I=L,c?c(t,3,N):t(...N)}finally{fs=xe}}}else p.run()};return u&&u(O),p=new vl(d),p.scheduler=a?()=>a(O,!1):O,_=T=>Ka(T,!1,p),x=p.onStop=()=>{const T=Cn.get(p);if(T){if(c)c(T,4);else for(const L of T)L();Cn.delete(p)}},t?o?O(!0):I=p.run():a?a(O.bind(null,!0),!0):p.run(),B.pause=p.pause.bind(p),B.resume=p.resume.bind(p),B.stop=B,B}function Vt(e,t=1/0,s){if(t<=0||!Oe(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,He(e))Vt(e.value,t,s);else if(de(e))for(let o=0;o<e.length;o++)Vt(e[o],t,s);else if(Rs(e)||ws(e))e.forEach(o=>{Vt(o,t,s)});else if(ul(e)){for(const o in e)Vt(e[o],t,s);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&Vt(e[o],t,s)}return e}function an(e,t,s,o){try{return o?e(...o):e()}catch(r){Bn(r,t,s)}}function Ot(e,t,s,o){if(ye(e)){const r=an(e,t,s,o);return r&&il(r)&&r.catch(l=>{Bn(l,t,s)}),r}if(de(e)){const r=[];for(let l=0;l<e.length;l++)r.push(Ot(e[l],t,s,o));return r}}function Bn(e,t,s,o=!0){const r=t?t.vnode:null,{errorHandler:l,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||Le;if(t){let u=t.parent;const c=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${s}`;for(;u;){const p=u.ec;if(p){for(let d=0;d<p.length;d++)if(p[d](e,c,f)===!1)return}u=u.parent}if(l){Wt(),an(l,null,10,[e,c,f]),qt();return}}Ga(e,s,r,o,a)}function Ga(e,t,s,o=!0,r=!1){if(r)throw e;console.error(e)}const ut=[];let Pt=-1;const ks=[];let es=null,xs=0;const Nl=Promise.resolve();let An=null;function Cs(e){const t=An||Nl;return e?t.then(this?e.bind(this):e):t}function Ya(e){let t=Pt+1,s=ut.length;for(;t<s;){const o=t+s>>>1,r=ut[o],l=en(r);l<e||l===e&&r.flags&2?t=o+1:s=o}return t}function Ho(e){if(!(e.flags&1)){const t=en(e),s=ut[ut.length-1];!s||!(e.flags&2)&&t>=en(s)?ut.push(e):ut.splice(Ya(t),0,e),e.flags|=1,Ll()}}function Ll(){An||(An=Nl.then(Ml))}function Xa(e){de(e)?ks.push(...e):es&&e.id===-1?es.splice(xs+1,0,e):e.flags&1||(ks.push(e),e.flags|=1),Ll()}function dr(e,t,s=Pt+1){for(;s<ut.length;s++){const o=ut[s];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;ut.splice(s,1),s--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function Dl(e){if(ks.length){const t=[...new Set(ks)].sort((s,o)=>en(s)-en(o));if(ks.length=0,es){es.push(...t);return}for(es=t,xs=0;xs<es.length;xs++){const s=es[xs];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}es=null,xs=0}}const en=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Ml(e){try{for(Pt=0;Pt<ut.length;Pt++){const t=ut[Pt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),an(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Pt<ut.length;Pt++){const t=ut[Pt];t&&(t.flags&=-2)}Pt=-1,ut.length=0,Dl(),An=null,(ut.length||ks.length)&&Ml()}}let gt=null,jl=null;function En(e){const t=gt;return gt=e,jl=e&&e.type.__scopeId||null,t}function Ue(e,t=gt,s){if(!t||e._n)return e;const o=(...r)=>{o._d&&Rn(-1);const l=En(t);let a;try{a=e(...r)}finally{En(l),o._d&&Rn(1)}return a};return o._n=!0,o._c=!0,o._d=!0,o}function ne(e,t){if(gt===null)return e;const s=Kn(gt),o=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[l,a,u,c=Le]=t[r];l&&(ye(l)&&(l={mounted:l,updated:l}),l.deep&&Vt(a),o.push({dir:l,instance:s,value:a,oldValue:void 0,arg:u,modifiers:c}))}return e}function cs(e,t,s,o){const r=e.dirs,l=t&&t.dirs;for(let a=0;a<r.length;a++){const u=r[a];l&&(u.oldValue=l[a].value);let c=u.dir[o];c&&(Wt(),Ot(c,s,8,[e.el,u,e,t]),qt())}}function _n(e,t){if(lt){let s=lt.provides;const o=lt.parent&&lt.parent.provides;o===s&&(s=lt.provides=Object.create(o)),s[e]=t}}function xt(e,t,s=!1){const o=di();if(o||ms){let r=ms?ms._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return s&&ye(t)?t.call(o&&o.proxy):t}}function Qa(){return!!(di()||ms)}const Za=Symbol.for("v-scx"),eu=()=>xt(Za);function bt(e,t,s){return Ul(e,t,s)}function Ul(e,t,s=Le){const{immediate:o,deep:r,flush:l,once:a}=s,u=et({},s),c=t&&o||!t&&l!=="post";let f;if(sn){if(l==="sync"){const _=eu();f=_.__watcherHandles||(_.__watcherHandles=[])}else if(!c){const _=()=>{};return _.stop=Rt,_.resume=Rt,_.pause=Rt,_}}const p=lt;u.call=(_,j,W)=>Ot(_,p,j,W);let d=!1;l==="post"?u.scheduler=_=>{ft(_,p&&p.suspense)}:l!=="sync"&&(d=!0,u.scheduler=(_,j)=>{j?_():Ho(_)}),u.augmentJob=_=>{t&&(_.flags|=4),d&&(_.flags|=2,p&&(_.id=p.uid,_.i=p))};const x=Ja(e,t,u);return sn&&(f?f.push(x):c&&x()),x}function tu(e,t,s){const o=this.proxy,r=We(e)?e.includes(".")?Fl(o,e):()=>o[e]:e.bind(o,o);let l;ye(t)?l=t:(l=t.handler,s=t);const a=un(this),u=Ul(r,l.bind(o),s);return a(),u}function Fl(e,t){const s=t.split(".");return()=>{let o=e;for(let r=0;r<s.length&&o;r++)o=o[s[r]];return o}}const su=Symbol("_vte"),nu=e=>e.__isTeleport,ou=Symbol("_leaveCb");function zo(e,t){e.shapeFlag&6&&e.component?(e.transition=t,zo(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Vl(e,t){return ye(e)?et({name:e.name},t,{setup:e}):e}function Bl(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function fr(e,t){let s;return!!((s=Object.getOwnPropertyDescriptor(e,t))&&!s.configurable)}const Pn=new WeakMap;function qs(e,t,s,o,r=!1){if(de(e)){e.forEach((W,X)=>qs(W,t&&(de(t)?t[X]:t),s,o,r));return}if(Ks(o)&&!r){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&qs(e,t,s,o.component.subTree);return}const l=o.shapeFlag&4?Kn(o.component):o.el,a=r?null:l,{i:u,r:c}=e,f=t&&t.r,p=u.refs===Le?u.refs={}:u.refs,d=u.setupState,x=Ie(d),_=d===Le?ll:W=>fr(p,W)?!1:Te(x,W),j=(W,X)=>!(X&&fr(p,X));if(f!=null&&f!==c){if(pr(t),We(f))p[f]=null,_(f)&&(d[f]=null);else if(He(f)){const W=t;j(f,W.k)&&(f.value=null),W.k&&(p[W.k]=null)}}if(ye(c))an(c,u,12,[a,p]);else{const W=We(c),X=He(c);if(W||X){const B=()=>{if(e.f){const I=W?_(c)?d[c]:p[c]:j()||!e.k?c.value:p[e.k];if(r)de(I)&&No(I,l);else if(de(I))I.includes(l)||I.push(l);else if(W)p[c]=[l],_(c)&&(d[c]=p[c]);else{const O=[l];j(c,e.k)&&(c.value=O),e.k&&(p[e.k]=O)}}else W?(p[c]=a,_(c)&&(d[c]=a)):X&&(j(c,e.k)&&(c.value=a),e.k&&(p[e.k]=a))};if(a){const I=()=>{B(),Pn.delete(e)};I.id=-1,Pn.set(e,I),ft(I,s)}else pr(e),B()}}}function pr(e){const t=Pn.get(e);t&&(t.flags|=8,Pn.delete(e))}Un().requestIdleCallback;Un().cancelIdleCallback;const Ks=e=>!!e.type.__asyncLoader,Hl=e=>e.type.__isKeepAlive;function zl(e,t){Wl(e,"a",t)}function ru(e,t){Wl(e,"da",t)}function Wl(e,t,s=lt){const o=e.__wdc||(e.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Hn(t,o,s),s){let r=s.parent;for(;r&&r.parent;)Hl(r.parent.vnode)&&lu(o,t,s,r),r=r.parent}}function lu(e,t,s,o){const r=Hn(t,e,o,!0);Wo(()=>{No(o[t],r)},s)}function Hn(e,t,s=lt,o=!1){if(s){const r=s[e]||(s[e]=[]),l=t.__weh||(t.__weh=(...a)=>{Wt();const u=un(s),c=Ot(t,s,e,a);return u(),qt(),c});return o?r.unshift(l):r.push(l),l}}const Jt=e=>(t,s=lt)=>{(!sn||e==="sp")&&Hn(e,(...o)=>t(...o),s)},iu=Jt("bm"),vt=Jt("m"),au=Jt("bu"),uu=Jt("u"),zn=Jt("bum"),Wo=Jt("um"),cu=Jt("sp"),du=Jt("rtg"),fu=Jt("rtc");function pu(e,t=lt){Hn("ec",e,t)}const gu="components";function Nt(e,t){return hu(gu,e,!0,t)||e}const mu=Symbol.for("v-ndc");function hu(e,t,s=!0,o=!1){const r=gt||lt;if(r){const l=r.type;{const u=ec(l,!1);if(u&&(u===t||u===_t(t)||u===Mn(_t(t))))return l}const a=gr(r[e]||l[e],t)||gr(r.appContext[e],t);return!a&&o?l:a}}function gr(e,t){return e&&(e[t]||e[_t(t)]||e[Mn(_t(t))])}function $e(e,t,s,o){let r;const l=s,a=de(e);if(a||We(e)){const u=a&&Ht(e);let c=!1,f=!1;u&&(c=!ht(e),f=Kt(e),e=Fn(e)),r=new Array(e.length);for(let p=0,d=e.length;p<d;p++)r[p]=t(c?f?$s(kt(e[p])):kt(e[p]):e[p],p,void 0,l)}else if(typeof e=="number"){r=new Array(e);for(let u=0;u<e;u++)r[u]=t(u+1,u,void 0,l)}else if(Oe(e))if(e[Symbol.iterator])r=Array.from(e,(u,c)=>t(u,c,void 0,l));else{const u=Object.keys(e);r=new Array(u.length);for(let c=0,f=u.length;c<f;c++){const p=u[c];r[c]=t(e[p],p,c,l)}}else r=[];return r}const bo=e=>e?fi(e)?Kn(e):bo(e.parent):null,Js=et(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>bo(e.parent),$root:e=>bo(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Kl(e),$forceUpdate:e=>e.f||(e.f=()=>{Ho(e.update)}),$nextTick:e=>e.n||(e.n=Cs.bind(e.proxy)),$watch:e=>tu.bind(e)}),lo=(e,t)=>e!==Le&&!e.__isScriptSetup&&Te(e,t),vu={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:o,data:r,props:l,accessCache:a,type:u,appContext:c}=e;if(t[0]!=="$"){const x=a[t];if(x!==void 0)switch(x){case 1:return o[t];case 2:return r[t];case 4:return s[t];case 3:return l[t]}else{if(lo(o,t))return a[t]=1,o[t];if(r!==Le&&Te(r,t))return a[t]=2,r[t];if(Te(l,t))return a[t]=3,l[t];if(s!==Le&&Te(s,t))return a[t]=4,s[t];_o&&(a[t]=0)}}const f=Js[t];let p,d;if(f)return t==="$attrs"&&ot(e.attrs,"get",""),f(e);if((p=u.__cssModules)&&(p=p[t]))return p;if(s!==Le&&Te(s,t))return a[t]=4,s[t];if(d=c.config.globalProperties,Te(d,t))return d[t]},set({_:e},t,s){const{data:o,setupState:r,ctx:l}=e;return lo(r,t)?(r[t]=s,!0):o!==Le&&Te(o,t)?(o[t]=s,!0):Te(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(l[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:o,appContext:r,props:l,type:a}},u){let c;return!!(s[u]||e!==Le&&u[0]!=="$"&&Te(e,u)||lo(t,u)||Te(l,u)||Te(o,u)||Te(Js,u)||Te(r.config.globalProperties,u)||(c=a.__cssModules)&&c[u])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Te(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function mr(e){return de(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let _o=!0;function yu(e){const t=Kl(e),s=e.proxy,o=e.ctx;_o=!1,t.beforeCreate&&hr(t.beforeCreate,e,"bc");const{data:r,computed:l,methods:a,watch:u,provide:c,inject:f,created:p,beforeMount:d,mounted:x,beforeUpdate:_,updated:j,activated:W,deactivated:X,beforeDestroy:B,beforeUnmount:I,destroyed:O,unmounted:T,render:L,renderTracked:xe,renderTriggered:N,errorCaptured:J,serverPrefetch:Q,expose:le,inheritAttrs:ie,components:_e,directives:we,filters:qe}=t;if(f&&xu(f,o,null),a)for(const ae in a){const ke=a[ae];ye(ke)&&(o[ae]=ke.bind(s))}if(r){const ae=r.call(s,s);Oe(ae)&&(e.data=rt(ae))}if(_o=!0,l)for(const ae in l){const ke=l[ae],Ge=ye(ke)?ke.bind(s,s):ye(ke.get)?ke.get.bind(s,s):Rt,tt=!ye(ke)&&ye(ke.set)?ke.set.bind(s):Rt,Fe=ve({get:Ge,set:tt});Object.defineProperty(o,ae,{enumerable:!0,configurable:!0,get:()=>Fe.value,set:Ve=>Fe.value=Ve})}if(u)for(const ae in u)ql(u[ae],o,s,ae);if(c){const ae=ye(c)?c.call(s):c;Reflect.ownKeys(ae).forEach(ke=>{_n(ke,ae[ke])})}p&&hr(p,e,"c");function Pe(ae,ke){de(ke)?ke.forEach(Ge=>ae(Ge.bind(s))):ke&&ae(ke.bind(s))}if(Pe(iu,d),Pe(vt,x),Pe(au,_),Pe(uu,j),Pe(zl,W),Pe(ru,X),Pe(pu,J),Pe(fu,xe),Pe(du,N),Pe(zn,I),Pe(Wo,T),Pe(cu,Q),de(le))if(le.length){const ae=e.exposed||(e.exposed={});le.forEach(ke=>{Object.defineProperty(ae,ke,{get:()=>s[ke],set:Ge=>s[ke]=Ge,enumerable:!0})})}else e.exposed||(e.exposed={});L&&e.render===Rt&&(e.render=L),ie!=null&&(e.inheritAttrs=ie),_e&&(e.components=_e),we&&(e.directives=we),Q&&Bl(e)}function xu(e,t,s=Rt){de(e)&&(e=wo(e));for(const o in e){const r=e[o];let l;Oe(r)?"default"in r?l=xt(r.from||o,r.default,!0):l=xt(r.from||o):l=xt(r),He(l)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>l.value,set:a=>l.value=a}):t[o]=l}}function hr(e,t,s){Ot(de(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,s)}function ql(e,t,s,o){let r=o.includes(".")?Fl(s,o):()=>s[o];if(We(e)){const l=t[e];ye(l)&&bt(r,l)}else if(ye(e))bt(r,e.bind(s));else if(Oe(e))if(de(e))e.forEach(l=>ql(l,t,s,o));else{const l=ye(e.handler)?e.handler.bind(s):t[e.handler];ye(l)&&bt(r,l,e)}}function Kl(e){const t=e.type,{mixins:s,extends:o}=t,{mixins:r,optionsCache:l,config:{optionMergeStrategies:a}}=e.appContext,u=l.get(t);let c;return u?c=u:!r.length&&!s&&!o?c=t:(c={},r.length&&r.forEach(f=>In(c,f,a,!0)),In(c,t,a)),Oe(t)&&l.set(t,c),c}function In(e,t,s,o=!1){const{mixins:r,extends:l}=t;l&&In(e,l,s,!0),r&&r.forEach(a=>In(e,a,s,!0));for(const a in t)if(!(o&&a==="expose")){const u=bu[a]||s&&s[a];e[a]=u?u(e[a],t[a]):t[a]}return e}const bu={data:vr,props:yr,emits:yr,methods:Fs,computed:Fs,beforeCreate:it,created:it,beforeMount:it,mounted:it,beforeUpdate:it,updated:it,beforeDestroy:it,beforeUnmount:it,destroyed:it,unmounted:it,activated:it,deactivated:it,errorCaptured:it,serverPrefetch:it,components:Fs,directives:Fs,watch:wu,provide:vr,inject:_u};function vr(e,t){return t?e?function(){return et(ye(e)?e.call(this,this):e,ye(t)?t.call(this,this):t)}:t:e}function _u(e,t){return Fs(wo(e),wo(t))}function wo(e){if(de(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function it(e,t){return e?[...new Set([].concat(e,t))]:t}function Fs(e,t){return e?et(Object.create(null),e,t):t}function yr(e,t){return e?de(e)&&de(t)?[...new Set([...e,...t])]:et(Object.create(null),mr(e),mr(t??{})):t}function wu(e,t){if(!e)return t;if(!t)return e;const s=et(Object.create(null),e);for(const o in t)s[o]=it(e[o],t[o]);return s}function Jl(){return{app:null,config:{isNativeTag:ll,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ku=0;function Su(e,t){return function(o,r=null){ye(o)||(o=et({},o)),r!=null&&!Oe(r)&&(r=null);const l=Jl(),a=new WeakSet,u=[];let c=!1;const f=l.app={_uid:ku++,_component:o,_props:r,_container:null,_context:l,_instance:null,version:sc,get config(){return l.config},set config(p){},use(p,...d){return a.has(p)||(p&&ye(p.install)?(a.add(p),p.install(f,...d)):ye(p)&&(a.add(p),p(f,...d))),f},mixin(p){return l.mixins.includes(p)||l.mixins.push(p),f},component(p,d){return d?(l.components[p]=d,f):l.components[p]},directive(p,d){return d?(l.directives[p]=d,f):l.directives[p]},mount(p,d,x){if(!c){const _=f._ceVNode||Ee(o,r);return _.appContext=l,x===!0?x="svg":x===!1&&(x=void 0),e(_,p,x),c=!0,f._container=p,p.__vue_app__=f,Kn(_.component)}},onUnmount(p){u.push(p)},unmount(){c&&(Ot(u,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(p,d){return l.provides[p]=d,f},runWithContext(p){const d=ms;ms=f;try{return p()}finally{ms=d}}};return f}}let ms=null;const $u=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${_t(t)}Modifiers`]||e[`${rs(t)}Modifiers`];function Cu(e,t,...s){if(e.isUnmounted)return;const o=e.vnode.props||Le;let r=s;const l=t.startsWith("update:"),a=l&&$u(o,t.slice(7));a&&(a.trim&&(r=s.map(p=>We(p)?p.trim():p)),a.number&&(r=s.map(jn)));let u,c=o[u=to(t)]||o[u=to(_t(t))];!c&&l&&(c=o[u=to(rs(t))]),c&&Ot(c,e,6,r);const f=o[u+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,Ot(f,e,6,r)}}const Au=new WeakMap;function Gl(e,t,s=!1){const o=s?Au:t.emitsCache,r=o.get(e);if(r!==void 0)return r;const l=e.emits;let a={},u=!1;if(!ye(e)){const c=f=>{const p=Gl(f,t,!0);p&&(u=!0,et(a,p))};!s&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!l&&!u?(Oe(e)&&o.set(e,null),null):(de(l)?l.forEach(c=>a[c]=null):et(a,l),Oe(e)&&o.set(e,a),a)}function Wn(e,t){return!e||!Nn(t)?!1:(t=t.slice(2).replace(/Once$/,""),Te(e,t[0].toLowerCase()+t.slice(1))||Te(e,rs(t))||Te(e,t))}function xr(e){const{type:t,vnode:s,proxy:o,withProxy:r,propsOptions:[l],slots:a,attrs:u,emit:c,render:f,renderCache:p,props:d,data:x,setupState:_,ctx:j,inheritAttrs:W}=e,X=En(e);let B,I;try{if(s.shapeFlag&4){const T=r||o,L=T;B=It(f.call(L,T,p,d,_,x,j)),I=u}else{const T=t;B=It(T.length>1?T(d,{attrs:u,slots:a,emit:c}):T(d,null)),I=t.props?u:Eu(u)}}catch(T){Gs.length=0,Bn(T,e,1),B=Ee(os)}let O=B;if(I&&W!==!1){const T=Object.keys(I),{shapeFlag:L}=O;T.length&&L&7&&(l&&T.some(Oo)&&(I=Pu(I,l)),O=As(O,I,!1,!0))}return s.dirs&&(O=As(O,null,!1,!0),O.dirs=O.dirs?O.dirs.concat(s.dirs):s.dirs),s.transition&&zo(O,s.transition),B=O,En(X),B}const Eu=e=>{let t;for(const s in e)(s==="class"||s==="style"||Nn(s))&&((t||(t={}))[s]=e[s]);return t},Pu=(e,t)=>{const s={};for(const o in e)(!Oo(o)||!(o.slice(9)in t))&&(s[o]=e[o]);return s};function Iu(e,t,s){const{props:o,children:r,component:l}=e,{props:a,children:u,patchFlag:c}=t,f=l.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&c>=0){if(c&1024)return!0;if(c&16)return o?br(o,a,f):!!a;if(c&8){const p=t.dynamicProps;for(let d=0;d<p.length;d++){const x=p[d];if(Yl(a,o,x)&&!Wn(f,x))return!0}}}else return(r||u)&&(!u||!u.$stable)?!0:o===a?!1:o?a?br(o,a,f):!0:!!a;return!1}function br(e,t,s){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let r=0;r<o.length;r++){const l=o[r];if(Yl(t,e,l)&&!Wn(s,l))return!0}return!1}function Yl(e,t,s){const o=e[s],r=t[s];return s==="style"&&Oe(o)&&Oe(r)?!Ts(o,r):o!==r}function Ru({vnode:e,parent:t},s){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=s,t=t.parent;else break}}const Xl={},Ql=()=>Object.create(Xl),Zl=e=>Object.getPrototypeOf(e)===Xl;function Tu(e,t,s,o=!1){const r={},l=Ql();e.propsDefaults=Object.create(null),ei(e,t,r,l);for(const a in e.propsOptions[0])a in r||(r[a]=void 0);s?e.props=o?r:Rl(r):e.type.props?e.props=r:e.props=l,e.attrs=l}function Ou(e,t,s,o){const{props:r,attrs:l,vnode:{patchFlag:a}}=e,u=Ie(r),[c]=e.propsOptions;let f=!1;if((o||a>0)&&!(a&16)){if(a&8){const p=e.vnode.dynamicProps;for(let d=0;d<p.length;d++){let x=p[d];if(Wn(e.emitsOptions,x))continue;const _=t[x];if(c)if(Te(l,x))_!==l[x]&&(l[x]=_,f=!0);else{const j=_t(x);r[j]=ko(c,u,j,_,e,!1)}else _!==l[x]&&(l[x]=_,f=!0)}}}else{ei(e,t,r,l)&&(f=!0);let p;for(const d in u)(!t||!Te(t,d)&&((p=rs(d))===d||!Te(t,p)))&&(c?s&&(s[d]!==void 0||s[p]!==void 0)&&(r[d]=ko(c,u,d,void 0,e,!0)):delete r[d]);if(l!==u)for(const d in l)(!t||!Te(t,d))&&(delete l[d],f=!0)}f&&Ft(e.attrs,"set","")}function ei(e,t,s,o){const[r,l]=e.propsOptions;let a=!1,u;if(t)for(let c in t){if(Hs(c))continue;const f=t[c];let p;r&&Te(r,p=_t(c))?!l||!l.includes(p)?s[p]=f:(u||(u={}))[p]=f:Wn(e.emitsOptions,c)||(!(c in o)||f!==o[c])&&(o[c]=f,a=!0)}if(l){const c=Ie(s),f=u||Le;for(let p=0;p<l.length;p++){const d=l[p];s[d]=ko(r,c,d,f[d],e,!Te(f,d))}}return a}function ko(e,t,s,o,r,l){const a=e[s];if(a!=null){const u=Te(a,"default");if(u&&o===void 0){const c=a.default;if(a.type!==Function&&!a.skipFactory&&ye(c)){const{propsDefaults:f}=r;if(s in f)o=f[s];else{const p=un(r);o=f[s]=c.call(null,t),p()}}else o=c;r.ce&&r.ce._setProp(s,o)}a[0]&&(l&&!u?o=!1:a[1]&&(o===""||o===rs(s))&&(o=!0))}return o}const Nu=new WeakMap;function ti(e,t,s=!1){const o=s?Nu:t.propsCache,r=o.get(e);if(r)return r;const l=e.props,a={},u=[];let c=!1;if(!ye(e)){const p=d=>{c=!0;const[x,_]=ti(d,t,!0);et(a,x),_&&u.push(..._)};!s&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}if(!l&&!c)return Oe(e)&&o.set(e,_s),_s;if(de(l))for(let p=0;p<l.length;p++){const d=_t(l[p]);_r(d)&&(a[d]=Le)}else if(l)for(const p in l){const d=_t(p);if(_r(d)){const x=l[p],_=a[d]=de(x)||ye(x)?{type:x}:et({},x),j=_.type;let W=!1,X=!0;if(de(j))for(let B=0;B<j.length;++B){const I=j[B],O=ye(I)&&I.name;if(O==="Boolean"){W=!0;break}else O==="String"&&(X=!1)}else W=ye(j)&&j.name==="Boolean";_[0]=W,_[1]=X,(W||Te(_,"default"))&&u.push(d)}}const f=[a,u];return Oe(e)&&o.set(e,f),f}function _r(e){return e[0]!=="$"&&!Hs(e)}const qo=e=>e==="_"||e==="_ctx"||e==="$stable",Ko=e=>de(e)?e.map(It):[It(e)],Lu=(e,t,s)=>{if(t._n)return t;const o=Ue((...r)=>Ko(t(...r)),s);return o._c=!1,o},si=(e,t,s)=>{const o=e._ctx;for(const r in e){if(qo(r))continue;const l=e[r];if(ye(l))t[r]=Lu(r,l,o);else if(l!=null){const a=Ko(l);t[r]=()=>a}}},ni=(e,t)=>{const s=Ko(t);e.slots.default=()=>s},oi=(e,t,s)=>{for(const o in t)(s||!qo(o))&&(e[o]=t[o])},Du=(e,t,s)=>{const o=e.slots=Ql();if(e.vnode.shapeFlag&32){const r=t._;r?(oi(o,t,s),s&&cl(o,"_",r,!0)):si(t,o)}else t&&ni(e,t)},Mu=(e,t,s)=>{const{vnode:o,slots:r}=e;let l=!0,a=Le;if(o.shapeFlag&32){const u=t._;u?s&&u===1?l=!1:oi(r,t,s):(l=!t.$stable,si(t,r)),a=t}else t&&(ni(e,t),a={default:1});if(l)for(const u in r)!qo(u)&&a[u]==null&&delete r[u]},ft=Bu;function ju(e){return Uu(e)}function Uu(e,t){const s=Un();s.__VUE__=!0;const{insert:o,remove:r,patchProp:l,createElement:a,createText:u,createComment:c,setText:f,setElementText:p,parentNode:d,nextSibling:x,setScopeId:_=Rt,insertStaticContent:j}=e,W=(y,b,P,F=null,M=null,U=null,Z=void 0,D=null,G=!!b.dynamicChildren)=>{if(y===b)return;y&&!js(y,b)&&(F=v(y),Ve(y,M,U,!0),y=null),b.patchFlag===-2&&(G=!1,b.dynamicChildren=null);const{type:q,ref:ce,shapeFlag:te}=b;switch(q){case qn:X(y,b,P,F);break;case os:B(y,b,P,F);break;case wn:y==null&&I(b,P,F,Z);break;case fe:_e(y,b,P,F,M,U,Z,D,G);break;default:te&1?L(y,b,P,F,M,U,Z,D,G):te&6?we(y,b,P,F,M,U,Z,D,G):(te&64||te&128)&&q.process(y,b,P,F,M,U,Z,D,G,H)}ce!=null&&M?qs(ce,y&&y.ref,U,b||y,!b):ce==null&&y&&y.ref!=null&&qs(y.ref,null,U,y,!0)},X=(y,b,P,F)=>{if(y==null)o(b.el=u(b.children),P,F);else{const M=b.el=y.el;b.children!==y.children&&f(M,b.children)}},B=(y,b,P,F)=>{y==null?o(b.el=c(b.children||""),P,F):b.el=y.el},I=(y,b,P,F)=>{[y.el,y.anchor]=j(y.children,b,P,F,y.el,y.anchor)},O=({el:y,anchor:b},P,F)=>{let M;for(;y&&y!==b;)M=x(y),o(y,P,F),y=M;o(b,P,F)},T=({el:y,anchor:b})=>{let P;for(;y&&y!==b;)P=x(y),r(y),y=P;r(b)},L=(y,b,P,F,M,U,Z,D,G)=>{if(b.type==="svg"?Z="svg":b.type==="math"&&(Z="mathml"),y==null)xe(b,P,F,M,U,Z,D,G);else{const q=y.el&&y.el._isVueCE?y.el:null;try{q&&q._beginPatch(),Q(y,b,M,U,Z,D,G)}finally{q&&q._endPatch()}}},xe=(y,b,P,F,M,U,Z,D)=>{let G,q;const{props:ce,shapeFlag:te,transition:re,dirs:pe}=y;if(G=y.el=a(y.type,U,ce&&ce.is,ce),te&8?p(G,y.children):te&16&&J(y.children,G,null,F,M,io(y,U),Z,D),pe&&cs(y,null,F,"created"),N(G,y,y.scopeId,Z,F),ce){for(const Ne in ce)Ne!=="value"&&!Hs(Ne)&&l(G,Ne,null,ce[Ne],U,F);"value"in ce&&l(G,"value",null,ce.value,U),(q=ce.onVnodeBeforeMount)&&Et(q,F,y)}pe&&cs(y,null,F,"beforeMount");const Ce=Fu(M,re);Ce&&re.beforeEnter(G),o(G,b,P),((q=ce&&ce.onVnodeMounted)||Ce||pe)&&ft(()=>{q&&Et(q,F,y),Ce&&re.enter(G),pe&&cs(y,null,F,"mounted")},M)},N=(y,b,P,F,M)=>{if(P&&_(y,P),F)for(let U=0;U<F.length;U++)_(y,F[U]);if(M){let U=M.subTree;if(b===U||ai(U.type)&&(U.ssContent===b||U.ssFallback===b)){const Z=M.vnode;N(y,Z,Z.scopeId,Z.slotScopeIds,M.parent)}}},J=(y,b,P,F,M,U,Z,D,G=0)=>{for(let q=G;q<y.length;q++){const ce=y[q]=D?Ut(y[q]):It(y[q]);W(null,ce,b,P,F,M,U,Z,D)}},Q=(y,b,P,F,M,U,Z)=>{const D=b.el=y.el;let{patchFlag:G,dynamicChildren:q,dirs:ce}=b;G|=y.patchFlag&16;const te=y.props||Le,re=b.props||Le;let pe;if(P&&ds(P,!1),(pe=re.onVnodeBeforeUpdate)&&Et(pe,P,b,y),ce&&cs(b,y,P,"beforeUpdate"),P&&ds(P,!0),(te.innerHTML&&re.innerHTML==null||te.textContent&&re.textContent==null)&&p(D,""),q?le(y.dynamicChildren,q,D,P,F,io(b,M),U):Z||ke(y,b,D,null,P,F,io(b,M),U,!1),G>0){if(G&16)ie(D,te,re,P,M);else if(G&2&&te.class!==re.class&&l(D,"class",null,re.class,M),G&4&&l(D,"style",te.style,re.style,M),G&8){const Ce=b.dynamicProps;for(let Ne=0;Ne<Ce.length;Ne++){const Ae=Ce[Ne],Qe=te[Ae],Ze=re[Ae];(Ze!==Qe||Ae==="value")&&l(D,Ae,Qe,Ze,M,P)}}G&1&&y.children!==b.children&&p(D,b.children)}else!Z&&q==null&&ie(D,te,re,P,M);((pe=re.onVnodeUpdated)||ce)&&ft(()=>{pe&&Et(pe,P,b,y),ce&&cs(b,y,P,"updated")},F)},le=(y,b,P,F,M,U,Z)=>{for(let D=0;D<b.length;D++){const G=y[D],q=b[D],ce=G.el&&(G.type===fe||!js(G,q)||G.shapeFlag&198)?d(G.el):P;W(G,q,ce,null,F,M,U,Z,!0)}},ie=(y,b,P,F,M)=>{if(b!==P){if(b!==Le)for(const U in b)!Hs(U)&&!(U in P)&&l(y,U,b[U],null,M,F);for(const U in P){if(Hs(U))continue;const Z=P[U],D=b[U];Z!==D&&U!=="value"&&l(y,U,D,Z,M,F)}"value"in P&&l(y,"value",b.value,P.value,M)}},_e=(y,b,P,F,M,U,Z,D,G)=>{const q=b.el=y?y.el:u(""),ce=b.anchor=y?y.anchor:u("");let{patchFlag:te,dynamicChildren:re,slotScopeIds:pe}=b;pe&&(D=D?D.concat(pe):pe),y==null?(o(q,P,F),o(ce,P,F),J(b.children||[],P,ce,M,U,Z,D,G)):te>0&&te&64&&re&&y.dynamicChildren&&y.dynamicChildren.length===re.length?(le(y.dynamicChildren,re,P,M,U,Z,D),(b.key!=null||M&&b===M.subTree)&&ri(y,b,!0)):ke(y,b,P,ce,M,U,Z,D,G)},we=(y,b,P,F,M,U,Z,D,G)=>{b.slotScopeIds=D,y==null?b.shapeFlag&512?M.ctx.activate(b,P,F,Z,G):qe(b,P,F,M,U,Z,G):Xe(y,b,G)},qe=(y,b,P,F,M,U,Z)=>{const D=y.component=Gu(y,F,M);if(Hl(y)&&(D.ctx.renderer=H),Yu(D,!1,Z),D.asyncDep){if(M&&M.registerDep(D,Pe,Z),!y.el){const G=D.subTree=Ee(os);B(null,G,b,P),y.placeholder=G.el}}else Pe(D,y,b,P,M,U,Z)},Xe=(y,b,P)=>{const F=b.component=y.component;if(Iu(y,b,P))if(F.asyncDep&&!F.asyncResolved){ae(F,b,P);return}else F.next=b,F.update();else b.el=y.el,F.vnode=b},Pe=(y,b,P,F,M,U,Z)=>{const D=()=>{if(y.isMounted){let{next:te,bu:re,u:pe,parent:Ce,vnode:Ne}=y;{const ct=li(y);if(ct){te&&(te.el=Ne.el,ae(y,te,Z)),ct.asyncDep.then(()=>{ft(()=>{y.isUnmounted||q()},M)});return}}let Ae=te,Qe;ds(y,!1),te?(te.el=Ne.el,ae(y,te,Z)):te=Ne,re&&bn(re),(Qe=te.props&&te.props.onVnodeBeforeUpdate)&&Et(Qe,Ce,te,Ne),ds(y,!0);const Ze=xr(y),yt=y.subTree;y.subTree=Ze,W(yt,Ze,d(yt.el),v(yt),y,M,U),te.el=Ze.el,Ae===null&&Ru(y,Ze.el),pe&&ft(pe,M),(Qe=te.props&&te.props.onVnodeUpdated)&&ft(()=>Et(Qe,Ce,te,Ne),M)}else{let te;const{el:re,props:pe}=b,{bm:Ce,m:Ne,parent:Ae,root:Qe,type:Ze}=y,yt=Ks(b);ds(y,!1),Ce&&bn(Ce),!yt&&(te=pe&&pe.onVnodeBeforeMount)&&Et(te,Ae,b),ds(y,!0);{Qe.ce&&Qe.ce._hasShadowRoot()&&Qe.ce._injectChildStyle(Ze);const ct=y.subTree=xr(y);W(null,ct,P,F,y,M,U),b.el=ct.el}if(Ne&&ft(Ne,M),!yt&&(te=pe&&pe.onVnodeMounted)){const ct=b;ft(()=>Et(te,Ae,ct),M)}(b.shapeFlag&256||Ae&&Ks(Ae.vnode)&&Ae.vnode.shapeFlag&256)&&y.a&&ft(y.a,M),y.isMounted=!0,b=P=F=null}};y.scope.on();const G=y.effect=new vl(D);y.scope.off();const q=y.update=G.run.bind(G),ce=y.job=G.runIfDirty.bind(G);ce.i=y,ce.id=y.uid,G.scheduler=()=>Ho(ce),ds(y,!0),q()},ae=(y,b,P)=>{b.component=y;const F=y.vnode.props;y.vnode=b,y.next=null,Ou(y,b.props,F,P),Mu(y,b.children,P),Wt(),dr(y),qt()},ke=(y,b,P,F,M,U,Z,D,G=!1)=>{const q=y&&y.children,ce=y?y.shapeFlag:0,te=b.children,{patchFlag:re,shapeFlag:pe}=b;if(re>0){if(re&128){tt(q,te,P,F,M,U,Z,D,G);return}else if(re&256){Ge(q,te,P,F,M,U,Z,D,G);return}}pe&8?(ce&16&&S(q,M,U),te!==q&&p(P,te)):ce&16?pe&16?tt(q,te,P,F,M,U,Z,D,G):S(q,M,U,!0):(ce&8&&p(P,""),pe&16&&J(te,P,F,M,U,Z,D,G))},Ge=(y,b,P,F,M,U,Z,D,G)=>{y=y||_s,b=b||_s;const q=y.length,ce=b.length,te=Math.min(q,ce);let re;for(re=0;re<te;re++){const pe=b[re]=G?Ut(b[re]):It(b[re]);W(y[re],pe,P,null,M,U,Z,D,G)}q>ce?S(y,M,U,!0,!1,te):J(b,P,F,M,U,Z,D,G,te)},tt=(y,b,P,F,M,U,Z,D,G)=>{let q=0;const ce=b.length;let te=y.length-1,re=ce-1;for(;q<=te&&q<=re;){const pe=y[q],Ce=b[q]=G?Ut(b[q]):It(b[q]);if(js(pe,Ce))W(pe,Ce,P,null,M,U,Z,D,G);else break;q++}for(;q<=te&&q<=re;){const pe=y[te],Ce=b[re]=G?Ut(b[re]):It(b[re]);if(js(pe,Ce))W(pe,Ce,P,null,M,U,Z,D,G);else break;te--,re--}if(q>te){if(q<=re){const pe=re+1,Ce=pe<ce?b[pe].el:F;for(;q<=re;)W(null,b[q]=G?Ut(b[q]):It(b[q]),P,Ce,M,U,Z,D,G),q++}}else if(q>re)for(;q<=te;)Ve(y[q],M,U,!0),q++;else{const pe=q,Ce=q,Ne=new Map;for(q=Ce;q<=re;q++){const ze=b[q]=G?Ut(b[q]):It(b[q]);ze.key!=null&&Ne.set(ze.key,q)}let Ae,Qe=0;const Ze=re-Ce+1;let yt=!1,ct=0;const ls=new Array(Ze);for(q=0;q<Ze;q++)ls[q]=0;for(q=pe;q<=te;q++){const ze=y[q];if(Qe>=Ze){Ve(ze,M,U,!0);continue}let dt;if(ze.key!=null)dt=Ne.get(ze.key);else for(Ae=Ce;Ae<=re;Ae++)if(ls[Ae-Ce]===0&&js(ze,b[Ae])){dt=Ae;break}dt===void 0?Ve(ze,M,U,!0):(ls[dt-Ce]=q+1,dt>=ct?ct=dt:yt=!0,W(ze,b[dt],P,null,M,U,Z,D,G),Qe++)}const dn=yt?Vu(ls):_s;for(Ae=dn.length-1,q=Ze-1;q>=0;q--){const ze=Ce+q,dt=b[ze],fn=b[ze+1],pn=ze+1<ce?fn.el||ii(fn):F;ls[q]===0?W(null,dt,P,pn,M,U,Z,D,G):yt&&(Ae<0||q!==dn[Ae]?Fe(dt,P,pn,2):Ae--)}}},Fe=(y,b,P,F,M=null)=>{const{el:U,type:Z,transition:D,children:G,shapeFlag:q}=y;if(q&6){Fe(y.component.subTree,b,P,F);return}if(q&128){y.suspense.move(b,P,F);return}if(q&64){Z.move(y,b,P,H);return}if(Z===fe){o(U,b,P);for(let te=0;te<G.length;te++)Fe(G[te],b,P,F);o(y.anchor,b,P);return}if(Z===wn){O(y,b,P);return}if(F!==2&&q&1&&D)if(F===0)D.beforeEnter(U),o(U,b,P),ft(()=>D.enter(U),M);else{const{leave:te,delayLeave:re,afterLeave:pe}=D,Ce=()=>{y.ctx.isUnmounted?r(U):o(U,b,P)},Ne=()=>{U._isLeaving&&U[ou](!0),te(U,()=>{Ce(),pe&&pe()})};re?re(U,Ce,Ne):Ne()}else o(U,b,P)},Ve=(y,b,P,F=!1,M=!1)=>{const{type:U,props:Z,ref:D,children:G,dynamicChildren:q,shapeFlag:ce,patchFlag:te,dirs:re,cacheIndex:pe}=y;if(te===-2&&(M=!1),D!=null&&(Wt(),qs(D,null,P,y,!0),qt()),pe!=null&&(b.renderCache[pe]=void 0),ce&256){b.ctx.deactivate(y);return}const Ce=ce&1&&re,Ne=!Ks(y);let Ae;if(Ne&&(Ae=Z&&Z.onVnodeBeforeUnmount)&&Et(Ae,b,y),ce&6)w(y.component,P,F);else{if(ce&128){y.suspense.unmount(P,F);return}Ce&&cs(y,null,b,"beforeUnmount"),ce&64?y.type.remove(y,b,P,H,F):q&&!q.hasOnce&&(U!==fe||te>0&&te&64)?S(q,b,P,!1,!0):(U===fe&&te&384||!M&&ce&16)&&S(G,b,P),F&&$(y)}(Ne&&(Ae=Z&&Z.onVnodeUnmounted)||Ce)&&ft(()=>{Ae&&Et(Ae,b,y),Ce&&cs(y,null,b,"unmounted")},P)},$=y=>{const{type:b,el:P,anchor:F,transition:M}=y;if(b===fe){m(P,F);return}if(b===wn){T(y);return}const U=()=>{r(P),M&&!M.persisted&&M.afterLeave&&M.afterLeave()};if(y.shapeFlag&1&&M&&!M.persisted){const{leave:Z,delayLeave:D}=M,G=()=>Z(P,U);D?D(y.el,U,G):G()}else U()},m=(y,b)=>{let P;for(;y!==b;)P=x(y),r(y),y=P;r(b)},w=(y,b,P)=>{const{bum:F,scope:M,job:U,subTree:Z,um:D,m:G,a:q}=y;wr(G),wr(q),F&&bn(F),M.stop(),U&&(U.flags|=8,Ve(Z,y,b,P)),D&&ft(D,b),ft(()=>{y.isUnmounted=!0},b)},S=(y,b,P,F=!1,M=!1,U=0)=>{for(let Z=U;Z<y.length;Z++)Ve(y[Z],b,P,F,M)},v=y=>{if(y.shapeFlag&6)return v(y.component.subTree);if(y.shapeFlag&128)return y.suspense.next();const b=x(y.anchor||y.el),P=b&&b[su];return P?x(P):b};let A=!1;const E=(y,b,P)=>{let F;y==null?b._vnode&&(Ve(b._vnode,null,null,!0),F=b._vnode.component):W(b._vnode||null,y,b,null,null,null,P),b._vnode=y,A||(A=!0,dr(F),Dl(),A=!1)},H={p:W,um:Ve,m:Fe,r:$,mt:qe,mc:J,pc:ke,pbc:le,n:v,o:e};return{render:E,hydrate:void 0,createApp:Su(E)}}function io({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function ds({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Fu(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function ri(e,t,s=!1){const o=e.children,r=t.children;if(de(o)&&de(r))for(let l=0;l<o.length;l++){const a=o[l];let u=r[l];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=r[l]=Ut(r[l]),u.el=a.el),!s&&u.patchFlag!==-2&&ri(a,u)),u.type===qn&&(u.patchFlag===-1&&(u=r[l]=Ut(u)),u.el=a.el),u.type===os&&!u.el&&(u.el=a.el)}}function Vu(e){const t=e.slice(),s=[0];let o,r,l,a,u;const c=e.length;for(o=0;o<c;o++){const f=e[o];if(f!==0){if(r=s[s.length-1],e[r]<f){t[o]=r,s.push(o);continue}for(l=0,a=s.length-1;l<a;)u=l+a>>1,e[s[u]]<f?l=u+1:a=u;f<e[s[l]]&&(l>0&&(t[o]=s[l-1]),s[l]=o)}}for(l=s.length,a=s[l-1];l-- >0;)s[l]=a,a=t[a];return s}function li(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:li(t)}function wr(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function ii(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?ii(t.subTree):null}const ai=e=>e.__isSuspense;function Bu(e,t){t&&t.pendingBranch?de(e)?t.effects.push(...e):t.effects.push(e):Xa(e)}const fe=Symbol.for("v-fgt"),qn=Symbol.for("v-txt"),os=Symbol.for("v-cmt"),wn=Symbol.for("v-stc"),Gs=[];let mt=null;function k(e=!1){Gs.push(mt=e?null:[])}function Hu(){Gs.pop(),mt=Gs[Gs.length-1]||null}let tn=1;function Rn(e,t=!1){tn+=e,e<0&&mt&&t&&(mt.hasOnce=!0)}function ui(e){return e.dynamicChildren=tn>0?mt||_s:null,Hu(),tn>0&&mt&&mt.push(e),e}function C(e,t,s,o,r,l){return ui(n(e,t,s,o,r,l,!0))}function St(e,t,s,o,r){return ui(Ee(e,t,s,o,r,!0))}function Tn(e){return e?e.__v_isVNode===!0:!1}function js(e,t){return e.type===t.type&&e.key===t.key}const ci=({key:e})=>e??null,kn=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?We(e)||He(e)||ye(e)?{i:gt,r:e,k:t,f:!!s}:e:null);function n(e,t=null,s=null,o=0,r=null,l=e===fe?0:1,a=!1,u=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ci(t),ref:t&&kn(t),scopeId:jl,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:o,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:gt};return u?(Jo(c,s),l&128&&e.normalize(c)):s&&(c.shapeFlag|=We(s)?8:16),tn>0&&!a&&mt&&(c.patchFlag>0||l&6)&&c.patchFlag!==32&&mt.push(c),c}const Ee=zu;function zu(e,t=null,s=null,o=0,r=null,l=!1){if((!e||e===mu)&&(e=os),Tn(e)){const u=As(e,t,!0);return s&&Jo(u,s),tn>0&&!l&&mt&&(u.shapeFlag&6?mt[mt.indexOf(e)]=u:mt.push(u)),u.patchFlag=-2,u}if(tc(e)&&(e=e.__vccOpts),t){t=Wu(t);let{class:u,style:c}=t;u&&!We(u)&&(t.class=Se(u)),Oe(c)&&(Vn(c)&&!de(c)&&(c=et({},c)),t.style=ln(c))}const a=We(e)?1:ai(e)?128:nu(e)?64:Oe(e)?4:ye(e)?2:0;return n(e,t,s,o,r,a,l,!0)}function Wu(e){return e?Vn(e)||Zl(e)?et({},e):e:null}function As(e,t,s=!1,o=!1){const{props:r,ref:l,patchFlag:a,children:u,transition:c}=e,f=t?qu(r||{},t):r,p={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&ci(f),ref:t&&t.ref?s&&l?de(l)?l.concat(kn(t)):[l,kn(t)]:kn(t):l,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==fe?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&As(e.ssContent),ssFallback:e.ssFallback&&As(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&o&&zo(p,c.clone(p)),p}function je(e=" ",t=0){return Ee(qn,null,e,t)}function Ss(e,t){const s=Ee(wn,null,e);return s.staticCount=t,s}function oe(e="",t=!1){return t?(k(),St(os,null,e)):Ee(os,null,e)}function It(e){return e==null||typeof e=="boolean"?Ee(os):de(e)?Ee(fe,null,e.slice()):Tn(e)?Ut(e):Ee(qn,null,String(e))}function Ut(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:As(e)}function Jo(e,t){let s=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(de(t))s=16;else if(typeof t=="object")if(o&65){const r=t.default;r&&(r._c&&(r._d=!1),Jo(e,r()),r._c&&(r._d=!0));return}else{s=32;const r=t._;!r&&!Zl(t)?t._ctx=gt:r===3&&gt&&(gt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ye(t)?(t={default:t,_ctx:gt},s=32):(t=String(t),o&64?(s=16,t=[je(t)]):s=8);e.children=t,e.shapeFlag|=s}function qu(...e){const t={};for(let s=0;s<e.length;s++){const o=e[s];for(const r in o)if(r==="class")t.class!==o.class&&(t.class=Se([t.class,o.class]));else if(r==="style")t.style=ln([t.style,o.style]);else if(Nn(r)){const l=t[r],a=o[r];a&&l!==a&&!(de(l)&&l.includes(a))&&(t[r]=l?[].concat(l,a):a)}else r!==""&&(t[r]=o[r])}return t}function Et(e,t,s,o=null){Ot(e,t,7,[s,o])}const Ku=Jl();let Ju=0;function Gu(e,t,s){const o=e.type,r=(t?t.appContext:e.appContext)||Ku,l={uid:Ju++,vnode:e,type:o,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new gl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ti(o,r),emitsOptions:Gl(o,r),emit:null,emitted:null,propsDefaults:Le,inheritAttrs:o.inheritAttrs,ctx:Le,data:Le,props:Le,attrs:Le,slots:Le,refs:Le,setupState:Le,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=t?t.root:l,l.emit=Cu.bind(null,l),e.ce&&e.ce(l),l}let lt=null;const di=()=>lt||gt;let On,So;{const e=Un(),t=(s,o)=>{let r;return(r=e[s])||(r=e[s]=[]),r.push(o),l=>{r.length>1?r.forEach(a=>a(l)):r[0](l)}};On=t("__VUE_INSTANCE_SETTERS__",s=>lt=s),So=t("__VUE_SSR_SETTERS__",s=>sn=s)}const un=e=>{const t=lt;return On(e),e.scope.on(),()=>{e.scope.off(),On(t)}},kr=()=>{lt&&lt.scope.off(),On(null)};function fi(e){return e.vnode.shapeFlag&4}let sn=!1;function Yu(e,t=!1,s=!1){t&&So(t);const{props:o,children:r}=e.vnode,l=fi(e);Tu(e,o,l,t),Du(e,r,s||t);const a=l?Xu(e,t):void 0;return t&&So(!1),a}function Xu(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,vu);const{setup:o}=s;if(o){Wt();const r=e.setupContext=o.length>1?Zu(e):null,l=un(e),a=an(o,e,0,[e.props,r]),u=il(a);if(qt(),l(),(u||e.sp)&&!Ks(e)&&Bl(e),u){if(a.then(kr,kr),t)return a.then(c=>{Sr(e,c)}).catch(c=>{Bn(c,e,0)});e.asyncDep=a}else Sr(e,a)}else pi(e)}function Sr(e,t,s){ye(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Oe(t)&&(e.setupState=Ol(t)),pi(e)}function pi(e,t,s){const o=e.type;e.render||(e.render=o.render||Rt);{const r=un(e);Wt();try{yu(e)}finally{qt(),r()}}}const Qu={get(e,t){return ot(e,"get",""),e[t]}};function Zu(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Qu),slots:e.slots,emit:e.emit,expose:t}}function Kn(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Ol(Bo(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Js)return Js[s](e)},has(t,s){return s in t||s in Js}})):e.proxy}function ec(e,t=!0){return ye(e)?e.displayName||e.name:e.name||t&&e.__name}function tc(e){return ye(e)&&"__vccOpts"in e}const ve=(e,t)=>qa(e,t,sn);function gi(e,t,s){try{Rn(-1);const o=arguments.length;return o===2?Oe(t)&&!de(t)?Tn(t)?Ee(e,null,[t]):Ee(e,t):Ee(e,null,t):(o>3?s=Array.prototype.slice.call(arguments,2):o===3&&Tn(s)&&(s=[s]),Ee(e,t,s))}finally{Rn(1)}}const sc="3.5.29";let $o;const $r=typeof window<"u"&&window.trustedTypes;if($r)try{$o=$r.createPolicy("vue",{createHTML:e=>e})}catch{}const mi=$o?e=>$o.createHTML(e):e=>e,nc="http://www.w3.org/2000/svg",oc="http://www.w3.org/1998/Math/MathML",jt=typeof document<"u"?document:null,Cr=jt&&jt.createElement("template"),rc={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,o)=>{const r=t==="svg"?jt.createElementNS(nc,e):t==="mathml"?jt.createElementNS(oc,e):s?jt.createElement(e,{is:s}):jt.createElement(e);return e==="select"&&o&&o.multiple!=null&&r.setAttribute("multiple",o.multiple),r},createText:e=>jt.createTextNode(e),createComment:e=>jt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>jt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,o,r,l){const a=s?s.previousSibling:t.lastChild;if(r&&(r===l||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),s),!(r===l||!(r=r.nextSibling)););else{Cr.innerHTML=mi(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const u=Cr.content;if(o==="svg"||o==="mathml"){const c=u.firstChild;for(;c.firstChild;)u.appendChild(c.firstChild);u.removeChild(c)}t.insertBefore(u,s)}return[a?a.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},lc=Symbol("_vtc");function ic(e,t,s){const o=e[lc];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Ar=Symbol("_vod"),ac=Symbol("_vsh"),uc=Symbol(""),cc=/(?:^|;)\s*display\s*:/;function dc(e,t,s){const o=e.style,r=We(s);let l=!1;if(s&&!r){if(t)if(We(t))for(const a of t.split(";")){const u=a.slice(0,a.indexOf(":")).trim();s[u]==null&&Sn(o,u,"")}else for(const a in t)s[a]==null&&Sn(o,a,"");for(const a in s)a==="display"&&(l=!0),Sn(o,a,s[a])}else if(r){if(t!==s){const a=o[uc];a&&(s+=";"+a),o.cssText=s,l=cc.test(s)}}else t&&e.removeAttribute("style");Ar in e&&(e[Ar]=l?o.display:"",e[ac]&&(o.display="none"))}const Er=/\s*!important$/;function Sn(e,t,s){if(de(s))s.forEach(o=>Sn(e,t,o));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const o=fc(e,t);Er.test(s)?e.setProperty(rs(o),s.replace(Er,""),"important"):e[o]=s}}const Pr=["Webkit","Moz","ms"],ao={};function fc(e,t){const s=ao[t];if(s)return s;let o=_t(t);if(o!=="filter"&&o in e)return ao[t]=o;o=Mn(o);for(let r=0;r<Pr.length;r++){const l=Pr[r]+o;if(l in e)return ao[t]=l}return t}const Ir="http://www.w3.org/1999/xlink";function Rr(e,t,s,o,r,l=va(t)){o&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Ir,t.slice(6,t.length)):e.setAttributeNS(Ir,t,s):s==null||l&&!dl(s)?e.removeAttribute(t):e.setAttribute(t,l?"":Tt(s)?String(s):s)}function Tr(e,t,s,o,r){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?mi(s):s);return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){const u=l==="OPTION"?e.getAttribute("value")||"":e.value,c=s==null?e.type==="checkbox"?"on":"":String(s);(u!==c||!("_value"in e))&&(e.value=c),s==null&&e.removeAttribute(t),e._value=s;return}let a=!1;if(s===""||s==null){const u=typeof e[t];u==="boolean"?s=dl(s):s==null&&u==="string"?(s="",a=!0):u==="number"&&(s=0,a=!0)}try{e[t]=s}catch{}a&&e.removeAttribute(r||t)}function ss(e,t,s,o){e.addEventListener(t,s,o)}function pc(e,t,s,o){e.removeEventListener(t,s,o)}const Or=Symbol("_vei");function gc(e,t,s,o,r=null){const l=e[Or]||(e[Or]={}),a=l[t];if(o&&a)a.value=o;else{const[u,c]=mc(t);if(o){const f=l[t]=yc(o,r);ss(e,u,f,c)}else a&&(pc(e,u,a,c),l[t]=void 0)}}const Nr=/(?:Once|Passive|Capture)$/;function mc(e){let t;if(Nr.test(e)){t={};let o;for(;o=e.match(Nr);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):rs(e.slice(2)),t]}let uo=0;const hc=Promise.resolve(),vc=()=>uo||(hc.then(()=>uo=0),uo=Date.now());function yc(e,t){const s=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=s.attached)return;Ot(xc(o,s.value),t,5,[o])};return s.value=e,s.attached=vc(),s}function xc(e,t){if(de(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(o=>r=>!r._stopped&&o&&o(r))}else return t}const Lr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,bc=(e,t,s,o,r,l)=>{const a=r==="svg";t==="class"?ic(e,o,a):t==="style"?dc(e,s,o):Nn(t)?Oo(t)||gc(e,t,s,o,l):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):_c(e,t,o,a))?(Tr(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Rr(e,t,o,a,l,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!We(o))?Tr(e,_t(t),o,l,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),Rr(e,t,o,a))};function _c(e,t,s,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&Lr(t)&&ye(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Lr(t)&&We(s)?!1:t in e}const Es=e=>{const t=e.props["onUpdate:modelValue"]||!1;return de(t)?s=>bn(t,s):t};function wc(e){e.target.composing=!0}function Dr(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const zt=Symbol("_assign");function Mr(e,t,s){return t&&(e=e.trim()),s&&(e=jn(e)),e}const ge={created(e,{modifiers:{lazy:t,trim:s,number:o}},r){e[zt]=Es(r);const l=o||r.props&&r.props.type==="number";ss(e,t?"change":"input",a=>{a.target.composing||e[zt](Mr(e.value,s,l))}),(s||l)&&ss(e,"change",()=>{e.value=Mr(e.value,s,l)}),t||(ss(e,"compositionstart",wc),ss(e,"compositionend",Dr),ss(e,"change",Dr))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:o,trim:r,number:l}},a){if(e[zt]=Es(a),e.composing)return;const u=(l||e.type==="number")&&!/^0\d/.test(e.value)?jn(e.value):e.value,c=t??"";u!==c&&(document.activeElement===e&&e.type!=="range"&&(o&&t===s||r&&e.value.trim()===c)||(e.value=c))}},Vs={deep:!0,created(e,t,s){e[zt]=Es(s),ss(e,"change",()=>{const o=e._modelValue,r=nn(e),l=e.checked,a=e[zt];if(de(o)){const u=Lo(o,r),c=u!==-1;if(l&&!c)a(o.concat(r));else if(!l&&c){const f=[...o];f.splice(u,1),a(f)}}else if(Rs(o)){const u=new Set(o);l?u.add(r):u.delete(r),a(u)}else a(hi(e,l))})},mounted:jr,beforeUpdate(e,t,s){e[zt]=Es(s),jr(e,t,s)}};function jr(e,{value:t,oldValue:s},o){e._modelValue=t;let r;if(de(t))r=Lo(t,o.props.value)>-1;else if(Rs(t))r=t.has(o.props.value);else{if(t===s)return;r=Ts(t,hi(e,!0))}e.checked!==r&&(e.checked=r)}const pt={deep:!0,created(e,{value:t,modifiers:{number:s}},o){const r=Rs(t);ss(e,"change",()=>{const l=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>s?jn(nn(a)):nn(a));e[zt](e.multiple?r?new Set(l):l:l[0]),e._assigning=!0,Cs(()=>{e._assigning=!1})}),e[zt]=Es(o)},mounted(e,{value:t}){Ur(e,t)},beforeUpdate(e,t,s){e[zt]=Es(s)},updated(e,{value:t}){e._assigning||Ur(e,t)}};function Ur(e,t){const s=e.multiple,o=de(t);if(!(s&&!o&&!Rs(t))){for(let r=0,l=e.options.length;r<l;r++){const a=e.options[r],u=nn(a);if(s)if(o){const c=typeof u;c==="string"||c==="number"?a.selected=t.some(f=>String(f)===String(u)):a.selected=Lo(t,u)>-1}else a.selected=t.has(u);else if(Ts(nn(a),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function nn(e){return"_value"in e?e._value:e.value}function hi(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const kc=["ctrl","shift","alt","meta"],Sc={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>kc.some(s=>e[`${s}Key`]&&!t.includes(s))},nt=(e,t)=>{if(!e)return e;const s=e._withMods||(e._withMods={}),o=t.join(".");return s[o]||(s[o]=((r,...l)=>{for(let a=0;a<t.length;a++){const u=Sc[t[a]];if(u&&u(r,t))return}return e(r,...l)}))},$c={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Go=(e,t)=>{const s=e._withKeys||(e._withKeys={}),o=t.join(".");return s[o]||(s[o]=(r=>{if(!("key"in r))return;const l=rs(r.key);if(t.some(a=>a===l||$c[a]===l))return e(r)}))},Cc=et({patchProp:bc},rc);let Fr;function Ac(){return Fr||(Fr=ju(Cc))}const Ec=((...e)=>{const t=Ac().createApp(...e),{mount:s}=t;return t.mount=o=>{const r=Ic(o);if(!r)return;const l=t._component;!ye(l)&&!l.render&&!l.template&&(l.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const a=s(r,!1,Pc(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},t});function Pc(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Ic(e){return We(e)?document.querySelector(e):e}let vi;const Jn=e=>vi=e,yi=Symbol();function Co(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Ys;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Ys||(Ys={}));function Rc(){const e=ml(!0),t=e.run(()=>V({}));let s=[],o=[];const r=Bo({install(l){Jn(r),r._a=l,l.provide(yi,r),l.config.globalProperties.$pinia=r,o.forEach(a=>s.push(a)),o=[]},use(l){return this._a?s.push(l):o.push(l),this},_p:s,_a:null,_e:e,_s:new Map,state:t});return r}const xi=()=>{};function Vr(e,t,s,o=xi){e.push(t);const r=()=>{const l=e.indexOf(t);l>-1&&(e.splice(l,1),o())};return!s&&hl()&&xa(r),r}function ys(e,...t){e.slice().forEach(s=>{s(...t)})}const Tc=e=>e(),Br=Symbol(),co=Symbol();function Ao(e,t){e instanceof Map&&t instanceof Map?t.forEach((s,o)=>e.set(o,s)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const s in t){if(!t.hasOwnProperty(s))continue;const o=t[s],r=e[s];Co(r)&&Co(o)&&e.hasOwnProperty(s)&&!He(o)&&!Ht(o)?e[s]=Ao(r,o):e[s]=o}return e}const Oc=Symbol();function Nc(e){return!Co(e)||!e.hasOwnProperty(Oc)}const{assign:Qt}=Object;function Lc(e){return!!(He(e)&&e.effect)}function Dc(e,t,s,o){const{state:r,actions:l,getters:a}=t,u=s.state.value[e];let c;function f(){u||(s.state.value[e]=r?r():{});const p=Ba(s.state.value[e]);return Qt(p,l,Object.keys(a||{}).reduce((d,x)=>(d[x]=Bo(ve(()=>{Jn(s);const _=s._s.get(e);return a[x].call(_,_)})),d),{}))}return c=bi(e,f,t,s,o,!0),c}function bi(e,t,s={},o,r,l){let a;const u=Qt({actions:{}},s),c={deep:!0};let f,p,d=[],x=[],_;const j=o.state.value[e];!l&&!j&&(o.state.value[e]={});let W;function X(J){let Q;f=p=!1,typeof J=="function"?(J(o.state.value[e]),Q={type:Ys.patchFunction,storeId:e,events:_}):(Ao(o.state.value[e],J),Q={type:Ys.patchObject,payload:J,storeId:e,events:_});const le=W=Symbol();Cs().then(()=>{W===le&&(f=!0)}),p=!0,ys(d,Q,o.state.value[e])}const B=l?function(){const{state:Q}=s,le=Q?Q():{};this.$patch(ie=>{Qt(ie,le)})}:xi;function I(){a.stop(),d=[],x=[],o._s.delete(e)}const O=(J,Q="")=>{if(Br in J)return J[co]=Q,J;const le=function(){Jn(o);const ie=Array.from(arguments),_e=[],we=[];function qe(ae){_e.push(ae)}function Xe(ae){we.push(ae)}ys(x,{args:ie,name:le[co],store:L,after:qe,onError:Xe});let Pe;try{Pe=J.apply(this&&this.$id===e?this:L,ie)}catch(ae){throw ys(we,ae),ae}return Pe instanceof Promise?Pe.then(ae=>(ys(_e,ae),ae)).catch(ae=>(ys(we,ae),Promise.reject(ae))):(ys(_e,Pe),Pe)};return le[Br]=!0,le[co]=Q,le},T={_p:o,$id:e,$onAction:Vr.bind(null,x),$patch:X,$reset:B,$subscribe(J,Q={}){const le=Vr(d,J,Q.detached,()=>ie()),ie=a.run(()=>bt(()=>o.state.value[e],_e=>{(Q.flush==="sync"?p:f)&&J({storeId:e,type:Ys.direct,events:_},_e)},Qt({},c,Q)));return le},$dispose:I},L=rt(T);o._s.set(e,L);const N=(o._a&&o._a.runWithContext||Tc)(()=>o._e.run(()=>(a=ml()).run(()=>t({action:O}))));for(const J in N){const Q=N[J];if(He(Q)&&!Lc(Q)||Ht(Q))l||(j&&Nc(Q)&&(He(Q)?Q.value=j[J]:Ao(Q,j[J])),o.state.value[e][J]=Q);else if(typeof Q=="function"){const le=O(Q,J);N[J]=le,u.actions[J]=Q}}return Qt(L,N),Qt(Ie(L),N),Object.defineProperty(L,"$state",{get:()=>o.state.value[e],set:J=>{X(Q=>{Qt(Q,J)})}}),o._p.forEach(J=>{Qt(L,a.run(()=>J({store:L,app:o._a,pinia:o,options:u})))}),j&&l&&s.hydrate&&s.hydrate(L.$state,j),f=!0,p=!0,L}function Mc(e,t,s){let o,r;const l=typeof t=="function";typeof e=="string"?(o=e,r=l?s:t):(r=e,o=e.id);function a(u,c){const f=Qa();return u=u||(f?xt(yi,null):null),u&&Jn(u),u=vi,u._s.has(o)||(l?bi(o,t,r,u):Dc(o,r,u)),u._s.get(o)}return a.$id=o,a}const bs=typeof document<"u";function _i(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function jc(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&_i(e.default)}const Re=Object.assign;function fo(e,t){const s={};for(const o in t){const r=t[o];s[o]=$t(r)?r.map(e):e(r)}return s}const Xs=()=>{},$t=Array.isArray;function Hr(e,t){const s={};for(const o in e)s[o]=o in t?t[o]:e[o];return s}const wi=/#/g,Uc=/&/g,Fc=/\//g,Vc=/=/g,Bc=/\?/g,ki=/\+/g,Hc=/%5B/g,zc=/%5D/g,Si=/%5E/g,Wc=/%60/g,$i=/%7B/g,qc=/%7C/g,Ci=/%7D/g,Kc=/%20/g;function Yo(e){return e==null?"":encodeURI(""+e).replace(qc,"|").replace(Hc,"[").replace(zc,"]")}function Jc(e){return Yo(e).replace($i,"{").replace(Ci,"}").replace(Si,"^")}function Eo(e){return Yo(e).replace(ki,"%2B").replace(Kc,"+").replace(wi,"%23").replace(Uc,"%26").replace(Wc,"`").replace($i,"{").replace(Ci,"}").replace(Si,"^")}function Gc(e){return Eo(e).replace(Vc,"%3D")}function Yc(e){return Yo(e).replace(wi,"%23").replace(Bc,"%3F")}function Xc(e){return Yc(e).replace(Fc,"%2F")}function on(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const Qc=/\/$/,Zc=e=>e.replace(Qc,"");function po(e,t,s="/"){let o,r={},l="",a="";const u=t.indexOf("#");let c=t.indexOf("?");return c=u>=0&&c>u?-1:c,c>=0&&(o=t.slice(0,c),l=t.slice(c,u>0?u:t.length),r=e(l.slice(1))),u>=0&&(o=o||t.slice(0,u),a=t.slice(u,t.length)),o=nd(o??t,s),{fullPath:o+l+a,path:o,query:r,hash:on(a)}}function ed(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function zr(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function td(e,t,s){const o=t.matched.length-1,r=s.matched.length-1;return o>-1&&o===r&&Ps(t.matched[o],s.matched[r])&&Ai(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function Ps(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Ai(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var s in e)if(!sd(e[s],t[s]))return!1;return!0}function sd(e,t){return $t(e)?Wr(e,t):$t(t)?Wr(t,e):e?.valueOf()===t?.valueOf()}function Wr(e,t){return $t(t)?e.length===t.length&&e.every((s,o)=>s===t[o]):e.length===1&&e[0]===t}function nd(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),o=e.split("/"),r=o[o.length-1];(r===".."||r===".")&&o.push("");let l=s.length-1,a,u;for(a=0;a<o.length;a++)if(u=o[a],u!==".")if(u==="..")l>1&&l--;else break;return s.slice(0,l).join("/")+"/"+o.slice(a).join("/")}const Xt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Po=(function(e){return e.pop="pop",e.push="push",e})({}),go=(function(e){return e.back="back",e.forward="forward",e.unknown="",e})({});function od(e){if(!e)if(bs){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Zc(e)}const rd=/^[^#]+#/;function ld(e,t){return e.replace(rd,"#")+t}function id(e,t){const s=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:t.behavior,left:o.left-s.left-(t.left||0),top:o.top-s.top-(t.top||0)}}const Gn=()=>({left:window.scrollX,top:window.scrollY});function ad(e){let t;if("el"in e){const s=e.el,o=typeof s=="string"&&s.startsWith("#"),r=typeof s=="string"?o?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!r)return;t=id(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function qr(e,t){return(history.state?history.state.position-t:-1)+e}const Io=new Map;function ud(e,t){Io.set(e,t)}function cd(e){const t=Io.get(e);return Io.delete(e),t}function dd(e){return typeof e=="string"||e&&typeof e=="object"}function Ei(e){return typeof e=="string"||typeof e=="symbol"}let Be=(function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e})({});const Pi=Symbol("");Be.MATCHER_NOT_FOUND+"",Be.NAVIGATION_GUARD_REDIRECT+"",Be.NAVIGATION_ABORTED+"",Be.NAVIGATION_CANCELLED+"",Be.NAVIGATION_DUPLICATED+"";function Is(e,t){return Re(new Error,{type:e,[Pi]:!0},t)}function Mt(e,t){return e instanceof Error&&Pi in e&&(t==null||!!(e.type&t))}const fd=["params","query","hash"];function pd(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const s of fd)s in e&&(t[s]=e[s]);return JSON.stringify(t,null,2)}function gd(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<s.length;++o){const r=s[o].replace(ki," "),l=r.indexOf("="),a=on(l<0?r:r.slice(0,l)),u=l<0?null:on(r.slice(l+1));if(a in t){let c=t[a];$t(c)||(c=t[a]=[c]),c.push(u)}else t[a]=u}return t}function Kr(e){let t="";for(let s in e){const o=e[s];if(s=Gc(s),o==null){o!==void 0&&(t+=(t.length?"&":"")+s);continue}($t(o)?o.map(r=>r&&Eo(r)):[o&&Eo(o)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+s,r!=null&&(t+="="+r))})}return t}function md(e){const t={};for(const s in e){const o=e[s];o!==void 0&&(t[s]=$t(o)?o.map(r=>r==null?null:""+r):o==null?o:""+o)}return t}const hd=Symbol(""),Jr=Symbol(""),Yn=Symbol(""),Xo=Symbol(""),Ro=Symbol("");function Us(){let e=[];function t(o){return e.push(o),()=>{const r=e.indexOf(o);r>-1&&e.splice(r,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function ts(e,t,s,o,r,l=a=>a()){const a=o&&(o.enterCallbacks[r]=o.enterCallbacks[r]||[]);return()=>new Promise((u,c)=>{const f=x=>{x===!1?c(Is(Be.NAVIGATION_ABORTED,{from:s,to:t})):x instanceof Error?c(x):dd(x)?c(Is(Be.NAVIGATION_GUARD_REDIRECT,{from:t,to:x})):(a&&o.enterCallbacks[r]===a&&typeof x=="function"&&a.push(x),u())},p=l(()=>e.call(o&&o.instances[r],t,s,f));let d=Promise.resolve(p);e.length<3&&(d=d.then(f)),d.catch(x=>c(x))})}function mo(e,t,s,o,r=l=>l()){const l=[];for(const a of e)for(const u in a.components){let c=a.components[u];if(!(t!=="beforeRouteEnter"&&!a.instances[u]))if(_i(c)){const f=(c.__vccOpts||c)[t];f&&l.push(ts(f,s,o,a,u,r))}else{let f=c();l.push(()=>f.then(p=>{if(!p)throw new Error(`Couldn't resolve component "${u}" at "${a.path}"`);const d=jc(p)?p.default:p;a.mods[u]=p,a.components[u]=d;const x=(d.__vccOpts||d)[t];return x&&ts(x,s,o,a,u,r)()}))}}return l}function vd(e,t){const s=[],o=[],r=[],l=Math.max(t.matched.length,e.matched.length);for(let a=0;a<l;a++){const u=t.matched[a];u&&(e.matched.find(f=>Ps(f,u))?o.push(u):s.push(u));const c=e.matched[a];c&&(t.matched.find(f=>Ps(f,c))||r.push(c))}return[s,o,r]}let yd=()=>location.protocol+"//"+location.host;function Ii(e,t){const{pathname:s,search:o,hash:r}=t,l=e.indexOf("#");if(l>-1){let a=r.includes(e.slice(l))?e.slice(l).length:1,u=r.slice(a);return u[0]!=="/"&&(u="/"+u),zr(u,"")}return zr(s,e)+o+r}function xd(e,t,s,o){let r=[],l=[],a=null;const u=({state:x})=>{const _=Ii(e,location),j=s.value,W=t.value;let X=0;if(x){if(s.value=_,t.value=x,a&&a===j){a=null;return}X=W?x.position-W.position:0}else o(_);r.forEach(B=>{B(s.value,j,{delta:X,type:Po.pop,direction:X?X>0?go.forward:go.back:go.unknown})})};function c(){a=s.value}function f(x){r.push(x);const _=()=>{const j=r.indexOf(x);j>-1&&r.splice(j,1)};return l.push(_),_}function p(){if(document.visibilityState==="hidden"){const{history:x}=window;if(!x.state)return;x.replaceState(Re({},x.state,{scroll:Gn()}),"")}}function d(){for(const x of l)x();l=[],window.removeEventListener("popstate",u),window.removeEventListener("pagehide",p),document.removeEventListener("visibilitychange",p)}return window.addEventListener("popstate",u),window.addEventListener("pagehide",p),document.addEventListener("visibilitychange",p),{pauseListeners:c,listen:f,destroy:d}}function Gr(e,t,s,o=!1,r=!1){return{back:e,current:t,forward:s,replaced:o,position:window.history.length,scroll:r?Gn():null}}function bd(e){const{history:t,location:s}=window,o={value:Ii(e,s)},r={value:t.state};r.value||l(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function l(c,f,p){const d=e.indexOf("#"),x=d>-1?(s.host&&document.querySelector("base")?e:e.slice(d))+c:yd()+e+c;try{t[p?"replaceState":"pushState"](f,"",x),r.value=f}catch(_){console.error(_),s[p?"replace":"assign"](x)}}function a(c,f){l(c,Re({},t.state,Gr(r.value.back,c,r.value.forward,!0),f,{position:r.value.position}),!0),o.value=c}function u(c,f){const p=Re({},r.value,t.state,{forward:c,scroll:Gn()});l(p.current,p,!0),l(c,Re({},Gr(o.value,c,null),{position:p.position+1},f),!1),o.value=c}return{location:o,state:r,push:u,replace:a}}function _d(e){e=od(e);const t=bd(e),s=xd(e,t.state,t.location,t.replace);function o(l,a=!0){a||s.pauseListeners(),history.go(l)}const r=Re({location:"",base:e,go:o,createHref:ld.bind(null,e)},t,s);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}let ps=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e})({});var Je=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e})(Je||{});const wd={type:ps.Static,value:""},kd=/[a-zA-Z0-9_]/;function Sd(e){if(!e)return[[]];if(e==="/")return[[wd]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(_){throw new Error(`ERR (${s})/"${f}": ${_}`)}let s=Je.Static,o=s;const r=[];let l;function a(){l&&r.push(l),l=[]}let u=0,c,f="",p="";function d(){f&&(s===Je.Static?l.push({type:ps.Static,value:f}):s===Je.Param||s===Je.ParamRegExp||s===Je.ParamRegExpEnd?(l.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),l.push({type:ps.Param,value:f,regexp:p,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),f="")}function x(){f+=c}for(;u<e.length;){if(c=e[u++],c==="\\"&&s!==Je.ParamRegExp){o=s,s=Je.EscapeNext;continue}switch(s){case Je.Static:c==="/"?(f&&d(),a()):c===":"?(d(),s=Je.Param):x();break;case Je.EscapeNext:x(),s=o;break;case Je.Param:c==="("?s=Je.ParamRegExp:kd.test(c)?x():(d(),s=Je.Static,c!=="*"&&c!=="?"&&c!=="+"&&u--);break;case Je.ParamRegExp:c===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+c:s=Je.ParamRegExpEnd:p+=c;break;case Je.ParamRegExpEnd:d(),s=Je.Static,c!=="*"&&c!=="?"&&c!=="+"&&u--,p="";break;default:t("Unknown state");break}}return s===Je.ParamRegExp&&t(`Unfinished custom RegExp for param "${f}"`),d(),a(),r}const Yr="[^/]+?",$d={sensitive:!1,strict:!1,start:!0,end:!0};var at=(function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e})(at||{});const Cd=/[.+*?^${}()[\]/\\]/g;function Ad(e,t){const s=Re({},$d,t),o=[];let r=s.start?"^":"";const l=[];for(const f of e){const p=f.length?[]:[at.Root];s.strict&&!f.length&&(r+="/");for(let d=0;d<f.length;d++){const x=f[d];let _=at.Segment+(s.sensitive?at.BonusCaseSensitive:0);if(x.type===ps.Static)d||(r+="/"),r+=x.value.replace(Cd,"\\$&"),_+=at.Static;else if(x.type===ps.Param){const{value:j,repeatable:W,optional:X,regexp:B}=x;l.push({name:j,repeatable:W,optional:X});const I=B||Yr;if(I!==Yr){_+=at.BonusCustomRegExp;try{`${I}`}catch(T){throw new Error(`Invalid custom RegExp for param "${j}" (${I}): `+T.message)}}let O=W?`((?:${I})(?:/(?:${I}))*)`:`(${I})`;d||(O=X&&f.length<2?`(?:/${O})`:"/"+O),X&&(O+="?"),r+=O,_+=at.Dynamic,X&&(_+=at.BonusOptional),W&&(_+=at.BonusRepeatable),I===".*"&&(_+=at.BonusWildcard)}p.push(_)}o.push(p)}if(s.strict&&s.end){const f=o.length-1;o[f][o[f].length-1]+=at.BonusStrict}s.strict||(r+="/?"),s.end?r+="$":s.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const a=new RegExp(r,s.sensitive?"":"i");function u(f){const p=f.match(a),d={};if(!p)return null;for(let x=1;x<p.length;x++){const _=p[x]||"",j=l[x-1];d[j.name]=_&&j.repeatable?_.split("/"):_}return d}function c(f){let p="",d=!1;for(const x of e){(!d||!p.endsWith("/"))&&(p+="/"),d=!1;for(const _ of x)if(_.type===ps.Static)p+=_.value;else if(_.type===ps.Param){const{value:j,repeatable:W,optional:X}=_,B=j in f?f[j]:"";if($t(B)&&!W)throw new Error(`Provided param "${j}" is an array but it is not repeatable (* or + modifiers)`);const I=$t(B)?B.join("/"):B;if(!I)if(X)x.length<2&&(p.endsWith("/")?p=p.slice(0,-1):d=!0);else throw new Error(`Missing required param "${j}"`);p+=I}}return p||"/"}return{re:a,score:o,keys:l,parse:u,stringify:c}}function Ed(e,t){let s=0;for(;s<e.length&&s<t.length;){const o=t[s]-e[s];if(o)return o;s++}return e.length<t.length?e.length===1&&e[0]===at.Static+at.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===at.Static+at.Segment?1:-1:0}function Ri(e,t){let s=0;const o=e.score,r=t.score;for(;s<o.length&&s<r.length;){const l=Ed(o[s],r[s]);if(l)return l;s++}if(Math.abs(r.length-o.length)===1){if(Xr(o))return 1;if(Xr(r))return-1}return r.length-o.length}function Xr(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Pd={strict:!1,end:!0,sensitive:!1};function Id(e,t,s){const o=Ad(Sd(e.path),s),r=Re(o,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function Rd(e,t){const s=[],o=new Map;t=Hr(Pd,t);function r(d){return o.get(d)}function l(d,x,_){const j=!_,W=Zr(d);W.aliasOf=_&&_.record;const X=Hr(t,d),B=[W];if("alias"in d){const T=typeof d.alias=="string"?[d.alias]:d.alias;for(const L of T)B.push(Zr(Re({},W,{components:_?_.record.components:W.components,path:L,aliasOf:_?_.record:W})))}let I,O;for(const T of B){const{path:L}=T;if(x&&L[0]!=="/"){const xe=x.record.path,N=xe[xe.length-1]==="/"?"":"/";T.path=x.record.path+(L&&N+L)}if(I=Id(T,x,X),_?_.alias.push(I):(O=O||I,O!==I&&O.alias.push(I),j&&d.name&&!el(I)&&a(d.name)),Ti(I)&&c(I),W.children){const xe=W.children;for(let N=0;N<xe.length;N++)l(xe[N],I,_&&_.children[N])}_=_||I}return O?()=>{a(O)}:Xs}function a(d){if(Ei(d)){const x=o.get(d);x&&(o.delete(d),s.splice(s.indexOf(x),1),x.children.forEach(a),x.alias.forEach(a))}else{const x=s.indexOf(d);x>-1&&(s.splice(x,1),d.record.name&&o.delete(d.record.name),d.children.forEach(a),d.alias.forEach(a))}}function u(){return s}function c(d){const x=Nd(d,s);s.splice(x,0,d),d.record.name&&!el(d)&&o.set(d.record.name,d)}function f(d,x){let _,j={},W,X;if("name"in d&&d.name){if(_=o.get(d.name),!_)throw Is(Be.MATCHER_NOT_FOUND,{location:d});X=_.record.name,j=Re(Qr(x.params,_.keys.filter(O=>!O.optional).concat(_.parent?_.parent.keys.filter(O=>O.optional):[]).map(O=>O.name)),d.params&&Qr(d.params,_.keys.map(O=>O.name))),W=_.stringify(j)}else if(d.path!=null)W=d.path,_=s.find(O=>O.re.test(W)),_&&(j=_.parse(W),X=_.record.name);else{if(_=x.name?o.get(x.name):s.find(O=>O.re.test(x.path)),!_)throw Is(Be.MATCHER_NOT_FOUND,{location:d,currentLocation:x});X=_.record.name,j=Re({},x.params,d.params),W=_.stringify(j)}const B=[];let I=_;for(;I;)B.unshift(I.record),I=I.parent;return{name:X,path:W,params:j,matched:B,meta:Od(B)}}e.forEach(d=>l(d));function p(){s.length=0,o.clear()}return{addRoute:l,resolve:f,removeRoute:a,clearRoutes:p,getRoutes:u,getRecordMatcher:r}}function Qr(e,t){const s={};for(const o of t)o in e&&(s[o]=e[o]);return s}function Zr(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Td(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Td(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const o in e.components)t[o]=typeof s=="object"?s[o]:s;return t}function el(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Od(e){return e.reduce((t,s)=>Re(t,s.meta),{})}function Nd(e,t){let s=0,o=t.length;for(;s!==o;){const l=s+o>>1;Ri(e,t[l])<0?o=l:s=l+1}const r=Ld(e);return r&&(o=t.lastIndexOf(r,o-1)),o}function Ld(e){let t=e;for(;t=t.parent;)if(Ti(t)&&Ri(e,t)===0)return t}function Ti({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function tl(e){const t=xt(Yn),s=xt(Xo),o=ve(()=>{const c=Me(e.to);return t.resolve(c)}),r=ve(()=>{const{matched:c}=o.value,{length:f}=c,p=c[f-1],d=s.matched;if(!p||!d.length)return-1;const x=d.findIndex(Ps.bind(null,p));if(x>-1)return x;const _=sl(c[f-2]);return f>1&&sl(p)===_&&d[d.length-1].path!==_?d.findIndex(Ps.bind(null,c[f-2])):x}),l=ve(()=>r.value>-1&&Fd(s.params,o.value.params)),a=ve(()=>r.value>-1&&r.value===s.matched.length-1&&Ai(s.params,o.value.params));function u(c={}){if(Ud(c)){const f=t[Me(e.replace)?"replace":"push"](Me(e.to)).catch(Xs);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>f),f}return Promise.resolve()}return{route:o,href:ve(()=>o.value.href),isActive:l,isExactActive:a,navigate:u}}function Dd(e){return e.length===1?e[0]:e}const Md=Vl({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:tl,setup(e,{slots:t}){const s=rt(tl(e)),{options:o}=xt(Yn),r=ve(()=>({[nl(e.activeClass,o.linkActiveClass,"router-link-active")]:s.isActive,[nl(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const l=t.default&&Dd(t.default(s));return e.custom?l:gi("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:r.value},l)}}}),jd=Md;function Ud(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Fd(e,t){for(const s in t){const o=t[s],r=e[s];if(typeof o=="string"){if(o!==r)return!1}else if(!$t(r)||r.length!==o.length||o.some((l,a)=>l.valueOf()!==r[a].valueOf()))return!1}return!0}function sl(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const nl=(e,t,s)=>e??t??s,Vd=Vl({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const o=xt(Ro),r=ve(()=>e.route||o.value),l=xt(Jr,0),a=ve(()=>{let f=Me(l);const{matched:p}=r.value;let d;for(;(d=p[f])&&!d.components;)f++;return f}),u=ve(()=>r.value.matched[a.value]);_n(Jr,ve(()=>a.value+1)),_n(hd,u),_n(Ro,r);const c=V();return bt(()=>[c.value,u.value,e.name],([f,p,d],[x,_,j])=>{p&&(p.instances[d]=f,_&&_!==p&&f&&f===x&&(p.leaveGuards.size||(p.leaveGuards=_.leaveGuards),p.updateGuards.size||(p.updateGuards=_.updateGuards))),f&&p&&(!_||!Ps(p,_)||!x)&&(p.enterCallbacks[d]||[]).forEach(W=>W(f))},{flush:"post"}),()=>{const f=r.value,p=e.name,d=u.value,x=d&&d.components[p];if(!x)return ol(s.default,{Component:x,route:f});const _=d.props[p],j=_?_===!0?f.params:typeof _=="function"?_(f):_:null,X=gi(x,Re({},j,t,{onVnodeUnmounted:B=>{B.component.isUnmounted&&(d.instances[p]=null)},ref:c}));return ol(s.default,{Component:X,route:f})||X}}});function ol(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const Bd=Vd;function Hd(e){const t=Rd(e.routes,e),s=e.parseQuery||gd,o=e.stringifyQuery||Kr,r=e.history,l=Us(),a=Us(),u=Us(),c=Ua(Xt);let f=Xt;bs&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=fo.bind(null,v=>""+v),d=fo.bind(null,Xc),x=fo.bind(null,on);function _(v,A){let E,H;return Ei(v)?(E=t.getRecordMatcher(v),H=A):H=v,t.addRoute(H,E)}function j(v){const A=t.getRecordMatcher(v);A&&t.removeRoute(A)}function W(){return t.getRoutes().map(v=>v.record)}function X(v){return!!t.getRecordMatcher(v)}function B(v,A){if(A=Re({},A||c.value),typeof v=="string"){const P=po(s,v,A.path),F=t.resolve({path:P.path},A),M=r.createHref(P.fullPath);return Re(P,F,{params:x(F.params),hash:on(P.hash),redirectedFrom:void 0,href:M})}let E;if(v.path!=null)E=Re({},v,{path:po(s,v.path,A.path).path});else{const P=Re({},v.params);for(const F in P)P[F]==null&&delete P[F];E=Re({},v,{params:d(P)}),A.params=d(A.params)}const H=t.resolve(E,A),se=v.hash||"";H.params=p(x(H.params));const y=ed(o,Re({},v,{hash:Jc(se),path:H.path})),b=r.createHref(y);return Re({fullPath:y,hash:se,query:o===Kr?md(v.query):v.query||{}},H,{redirectedFrom:void 0,href:b})}function I(v){return typeof v=="string"?po(s,v,c.value.path):Re({},v)}function O(v,A){if(f!==v)return Is(Be.NAVIGATION_CANCELLED,{from:A,to:v})}function T(v){return N(v)}function L(v){return T(Re(I(v),{replace:!0}))}function xe(v,A){const E=v.matched[v.matched.length-1];if(E&&E.redirect){const{redirect:H}=E;let se=typeof H=="function"?H(v,A):H;return typeof se=="string"&&(se=se.includes("?")||se.includes("#")?se=I(se):{path:se},se.params={}),Re({query:v.query,hash:v.hash,params:se.path!=null?{}:v.params},se)}}function N(v,A){const E=f=B(v),H=c.value,se=v.state,y=v.force,b=v.replace===!0,P=xe(E,H);if(P)return N(Re(I(P),{state:typeof P=="object"?Re({},se,P.state):se,force:y,replace:b}),A||E);const F=E;F.redirectedFrom=A;let M;return!y&&td(o,H,E)&&(M=Is(Be.NAVIGATION_DUPLICATED,{to:F,from:H}),Fe(H,H,!0,!1)),(M?Promise.resolve(M):le(F,H)).catch(U=>Mt(U)?Mt(U,Be.NAVIGATION_GUARD_REDIRECT)?U:tt(U):ke(U,F,H)).then(U=>{if(U){if(Mt(U,Be.NAVIGATION_GUARD_REDIRECT))return N(Re({replace:b},I(U.to),{state:typeof U.to=="object"?Re({},se,U.to.state):se,force:y}),A||F)}else U=_e(F,H,!0,b,se);return ie(F,H,U),U})}function J(v,A){const E=O(v,A);return E?Promise.reject(E):Promise.resolve()}function Q(v){const A=m.values().next().value;return A&&typeof A.runWithContext=="function"?A.runWithContext(v):v()}function le(v,A){let E;const[H,se,y]=vd(v,A);E=mo(H.reverse(),"beforeRouteLeave",v,A);for(const P of H)P.leaveGuards.forEach(F=>{E.push(ts(F,v,A))});const b=J.bind(null,v,A);return E.push(b),S(E).then(()=>{E=[];for(const P of l.list())E.push(ts(P,v,A));return E.push(b),S(E)}).then(()=>{E=mo(se,"beforeRouteUpdate",v,A);for(const P of se)P.updateGuards.forEach(F=>{E.push(ts(F,v,A))});return E.push(b),S(E)}).then(()=>{E=[];for(const P of y)if(P.beforeEnter)if($t(P.beforeEnter))for(const F of P.beforeEnter)E.push(ts(F,v,A));else E.push(ts(P.beforeEnter,v,A));return E.push(b),S(E)}).then(()=>(v.matched.forEach(P=>P.enterCallbacks={}),E=mo(y,"beforeRouteEnter",v,A,Q),E.push(b),S(E))).then(()=>{E=[];for(const P of a.list())E.push(ts(P,v,A));return E.push(b),S(E)}).catch(P=>Mt(P,Be.NAVIGATION_CANCELLED)?P:Promise.reject(P))}function ie(v,A,E){u.list().forEach(H=>Q(()=>H(v,A,E)))}function _e(v,A,E,H,se){const y=O(v,A);if(y)return y;const b=A===Xt,P=bs?history.state:{};E&&(H||b?r.replace(v.fullPath,Re({scroll:b&&P&&P.scroll},se)):r.push(v.fullPath,se)),c.value=v,Fe(v,A,E,b),tt()}let we;function qe(){we||(we=r.listen((v,A,E)=>{if(!w.listening)return;const H=B(v),se=xe(H,w.currentRoute.value);if(se){N(Re(se,{replace:!0,force:!0}),H).catch(Xs);return}f=H;const y=c.value;bs&&ud(qr(y.fullPath,E.delta),Gn()),le(H,y).catch(b=>Mt(b,Be.NAVIGATION_ABORTED|Be.NAVIGATION_CANCELLED)?b:Mt(b,Be.NAVIGATION_GUARD_REDIRECT)?(N(Re(I(b.to),{force:!0}),H).then(P=>{Mt(P,Be.NAVIGATION_ABORTED|Be.NAVIGATION_DUPLICATED)&&!E.delta&&E.type===Po.pop&&r.go(-1,!1)}).catch(Xs),Promise.reject()):(E.delta&&r.go(-E.delta,!1),ke(b,H,y))).then(b=>{b=b||_e(H,y,!1),b&&(E.delta&&!Mt(b,Be.NAVIGATION_CANCELLED)?r.go(-E.delta,!1):E.type===Po.pop&&Mt(b,Be.NAVIGATION_ABORTED|Be.NAVIGATION_DUPLICATED)&&r.go(-1,!1)),ie(H,y,b)}).catch(Xs)}))}let Xe=Us(),Pe=Us(),ae;function ke(v,A,E){tt(v);const H=Pe.list();return H.length?H.forEach(se=>se(v,A,E)):console.error(v),Promise.reject(v)}function Ge(){return ae&&c.value!==Xt?Promise.resolve():new Promise((v,A)=>{Xe.add([v,A])})}function tt(v){return ae||(ae=!v,qe(),Xe.list().forEach(([A,E])=>v?E(v):A()),Xe.reset()),v}function Fe(v,A,E,H){const{scrollBehavior:se}=e;if(!bs||!se)return Promise.resolve();const y=!E&&cd(qr(v.fullPath,0))||(H||!E)&&history.state&&history.state.scroll||null;return Cs().then(()=>se(v,A,y)).then(b=>b&&ad(b)).catch(b=>ke(b,v,A))}const Ve=v=>r.go(v);let $;const m=new Set,w={currentRoute:c,listening:!0,addRoute:_,removeRoute:j,clearRoutes:t.clearRoutes,hasRoute:X,getRoutes:W,resolve:B,options:e,push:T,replace:L,go:Ve,back:()=>Ve(-1),forward:()=>Ve(1),beforeEach:l.add,beforeResolve:a.add,afterEach:u.add,onError:Pe.add,isReady:Ge,install(v){v.component("RouterLink",jd),v.component("RouterView",Bd),v.config.globalProperties.$router=w,Object.defineProperty(v.config.globalProperties,"$route",{enumerable:!0,get:()=>Me(c)}),bs&&!$&&c.value===Xt&&($=!0,T(r.location).catch(H=>{}));const A={};for(const H in Xt)Object.defineProperty(A,H,{get:()=>c.value[H],enumerable:!0});v.provide(Yn,w),v.provide(Xo,Rl(A)),v.provide(Ro,c);const E=v.unmount;m.add(v),v.unmount=function(){m.delete(v),m.size<1&&(f=Xt,we&&we(),we=null,c.value=Xt,$=!1,ae=!1),E()}}};function S(v){return v.reduce((A,E)=>A.then(()=>Q(E)),Promise.resolve())}return w}function Ct(){return xt(Yn)}function cn(e){return xt(Xo)}const zd="/placeholder.svg",Wd="/api",be=async(e,t={})=>{const s=`${Wd}${e}`,o={headers:{"Content-Type":"application/json",...t.headers},...t},r=localStorage.getItem("auth_token");r&&(o.headers.Authorization=`Bearer ${r}`);try{const l=await fetch(s,o),a=(l.headers.get("content-type")||"").toLowerCase(),u=await l.text();let c=null;if(a.includes("application/json"))try{c=JSON.parse(u)}catch{throw console.error("Failed to parse JSON response from",s,"body:",u.slice(0,200)),new Error(`Invalid JSON response from ${s}`)}else try{c=JSON.parse(u)}catch{throw console.warn("API returned non-JSON response for",s,"status:",l.status),console.debug("Response snippet:",u.slice(0,300)),new Error(`API returned non-JSON response for ${s} (status ${l.status}). Response starts with: ${u.slice(0,200)}`)}if(!l.ok)throw new Error(c&&c.message?c.message:`HTTP error! status: ${l.status}`);return c}catch(l){throw console.error("API request failed:",l),l}},Ye={getHomeData:(e="")=>be(`/anime/home${e}`),getList:(e={})=>{const t=new URLSearchParams(e).toString();return be(`/anime?${t}`)},getAllAnimes:(e={})=>{const t=new URLSearchParams(e).toString();return be(`/anime?${t}`)},getDetail:e=>be(`/anime/${e}`),getAnimeDetail:e=>be(`/anime/${e}`),getEpisodes:async e=>{const t=`/anime/${e}`;try{const s=await be(t);return Array.isArray(s)?s:s.episodes||s}catch(s){throw s}},getUpdatesByDay:(e,t=20)=>be(`/anime/updates?day=${e}&limit=${t}`),getWeeklyUpdates:(e=6)=>be(`/anime/weekly-updates?limit=${e}`),getFavorites:()=>be("/user/favorites"),getWatchHistory:()=>be("/user/watch-history"),addFavorite:e=>be(`/anime/${e}/favorite`,{method:"POST"}),removeFavorite:e=>be(`/anime/${e}/favorite`,{method:"DELETE"}),search:e=>be(`/anime/search?q=${encodeURIComponent(e)}`),getCategories:()=>be("/anime/categories"),getByCategory:(e,t={})=>{const s=new URLSearchParams(t).toString();return be(`/anime/category/${e}?${s}`)},recordWatch:({animeId:e,episodeId:t,progress:s})=>be("/anime/watch",{method:"POST",body:JSON.stringify({animeId:e,episodeId:t,progress:s})})},Bt={login:e=>be("/auth/login",{method:"POST",body:JSON.stringify(e)}),register:e=>be("/auth/register",{method:"POST",body:JSON.stringify(e)}),getProfile:()=>be("/user/profile"),getUserInfo:()=>be("/user/profile"),updateProfile:e=>be("/user/profile",{method:"PUT",body:JSON.stringify(e)}),getFavorites:()=>be("/user/favorites"),addFavorite:e=>be(`/anime/${e}/favorite`,{method:"POST"}),removeFavorite:e=>be(`/anime/${e}/favorite`,{method:"DELETE"}),getWatchHistory:()=>be("/user/watch-history"),addWatchHistory:(e,t,s)=>be("/user/watch-history",{method:"POST",body:JSON.stringify({anime_id:e,episode_id:t,progress:s})})};Bt.createVipOrder=(e={})=>be("/payment/create-order",{method:"POST",body:JSON.stringify(e)});Bt.completeVipOrder=(e={})=>be("/payment/complete",{method:"POST",body:JSON.stringify(e)});const rl={login:e=>be("/auth/admin/login",{method:"POST",body:JSON.stringify(e)}),getStats:()=>be("/admin/stats"),getAnimes:(e={})=>{const t=new URLSearchParams(e).toString();return be(`/admin/animes?${t}`)},createAnime:(e,t)=>be(`/admin/animes/${e}`,{method:"PUT",body:JSON.stringify(t)}),updateAnime:(e,t)=>be(`/admin/animes/${e}`,{method:"PUT",body:JSON.stringify(t)}),deleteAnime:e=>be(`/admin/animes/${e}`,{method:"DELETE"}),getUsers:()=>be("/admin/users"),updateUserVip:(e,t)=>be(`/admin/users/${e}/vip`,{method:"PUT",body:JSON.stringify(t)}),getUser:e=>be(`/admin/users/${e}`),getCategories:()=>be("/admin/categories"),createCategory:e=>be("/admin/categories",{method:"POST",body:JSON.stringify(e)}),updateCategory:(e,t)=>be(`/admin/categories/${e}`,{method:"PUT",body:JSON.stringify(t)}),deleteCategory:e=>be(`/admin/categories/${e}`,{method:"DELETE"})},Os=(e,t)=>{const s=e.__vccOpts||e;for(const[o,r]of t)s[o]=r;return s},qd={class:"relative"},Kd={class:"anime-thumb"},Jd=["src","alt"],Gd={class:"absolute top-2 left-2"},Yd={class:"absolute bottom-2 right-2 pointer-events-none"},Xd={class:"episode-badge text-xs font-semibold"},Qd={class:"p-3 card-content"},Zd=["title"],ef={class:"flex flex-wrap gap-1 mb-1 card-tags"},tf={class:"flex items-center gap-2 text-xs text-gray-500 mb-1 card-meta"},sf={class:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded"},nf={class:"ml-auto text-gray-400"},of={class:"update-time text-xs text-gray-400"},rf={class:"px-3 py-2 text-xs text-gray-500 border-b border-gray-100"},lf={__name:"AnimeCard",props:{anime:{type:Object,required:!0},playEpisode:{type:[Number,String],default:null}},setup(e){const t=typeof window<"u"&&window.location&&window.location.hostname==="localhost"?"http://localhost:3003":"/api",s=Ct(),o=e,r=V(!1),l=V(0),a=V(0),u=ve(()=>{const N=o.anime||{};return N.title||N.name||N.original_title||""}),c=ve(()=>{const N=o.anime._id||o.anime.id;return o.playEpisode!==null&&o.playEpisode!==void 0&&N!==void 0?`/play/${N}/${o.playEpisode}`:`/detail/${N}`}),f=()=>window.location.origin+s.resolve(c.value).fullPath,p=()=>{const N=f();window.open(N,"_blank","noopener,noreferrer")},d=()=>{s.push(c.value),_()},x=N=>{l.value=N.clientX,a.value=N.clientY,r.value=!0},_=()=>{r.value=!1},j=N=>{r.value&&_()};vt(()=>{document.addEventListener("click",j)}),Wo(()=>{document.removeEventListener("click",j)});const W=N=>{const J=N&&String(N).toLowerCase();switch(J==="cancelled"?"movie":J){case"ongoing":return"bg-green-500 text-white";case"completed":return"bg-blue-500 text-white";case"movie":return"bg-red-500 text-white";case"upcoming":return"bg-yellow-500 text-black";default:return"bg-gray-500 text-white"}},X=N=>{switch(N){case"ongoing":return"";case"completed":return"";case"movie":return"";case"upcoming":return"";default:return""}},B=N=>N?new Date(N).toLocaleDateString("zh-CN"):"",I=N=>{const J=N.target;J.dataset.errorHandled||(J.dataset.errorHandled="true",console.warn("Image failed to load:",J.src,"for anime:",o.anime?.id||o.anime?.title),J.src="/placeholder.svg",J.onerror=null)},O=ve(()=>{const N=o.anime||{},J=N.cover||N.cover_url||N.coverUrl||N.banner_url||"";if(!J||typeof J!="string"||J.trim()==="")return console.warn("AnimeCard missing cover for:",N.id||N.title,"Available fields:",{cover:N.cover,cover_url:N.cover_url,coverUrl:N.coverUrl,banner_url:N.banner_url}),"/placeholder.svg";const Q=J.trim();if(Q.startsWith("/uploads/"))try{return typeof window<"u"&&window.location&&window.location.hostname==="localhost"?`${window.location.protocol}//${window.location.hostname}:3003${Q}`:t.startsWith("http")?`${t.replace(/\/api\/?$/,"")}${Q}`:Q}catch(le){return console.warn("Failed to construct full URL for:",Q,le),Q}return Q.startsWith("http://")||Q.startsWith("https://")||Q.startsWith("/")||console.warn("Unexpected cover URL format:",Q,"for anime:",N.id||N.title),Q}),T=V(null),L=ve(()=>{const N=o.anime||{},J=[];if(Array.isArray(N.episodes)){const ie=N.episodes.length;ie>0&&J.push(ie)}const Q=["episodes_count","episode_count","latest_episode_number","latest_episode","last_episode","eps","ep_count","total_episodes","total","latest","updated_to"];for(const ie of Q){const _e=N[ie];if(_e!=null&&_e!==""){const we=Number(_e);if(!isNaN(we)&&we>0){J.push(we);break}}}try{if(N.episodesInfo&&N.episodesInfo.total!=null){const ie=Number(N.episodesInfo.total);!isNaN(ie)&&ie>0&&J.push(ie)}}catch{}if(T.value!==null){const ie=Number(T.value);!isNaN(ie)&&ie>0&&J.push(ie)}const le=J.find(ie=>ie>0);return le&&le>0?` ${le} `:""}),xe=ve(()=>{const N=L.value;return N&&String(N).trim()!==""?N:" ? "});return vt(async()=>{try{const N=o.anime&&(o.anime.id||o.anime._id);if(!(Array.isArray(o.anime?.episodes)||o.anime?.episodes_count||o.anime?.episode_count||o.anime?.total_episodes||o.anime?.total)&&N){const Q=window.__animeEpisodesCache=window.__animeEpisodesCache||{};if(Q[N]!=null){T.value=Q[N];return}try{const le=await Ye.getEpisodes(N);let ie=null;Array.isArray(le)?ie=le.length:Array.isArray(le.episodes)?ie=le.episodes.length:le&&typeof le.total=="number"&&(ie=le.total),ie!=null&&(T.value=ie,Q[N]=ie)}catch{}}}catch{}}),(N,J)=>(k(),C("div",{class:"anime-card bg-white rounded-lg shadow-md overflow-hidden cursor-pointer flex flex-col relative",onClick:p,onContextmenu:nt(x,["prevent"])},[n("div",qd,[n("div",Kd,[n("img",{src:O.value,alt:e.anime.title,class:"thumb-img",onError:I},null,40,Jd)]),n("div",Gd,[n("span",{class:Se([W(e.anime.status),"px-2 py-1 text-xs font-semibold rounded"])},R(X(e.anime.status)),3)]),n("div",Yd,[n("span",Xd,R(xe.value),1)]),n("div",{class:"new-window-btn absolute top-2 right-2 opacity-0 hover:opacity-100 transition-opacity duration-200",onClick:nt(p,["stop"]),title:""},[...J[0]||(J[0]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-white drop-shadow-md",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})],-1)])])]),n("div",Qd,[n("h3",{class:"anime-title text-base font-semibold text-gray-900 line-clamp-2",title:u.value},R(u.value),9,Zd),n("div",ef,[(k(!0),C(fe,null,$e(e.anime.tags?.slice(0,3),Q=>(k(),C("span",{key:Q,class:"px-1 py-0.5 bg-gray-100 text-gray-600 text-xs rounded"},R(Q),1))),128))]),n("div",tf,[n("span",sf,R(e.anime.category_name||e.anime.category||""),1),n("span",nf,R(e.anime.year||""),1)]),n("div",of," : "+R(B(e.anime.updatedAt||e.anime.createdAt)),1)]),r.value?(k(),C("div",{key:0,class:"context-menu fixed bg-white rounded-lg shadow-xl border border-gray-200 py-1 z-50 min-w-[160px]",style:ln({left:l.value+"px",top:a.value+"px"})},[n("div",rf,R(e.anime.title),1),n("button",{class:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",onClick:p},[...J[1]||(J[1]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})],-1),je("  ",-1)])]),n("button",{class:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",onClick:d},[...J[2]||(J[2]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1),je("  ",-1)])])],4)):oe("",!0)],32))}},Bs=Os(lf,[["__scopeId","data-v-04b5bfaa"]]),af={class:"min-h-screen bg-gray-50"},uf={class:"relative overflow-hidden py-5"},cf={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},df={class:"relative"},ff=["onClick"],pf=["src","alt"],gf={class:"absolute bottom-2 left-5 text-white p-10 max-w-md"},mf={class:"text-3xl md:text-4xl font-black tracking-wide drop-shadow-lg"},hf={class:"mt-3 opacity-80 text-base md:text-lg font-medium"},vf={key:0,class:"absolute inset-0 bg-gray-100 flex items-center justify-center"},yf={class:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2 z-30"},xf=["onClick","aria-current","aria-label"],bf={class:"py-4 bg-gradient-to-b from-gray-50 to-white"},_f={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},wf={class:"flex items-center justify-between mb-4"},kf={class:"flex space-x-2 mb-4 overflow-x-auto pb-2"},Sf=["onClick"],$f={class:"rounded-xl"},Cf={key:0,class:"flex items-center justify-center h-48"},Af={key:1},Ef={class:"w-full overflow-x-auto overflow-y-visible hide-scrollbar pb-2"},Pf={class:"flex gap-3 min-w-max"},If={key:2,class:"flex flex-col items-center justify-center h-48 text-gray-500"},Rf={class:"py-4 bg-white"},Tf={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Of={class:"w-full overflow-x-auto overflow-y-visible hide-scrollbar pb-2"},Nf={class:"flex gap-3 min-w-max"},Lf={class:"py-10"},Df={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Mf={class:"flex items-center justify-between mb-8"},jf={class:"flex flex-col md:flex-row items-stretch gap-5"},Uf={class:"w-full overflow-x-auto overflow-y-visible hide-scrollbar pb-2"},Ff={class:"flex gap-3 min-w-max"},Vf={key:0,class:"hidden md:block w-[190px] flex-shrink-0"},Bf={class:"bg-white rounded-lg shadow-md p-2 h-[400px] overflow-y-auto"},Hf={class:"space-y-1 list-none p-0 m-0"},zf={class:"flex-shrink-0"},Wf={class:"flex-1 min-w-0"},qf={class:"text-sm font-medium text-gray-900 truncate"},Kf={class:"py-10 bg-white"},Jf={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Gf={class:"flex items-center justify-between mb-8"},Yf={class:"flex flex-col md:flex-row items-stretch gap-5"},Xf={class:"w-full overflow-x-auto overflow-y-visible hide-scrollbar pb-2"},Qf={class:"flex gap-3 min-w-max"},Zf={key:0,class:"hidden md:block w-[190px] flex-shrink-0"},ep={class:"bg-white rounded-lg shadow-md p-2 h-[400px] overflow-y-auto"},tp={class:"space-y-1 list-none p-0 m-0"},sp={class:"flex-shrink-0"},np={class:"flex-1 min-w-0"},op={class:"text-sm font-medium text-gray-900 truncate"},rp={class:"py-12"},lp={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},ip={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3"},ap={class:"flex-shrink-0"},up={class:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-blue-600 text-white text-sm font-bold"},cp={class:"flex-1 min-w-0"},dp={class:"text-lg font-semibold text-gray-900 truncate"},fp={class:"text-sm text-gray-500"},pp={class:"flex-shrink-0"},gp=["src","alt"],mp={__name:"Home",setup(e){const t=$=>{if(!$)return"/placeholder.svg";const m=String($).trim();return m===""?"/placeholder.svg":m.startsWith("http://")||m.startsWith("https://")||m.startsWith("//")||m.startsWith("/")?m:m.includes("uploads/")?"/"+m:"/uploads/"+m},s=V([]),o=V([]),r=V([]),l=V([]),a=V([]),u=V([]),c=V([]),f=V([]),p=V(new Date().getDay()||7),d=V(!1),x=[{day:1,dayName:""},{day:2,dayName:""},{day:3,dayName:""},{day:4,dayName:""},{day:5,dayName:""},{day:6,dayName:""},{day:7,dayName:""}],_=ve(()=>f.value.find($=>$.day===p.value)),j=async()=>{try{d.value=!0,console.log("...");const $=await Ye.getWeeklyUpdates(6);console.log(" API :",$),$&&$.weekDays?(f.value=$.weekDays,console.log(":",f.value),$.today&&f.value.some(m=>m.day===$.today)&&(p.value=$.today,console.log(":",p.value))):(console.warn("API  weekDays "),f.value=x.map(m=>({day:m.day,dayName:m.dayName,dayShortName:m.dayName.replace("",""),animes:[]})))}catch($){console.error("Error loading weekly updates:",$),f.value=x.map(m=>({...m,dayShortName:m.dayName.replace("",""),animes:[]}))}finally{d.value=!1}},W=ve(()=>{const $=new Set,m=[];for(const w of a.value||[])w&&w.id!=null&&($.add(String(w.id)),m.push(w));for(const w of u.value||[])w&&w.id!=null&&!$.has(String(w.id))&&m.push({id:w.id,title:w.title,cover:w.cover||"/placeholder.svg",status:w.status||"ongoing",category_name:"",updatedAt:w.updatedAt||null,views:w.views||0});return m.slice(0,5)}),X=ve(()=>{const $=[],m=new Set,w=v=>{if(!v)return!1;try{if(v.category_name&&String(v.category_name).includes("")||v.category&&String(v.category).includes(""))return!0;const A=String(v.region||"").toLowerCase();if(A==="china"||A==="cn"||String(v.country||"").includes("")||String(v.origin||"").includes(""))return!0}catch{return!1}return!1},S=v=>{for(const A of v||[]){if(!A||A.id==null)continue;const E=String(A.id);if(!m.has(E)&&w(A)&&($.push({id:A.id,title:A.title||A.name||"",cover:A.cover||A.cover_url||"/placeholder.svg",status:A.status||"ongoing",category_name:A.category_name||A.category||"",updatedAt:A.updatedAt||A.updated_at||null,views:A.view_count||A.views||0}),m.add(E),$.length>=5))return}};return S(r.value),$.length<5&&S(o.value),$.length<5&&S(l.value),$.length<5&&S(a.value),$.length<5&&S(c.value),$}),B=ve(()=>{const $=[],m=new Set,w=S=>{if(!S||S.id==null)return;const v=String(S.id);if(!m.has(v))try{(S.category_name&&String(S.category_name).includes("")||S.category&&String(S.category).includes("")||["china","cn"].includes(String(S.region||"").toLowerCase())||String(S.country||"").includes("")||String(S.origin||"").includes(""))&&($.push({id:S.id,title:S.title||S.name||"",cover:S.cover||S.cover_url||"/placeholder.svg",views:S.view_count||S.views||0}),m.add(v))}catch{}};for(const S of r.value||[])w(S);for(const S of o.value||[])w(S);for(const S of l.value||[])w(S);for(const S of a.value||[])w(S);for(const S of c.value||[])w(S);if($.sort((S,v)=>Number(v.views||0)-Number(S.views||0)),$.length<7){const S=[r.value||[],o.value||[],l.value||[],a.value||[]];for(const v of S){for(const A of v||[]){const E=A&&A.id!=null?String(A.id):null;if(E&&!m.has(E)&&($.push({id:A.id,title:A.title||A.name||"",cover:A.cover||A.cover_url||"/placeholder.svg",views:A.view_count||A.views||0}),m.add(E),$.length>=7))break}if($.length>=7)break}$.sort((v,A)=>Number(A.views||0)-Number(v.views||0))}return $.slice(0,7)}),I=V(!0),O=ve(()=>{const $={};for(let m=0;m<(u.value||[]).length;m++){const w=u.value[m];w&&w.id!=null&&($[String(w.id)]=m+1)}return $}),T=ve(()=>{const m=[],w=new Set,S=A=>{if(!A)return!1;try{if(A.category_name&&String(A.category_name).includes("")||A.category&&String(A.category).includes(""))return!0;const E=String(A.region||"").toLowerCase();if(E==="japan"||E==="jp"||String(A.country||"").includes("")||String(A.origin||"").includes(""))return!0}catch{return!1}return!1};for(const A of u.value||[])if(A&&A.id!=null&&!w.has(String(A.id))&&S(A)&&(m.push(A),w.add(String(A.id)),m.length>=7))return m;const v=A=>{for(const E of A||[]){const H=E&&E.id!=null?String(E.id):null;if(H&&!w.has(H)&&S(E)&&(m.push({id:E.id,title:E.title||E.name||"",cover:E.cover||E.cover_url||"/placeholder.svg",views:E.view_count||E.views||0}),w.add(H),m.length>=7))return}};if(v(a.value),m.length<7&&v(r.value),m.length<7&&v(o.value),m.length<7){const A=E=>{for(const H of E||[]){const se=H&&H.id!=null?String(H.id):null;if(se&&!w.has(se)&&(m.push({id:H.id,title:H.title||H.name||"",cover:H.cover||H.cover_url||"/placeholder.svg",views:H.view_count||H.views||0}),w.add(se),m.length>=7))return}};A(r.value),m.length<7&&A(o.value),m.length<7&&A(a.value)}return m.slice(0,7)});function L(){try{const $=Array.isArray(u.value)?[...u.value]:[],m=new Map;for(const S of $)S&&S.id!=null&&m.set(String(S.id),{...S});for(const S of a.value||[]){if(!S||S.id==null)continue;const v=String(S.id),A={id:S.id,title:S.title||S.name||"",cover:S.cover||S.cover_url||"/placeholder.svg",views:S.view_count||S.views||S.views_count||0};m.set(v,{...m.get(v),...A})}const w=Array.from(m.values());w.sort((S,v)=>Number(v.views||0)-Number(S.views||0)),u.value=w.slice(0,8)}catch($){console.warn("syncJapaneseRankings failed:",$)}}bt(a,()=>{L()},{deep:!0});const xe=V(!0),N={popularLimit:12,latestLimit:6,todayUpdatesLimit:6,completedLimit:6},J=V([{title:"",subtitle:"",image:"/placeholder.svg",cta:{to:"/category",text:""}}]),Q=V(0);let le=null;function ie($=4e3){_e(),!(!J.value||J.value.length<=1)&&(le=setInterval(()=>{Q.value=(Q.value+1)%J.value.length},$))}function _e(){le&&(clearInterval(le),le=null)}function we(){!J.value||J.value.length===0||(Q.value=(Q.value+1)%J.value.length,ie())}function qe(){!J.value||J.value.length===0||(Q.value=(Q.value-1+J.value.length)%J.value.length,ie())}function Xe($){Q.value=$,ie()}const Pe=V(0),ae=V(0);function ke($){!$.touches||$.touches.length===0||(Pe.value=$.touches[0].clientX,ae.value=Pe.value,_e())}function Ge($){!$.touches||$.touches.length===0||(ae.value=$.touches[0].clientX)}function tt($){const w=($.changedTouches&&$.changedTouches[0]&&$.changedTouches[0].clientX||ae.value)-Pe.value,S=50;w>S?qe():w<-S&&we(),ie()}function Fe($){$.key==="ArrowLeft"&&qe(),$.key==="ArrowRight"&&we(),($.key===" "||$.key==="Spacebar")&&(le?_e():ie())}const Ve=async()=>{try{const[$,m]=await Promise.all([Ye.getHomeData(`?limit=${N.popularLimit}`),Ye.getHomeData(`?limit=${N.latestLimit}`)]);console.log("Popular data loaded:",$),console.log("Latest data loaded:",m),r.value=($.popular||[]).map(v=>({id:v.id,title:v.title,cover:v.cover_url||v.cover||"/placeholder.svg",views:v.view_count||v.views||0,updatedAt:v.updated_at||v.created_at||null}));const w=(m.latest||[]).map(v=>({id:v.id,title:v.title,cover:v.cover_url||v.cover||"/placeholder.svg",status:v.status||"ongoing",category:v.category_name||v.category||"",updatedAt:v.updated_at||v.created_at||null,year:v.release_date?new Date(v.release_date).getFullYear():v.year||"",views:v.view_count||v.views||0}));o.value=w,s.value=w.slice(0,N.todayUpdatesLimit),l.value=(m.latest||[]).filter(v=>v.status==="completed").map(v=>({id:v.id,title:v.title,cover:v.cover_url||v.cover||"/placeholder.svg",updatedAt:v.updated_at||v.created_at||null,views:v.view_count||v.views||0})).slice(0,N.completedLimit);try{const v=["japan","","jp"];let A=[];for(const E of v)try{const H=await Ye.getList({region:E,limit:50,sort:"popular"}),se=H?.animes||H||[];if(Array.isArray(se)&&se.length>0){A=se,console.debug("Loaded Japanese anime via region=",E,"count=",se.length);break}else console.debug("No data for region=",E)}catch(H){console.debug("API call failed for region=",E,H)}if(!A||A.length===0)try{const E=await Ye.getList({limit:200,sort:"popular"});A=(E?.animes||E||[]||[]).filter(se=>se?.category_name?.includes("")||se?.category?.includes("")||String(se?.region||"").toLowerCase()==="japan"||String(se?.country||"").includes("")||String(se?.origin||"").includes("")),console.debug("Filtered popular list for Japanese anime, found=",A.length)}catch(E){console.debug("Failed to load fallback popular list",E)}(!A||A.length===0)&&(A=[...m.latest||[],...$.popular||[]].filter(H=>H?.category_name?.includes("")||H?.category?.includes("")||String(H?.region||"").toLowerCase()==="japan"||String(H?.country||"").includes("")),console.debug("Fell back to merged latest+popular filtering, found=",A.length)),a.value=(A||[]).slice(0,20).map(E=>({id:E.id,title:E.title,cover:E.cover_url||E.cover||"/placeholder.svg",status:E.status||"ongoing",category:E.category_name||E.category||"",updatedAt:E.updated_at||E.created_at||null,year:E.release_date?new Date(E.release_date).getFullYear():E.year||"",views:E.view_count||E.views||0})),u.value=(A||[]).slice(0,20).map(E=>({id:E.id,title:E.title,cover:E.cover_url||E.cover||"/placeholder.svg",views:E.view_count||E.views||0})),a.value.length||console.warn("Japanese anime list is empty after all fallbacks. Check backend data and region fields.")}catch(v){console.warn("Unexpected error when loading Japanese anime data:",v),a.value=[],u.value=[]}try{const v=["china","","cn"];let A=[];for(const E of v)try{const H=await Ye.getList({region:E,limit:50,sort:"popular"}),se=H?.animes||H||[];if(Array.isArray(se)&&se.length>0){A=se,console.debug("Loaded Chinese anime via region=",E,"count=",se.length);break}else console.debug("No data for region=",E)}catch(H){console.debug("API call failed for region=",E,H)}if(!A||A.length===0)try{const E=await Ye.getList({limit:200,sort:"popular"});A=(E?.animes||E||[]||[]).filter(se=>se?.category_name?.includes("")||se?.category?.includes("")||String(se?.region||"").toLowerCase()==="china"||String(se?.region||"").toLowerCase()==="cn"||String(se?.country||"").includes("")||String(se?.origin||"").includes("")),console.debug("Filtered popular list for Chinese anime, found=",A.length)}catch(E){console.debug("Failed to load fallback popular list",E)}(!A||A.length===0)&&(A=[...m.latest||[],...$.popular||[]].filter(H=>H?.category_name?.includes("")||H?.category?.includes("")||String(H?.region||"").toLowerCase()==="china"||String(H?.region||"").toLowerCase()==="cn"||String(H?.country||"").includes("")),console.debug("Fell back to merged latest+popular filtering for Chinese, found=",A.length)),c.value=(A||[]).slice(0,20).map(E=>({id:E.id,title:E.title,cover:E.cover_url||E.cover||"/placeholder.svg",status:E.status||"ongoing",category:E.category_name||E.category||"",updatedAt:E.updated_at||E.created_at||null,year:E.release_date?new Date(E.release_date).getFullYear():E.year||"",views:E.view_count||E.views||0,region:E.region||""})),c.value.length||console.warn("Chinese anime list is empty after all fallbacks. Check backend data and region fields.")}catch(v){console.warn("Unexpected error when loading Chinese anime data:",v),c.value=[]}const S=$.banners&&$.banners.length>0?$.banners:m.banners||[];console.log("Banners data from backend:",S),S&&Array.isArray(S)&&S.length>0?(J.value=S.map(v=>({title:v.title||"",subtitle:v.subtitle||"",image:t(v.image_url),cta:v.link_url?{to:v.link_url,text:""}:null})),console.log("Slides after mapping:",J.value)):console.log("No banners found, using default carousel"),ie()}catch($){console.error("Error loading home data:",$)}};return vt(()=>{Ve(),j(),window.addEventListener("keydown",Fe)}),zn(()=>{_e(),window.removeEventListener("keydown",Fe)}),($,m)=>{const w=Nt("router-link");return k(),C("div",af,[n("section",uf,[n("div",cf,[n("div",df,[n("div",{class:"h-48 md:h-80 lg:h-[390px] lg:w-[1200px] rounded-lg overflow-hidden relative mx-auto",role:"region","aria-label":"Homepage carousel",onMouseenter:_e,onMouseleave:ie},[(k(!0),C(fe,null,$e(J.value,(S,v)=>(k(),C("div",{key:v,class:Se(["absolute inset-0 transition-opacity duration-700 cursor-pointer",v===Q.value?"opacity-100 z-10":"opacity-0 z-0 pointer-events-none"]),onTouchstartPassive:ke,onTouchmovePassive:Ge,onTouchendPassive:tt,onClick:A=>S.cta&&S.cta.to?$.$router.push(S.cta.to):we()},[n("img",{src:S.image,alt:S.title,class:"w-full h-full object-cover",loading:"lazy",decoding:"async"},null,8,pf),n("div",gf,[n("h2",mf,R(S.title),1),n("p",hf,R(S.subtitle),1)])],42,ff))),128)),!J.value||J.value.length===0?(k(),C("div",vf,[...m[0]||(m[0]=[n("div",{class:"text-center text-gray-500"},[n("img",{src:zd,alt:"placeholder",class:"mx-auto w-48 h-32 object-contain opacity-40"}),n("div",{class:"mt-2"},"")],-1)])])):oe("",!0)],32),n("button",{onClick:qe,class:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-60 hover:bg-opacity-80 rounded-full p-2 z-30 pointer-events-auto","aria-label":"Previous slide"},[...m[1]||(m[1]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-800",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[n("path",{"fill-rule":"evenodd",d:"M7.707 4.293a1 1 0 010 1.414L4.414 9H16a1 1 0 110 2H4.414l3.293 3.293a1 1 0 11-1.414 1.414l-5-5a1 1 0 010-1.414l5-5a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)])]),n("button",{onClick:we,class:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-60 hover:bg-opacity-80 rounded-full p-2 z-30 pointer-events-auto","aria-label":"Next slide"},[...m[2]||(m[2]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-800",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[n("path",{"fill-rule":"evenodd",d:"M12.293 15.707a1 1 0 010-1.414L15.586 11H4a1 1 0 110-2h11.586l-3.293-3.293a1 1 0 111.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)])]),n("div",yf,[(k(!0),C(fe,null,$e(J.value,(S,v)=>(k(),C("button",{key:v,onClick:A=>Xe(v),"aria-current":v===Q.value?"true":"false",class:Se(["w-3 h-3 rounded-full transition-colors",v===Q.value?"bg-white":"bg-white bg-opacity-50"]),"aria-label":`Go to slide ${v+1}`},null,10,xf))),128))])])])]),n("section",bf,[n("div",_f,[n("div",wf,[m[4]||(m[4]=n("div",null,[n("h2",{class:"text-3xl font-bold text-gray-900"},""),n("p",{class:"text-gray-500 mt-1"},"")],-1)),Ee(w,{to:"/category",class:"text-blue-600 hover:text-blue-800 font-semibold flex items-center"},{default:Ue(()=>[...m[3]||(m[3]=[je("  > ",-1),n("svg",{class:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]),_:1})]),n("div",kf,[(k(),C(fe,null,$e(x,S=>n("button",{key:S.day,onClick:v=>p.value=S.day,class:Se(["px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all duration-200",p.value===S.day?"bg-blue-600 text-white shadow-md":"bg-white text-gray-600 hover:bg-blue-50"])},R(S.dayName),11,Sf)),64))]),n("div",$f,[d.value?(k(),C("div",Cf,[...m[5]||(m[5]=[n("div",{class:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600"},null,-1)])])):_.value&&_.value.animes.length>0?(k(),C("div",Af,[n("div",Ef,[n("div",Pf,[(k(!0),C(fe,null,$e(_.value.animes,S=>(k(),St(Bs,{key:S.id,anime:S},null,8,["anime"]))),128))])])])):(k(),C("div",If,[m[6]||(m[6]=n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-12 w-12 mb-3 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),n("p",null,R(_.value?`${_.value.dayName}`:""),1)]))])])]),n("section",Rf,[n("div",Tf,[m[7]||(m[7]=n("h2",{class:"text-3xl font-bold text-gray-900 mb-4"},"",-1)),n("div",Of,[n("div",Nf,[(k(!0),C(fe,null,$e(o.value,S=>(k(),St(Bs,{key:S.id,anime:S},null,8,["anime"]))),128))])])])]),n("section",Lf,[n("div",Df,[n("div",Mf,[m[9]||(m[9]=n("h2",{class:"text-3xl font-bold text-gray-900"},"",-1)),Ee(w,{to:"/category?region=",class:"text-blue-600 hover:text-blue-800 font-semibold flex items-center"},{default:Ue(()=>[...m[8]||(m[8]=[je("  > ",-1),n("svg",{class:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]),_:1})]),n("div",jf,[n("div",Uf,[n("div",Ff,[(k(!0),C(fe,null,$e(W.value,S=>(k(),C("div",{key:S.id},[Ee(Bs,{anime:S,rank:O.value[String(S.id)]||null},null,8,["anime","rank"])]))),128))])]),xe.value?(k(),C("div",Vf,[n("div",Bf,[m[10]||(m[10]=n("h3",{class:"text-lg font-semibold text-gray-900 mb-3"},"",-1)),n("ol",Hf,[(k(!0),C(fe,null,$e(T.value,(S,v)=>(k(),C("li",{key:`Japan-rank-${S.id}`,class:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-50 transition-colors"},[n("div",zf,[n("span",{class:Se(["inline-flex items-center justify-center w-7 h-7 rounded-full text-sm font-bold",v===0?"bg-red-500 text-white":v===1?"bg-orange-400 text-white":v===2?"bg-yellow-400 text-white":"bg-gray-200 text-gray-700"])},R(v+1),3)]),n("div",Wf,[Ee(w,{to:`/detail/${S.id}`,class:"block"},{default:Ue(()=>[n("p",qf,R(S.title),1)]),_:2},1032,["to"])])]))),128))])])])):oe("",!0)])])]),n("section",Kf,[n("div",Jf,[n("div",Gf,[m[12]||(m[12]=n("h2",{class:"text-3xl font-bold text-gray-900"},"",-1)),Ee(w,{to:"/category?region=",class:"text-blue-600 hover:text-blue-800 font-semibold flex items-center"},{default:Ue(()=>[...m[11]||(m[11]=[je("  > ",-1),n("svg",{class:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]),_:1})]),n("div",Yf,[n("div",Xf,[n("div",Qf,[(k(!0),C(fe,null,$e(X.value,S=>(k(),C("div",{key:`china-${S.id}`},[Ee(Bs,{anime:S},null,8,["anime"])]))),128))])]),I.value?(k(),C("div",Zf,[n("div",ep,[m[13]||(m[13]=n("h3",{class:"text-lg font-semibold text-gray-900 mb-3"},"",-1)),n("ol",tp,[(k(!0),C(fe,null,$e(B.value,(S,v)=>(k(),C("li",{key:`china-rank-${S.id}`,class:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-50 transition-colors"},[n("div",sp,[n("span",{class:Se(["inline-flex items-center justify-center w-7 h-7 rounded-full text-sm font-bold",v===0?"bg-red-500 text-white":v===1?"bg-orange-400 text-white":v===2?"bg-yellow-400 text-white":"bg-gray-200 text-gray-700"])},R(v+1),3)]),n("div",np,[Ee(w,{to:`/detail/${S.id}`,class:"block"},{default:Ue(()=>[n("p",op,R(S.title),1)]),_:2},1032,["to"])])]))),128))])])])):oe("",!0)])])]),n("section",rp,[n("div",lp,[m[14]||(m[14]=n("h2",{class:"text-3xl font-bold text-gray-900 mb-8"},"",-1)),n("div",ip,[(k(!0),C(fe,null,$e(r.value,(S,v)=>(k(),C("div",{key:S.id,class:"flex items-center space-x-4 bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow"},[n("div",ap,[n("span",up,R(v+1),1)]),n("div",cp,[Ee(w,{to:`/detail/${S.id}`,class:"block"},{default:Ue(()=>[n("p",dp,R(S.title),1),n("p",fp,R(S.views)+" ",1)]),_:2},1032,["to"])]),n("div",pp,[n("img",{src:S.cover,alt:S.title,class:"w-16 h-16 object-cover rounded"},null,8,gp)])]))),128))])])])])}}},hp={class:"min-h-screen bg-gray-50"},vp={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},yp={class:"bg-white p-6 rounded-lg shadow-md mb-8"},xp={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-4"},bp=["value"],_p={class:"mt-4"},wp={class:"relative max-w-md"},kp={key:0,class:"text-center py-12"},Sp={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-6 gap-2 mb-8"},$p={key:2,class:"text-center py-12"},Cp={key:3,class:"flex justify-center"},Ap={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px"},Ep=["disabled"],Pp=["onClick"],Ip=["disabled"],Rp={__name:"Category",setup(e){const t=cn(),s=Ct(),o=V(!1),r=V([]),l=V([]),a=V(1),u=V(1),c=V(t.query.search||""),f=V({category:t.query.category||"",region:t.query.region||"",year:t.query.year||"",status:t.query.status||"",sort:t.query.sort||"latest"}),p=ve(()=>{const I=[],O=Math.max(1,a.value-2),T=Math.min(u.value,a.value+2);for(let L=O;L<=T;L++)I.push(L);return I}),d=()=>{a.value=1,W(),X()},x=()=>{a.value=1,W(),X()},_=I=>{I>=1&&I<=u.value&&(a.value=I,W(),X())},j=async()=>{try{const I=await Ye.getCategories();Array.isArray(I)?l.value=I:l.value=I.categories||[],console.log(":",l.value.length,""),localStorage.setItem("categories_last_checked",Date.now().toString())}catch(I){console.error(":",I),l.value=[]}},W=async()=>{o.value=!0;try{const I={page:a.value,limit:30};f.value.category&&(I.category_id=f.value.category),f.value.year&&(I.year=f.value.year),f.value.region&&(I.region=f.value.region),f.value.status&&(I.status=f.value.status),f.value.sort&&(I.sort=f.value.sort),c.value&&(I.search=c.value);const O=await Ye.getAllAnimes(I),T=O.animes||[];r.value=T.map(L=>({id:L.id,title:L.title,cover:L.cover_url||L.cover||"/placeholder.svg",status:L.status||"ongoing",category:L.category_name||L.category||"",region:L.region||"",year:L.release_date?new Date(L.release_date).getFullYear():L.year||"",views:L.view_count||L.views||0,updatedAt:L.updated_at||L.created_at||null,description:L.description||""})),u.value=O.pagination?.totalPages||1}catch(I){console.error(":",I),r.value=[],u.value=1}finally{o.value=!1}},X=()=>{const I={};f.value.category&&(I.category=f.value.category),f.value.region&&(I.region=f.value.region),f.value.year&&(I.year=f.value.year),f.value.status&&(I.status=f.value.status),f.value.sort&&f.value.sort!=="latest"&&(I.sort=f.value.sort),c.value&&(I.search=c.value),a.value>1&&(I.page=a.value),s.replace({query:I})};return vt(async()=>{t.query.page&&(a.value=parseInt(t.query.page)),await Promise.all([j(),W()])}),zl(async()=>{await Promise.all([j(),W()])}),setInterval(()=>{const I=localStorage.getItem("categories_updated"),O=localStorage.getItem("categories_last_checked");I&&(!O||parseInt(I)>parseInt(O))&&(console.log(""),j(),localStorage.setItem("categories_last_checked",I))},3e4),bt(()=>t.query,I=>{c.value=I.search||"",f.value.category=I.category||"",f.value.region=I.region||"",f.value.year=I.year||"",f.value.status=I.status||"",f.value.sort=I.sort||"latest",a.value=parseInt(I.page)||1,j(),W()}),(I,O)=>(k(),C("div",hp,[n("div",vp,[O[23]||(O[23]=n("div",{class:"mb-8"},[n("h1",{class:"text-3xl font-bold text-gray-900 mb-2"},""),n("p",{class:"text-gray-600"},"")],-1)),n("div",yp,[n("div",xp,[n("div",null,[O[9]||(O[9]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),ne(n("select",{"onUpdate:modelValue":O[0]||(O[0]=T=>f.value.category=T),onChange:d,class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[O[8]||(O[8]=n("option",{value:""},"",-1)),(k(!0),C(fe,null,$e(l.value,T=>(k(),C("option",{key:T.id,value:T.id},R(T.name),9,bp))),128))],544),[[pt,f.value.category]])]),n("div",null,[O[11]||(O[11]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),ne(n("select",{"onUpdate:modelValue":O[1]||(O[1]=T=>f.value.region=T),onChange:d,class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[...O[10]||(O[10]=[Ss('<option value=""></option><option value=""></option><option value=""></option><option value=""></option><option value=""></option>',5)])],544),[[pt,f.value.region]])]),n("div",null,[O[13]||(O[13]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),ne(n("select",{"onUpdate:modelValue":O[2]||(O[2]=T=>f.value.year=T),onChange:d,class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[...O[12]||(O[12]=[Ss('<option value=""></option><option value="2025">2025</option><option value="2024">2024</option><option value="2023">2023</option><option value="2022">2022</option><option value="2021">2021</option><option value="2020">2020</option><option value="2019">2019</option><option value="2018">2018</option><option value="2017">2017</option><option value="2016">2016</option><option value="2015">2015</option><option value="2014">2014</option><option value="2013">2013</option><option value="2012">2012</option><option value="2011">2011</option><option value="2010">2010</option><option value="2009">2009</option><option value="2008">2008</option><option value="2007">2007</option><option value="2006">2006</option><option value="2005">2005</option>',22)])],544),[[pt,f.value.year]])]),n("div",null,[O[15]||(O[15]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),ne(n("select",{"onUpdate:modelValue":O[3]||(O[3]=T=>f.value.status=T),onChange:d,class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[...O[14]||(O[14]=[Ss('<option value=""></option><option value="ongoing"></option><option value="completed"></option><option value="upcoming"></option><option value="movie"></option>',5)])],544),[[pt,f.value.status]])]),n("div",null,[O[17]||(O[17]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"",-1)),ne(n("select",{"onUpdate:modelValue":O[4]||(O[4]=T=>f.value.sort=T),onChange:d,class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[...O[16]||(O[16]=[n("option",{value:"latest"},"",-1),n("option",{value:"popular"},"",-1),n("option",{value:"rating"},"",-1),n("option",{value:"views"},"",-1)])],544),[[pt,f.value.sort]])])]),n("div",_p,[n("div",wp,[ne(n("input",{"onUpdate:modelValue":O[5]||(O[5]=T=>c.value=T),onKeyup:Go(x,["enter"]),type:"text",placeholder:"...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,544),[[ge,c.value]]),O[18]||(O[18]=n("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[n("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1))])])]),o.value?(k(),C("div",kp,[...O[19]||(O[19]=[n("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1),n("p",{class:"mt-2 text-gray-600"},"...",-1)])])):r.value.length>0?(k(),C("div",Sp,[(k(!0),C(fe,null,$e(r.value,T=>(k(),St(Bs,{key:T.id,anime:T,playEpisode:1},null,8,["anime"]))),128))])):(k(),C("div",$p,[...O[20]||(O[20]=[n("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.172 16.172a4 4 0 015.656 0M9 12h6m-6-4h6m2 5.291A7.962 7.962 0 0112 15c-2.34 0-4.29-.966-5.5-2.5M12 4.5c-2.34 0-4.29.966-5.5 2.5M17.5 9.5A7.962 7.962 0 0112 12"})],-1),n("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"",-1),n("p",{class:"mt-1 text-sm text-gray-500"},"",-1)])])),u.value>1?(k(),C("div",Cp,[n("nav",Ap,[n("button",{onClick:O[6]||(O[6]=T=>_(a.value-1)),disabled:a.value===1,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},[...O[21]||(O[21]=[n("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])],8,Ep),(k(!0),C(fe,null,$e(p.value,T=>(k(),C("button",{key:T,onClick:L=>_(T),class:Se(["relative inline-flex items-center px-4 py-2 border text-sm font-medium",T===a.value?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"])},R(T),11,Pp))),128)),n("button",{onClick:O[7]||(O[7]=T=>_(a.value+1)),disabled:a.value===u.value,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},[...O[22]||(O[22]=[n("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],8,Ip)])])):oe("",!0)])]))}},Gt=Mc("user",{state:()=>({user:null,isAdmin:!1,favorites:[],history:[]}),getters:{isLoggedIn:e=>!!e.user,isAdminUser:e=>e.isAdmin},actions:{login(e,t=!1,s=""){this.user=e,this.isAdmin=t,t||(localStorage.setItem("user_logged_in","true"),localStorage.setItem("user_data",JSON.stringify(e))),s&&localStorage.setItem("auth_token",s)},adminLogin(e){this.user=e,this.isAdmin=!0,localStorage.setItem("admin_logged_in","true"),localStorage.setItem("admin_user",JSON.stringify(e)),e?.token&&localStorage.setItem("auth_token",e.token)},logout(){this.user=null,this.isAdmin=!1,this.favorites=[],this.history=[],localStorage.removeItem("admin_logged_in"),localStorage.removeItem("admin_user"),localStorage.removeItem("user_logged_in"),localStorage.removeItem("user_data")},checkAdminStatus(){if(localStorage.getItem("admin_logged_in")==="true"){const t=localStorage.getItem("admin_user");t&&(this.user=JSON.parse(t),this.isAdmin=!0)}},checkUserStatus(){if(localStorage.getItem("user_logged_in")==="true"){const t=localStorage.getItem("user_data");t&&(this.user=JSON.parse(t),this.isAdmin=!1)}},updateProfile(e){this.user={...this.user,...e},this.isAdmin?localStorage.setItem("admin_user",JSON.stringify(this.user)):localStorage.setItem("user_data",JSON.stringify(this.user))},addFavorite(e){this.favorites.includes(e)||this.favorites.push(e)},removeFavorite(e){this.favorites=this.favorites.filter(t=>t!==e)},addToHistory(e,t){const s=this.history.findIndex(o=>o.animeId===e);s>=0?(this.history[s].episode=t,this.history[s].lastWatched=new Date):this.history.push({animeId:e,episode:t,lastWatched:new Date})}}}),Tp={class:"relative aspect-[3/4] overflow-hidden"},Op=["src","alt"],Np={class:"absolute top-1.5 left-1.5"},Lp={class:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent px-2 py-1"},Dp={class:"text-white text-xs font-medium"},Mp={class:"p-2 flex-1 flex flex-col"},jp=["title"],Up={class:"flex flex-wrap gap-1 mt-auto"},Fp={__name:"RecommendCard",props:{anime:{type:Object,required:!0},playEpisode:{type:[Number,String],default:null}},setup(e){const t=e;Ct();const s=ve(()=>{const d=t.anime||{};return d.title||d.name||d.original_title||""}),o=ve(()=>{const d=t.anime||{};let x=[];return Array.isArray(d.tags)?x=d.tags:typeof d.tags=="string"&&d.tags.trim()!==""&&(x=d.tags.split(/[,\/\s]+/).filter(Boolean)),!x.length&&(d.category_name||d.category)&&(x=[d.category_name||d.category]),x.length||(x=[""]),x.slice(0,2)}),r=ve(()=>{const d=t.anime._id||t.anime.id;return t.playEpisode!==null&&t.playEpisode!==void 0&&d!==void 0?`/play/${d}/${t.playEpisode}`:`/detail/${d}`}),l=ve(()=>{const d=t.anime||{},x=d.cover||d.cover_url||d.coverUrl||d.banner_url||"";if(!x||typeof x!="string"||x.trim()==="")return"/placeholder.svg";const _=x.trim();if(_.startsWith("/uploads/"))try{if(typeof window<"u"&&window.location&&window.location.hostname==="localhost")return`${window.location.protocol}//${window.location.hostname}:3003${_}`;{const W="/api";return W.startsWith("http")?`${W.replace(/\/api\/?$/,"")}${_}`:_}}catch{return _}return _.startsWith("http://")||_.startsWith("https://")||_.startsWith("/"),_}),a=d=>{const x=d.target;x.dataset.errorHandled||(x.dataset.errorHandled="true",x.src="/placeholder.svg",x.onerror=null)},u=d=>{const x=d&&String(d).toLowerCase();switch(x==="cancelled"?"movie":x){case"ongoing":return"bg-green-500 text-white";case"completed":return"bg-blue-500 text-white";case"movie":return"bg-red-500 text-white";case"upcoming":return"bg-yellow-500 text-black";default:return"bg-gray-500 text-white"}},c=d=>{switch(d){case"ongoing":return"";case"completed":return"";case"movie":return"";case"upcoming":return"";default:return""}},f=ve(()=>{const d=t.anime||{};if(Array.isArray(d.episodes)&&d.episodes.length>=0)return` ${d.episodes.length} `;if(d.episodes_count!==void 0&&d.episodes_count!==null&&!isNaN(Number(d.episodes_count)))return` ${Number(d.episodes_count)} `;if(d.episode_count!==void 0&&d.episode_count!==null&&!isNaN(Number(d.episode_count)))return` ${Number(d.episode_count)} `;const x=["latest_episode_number","latest_episode","last_episode","eps","ep_count","total_episodes","total","latest"];for(const _ of x){const j=d[_];if(j!=null&&j!==""&&!isNaN(Number(j)))return` ${Number(j)} `}return""}),p=ve(()=>{const d=f.value;return d&&String(d).trim()!==""?d:""});return(d,x)=>{const _=Nt("router-link");return k(),St(_,{to:r.value,class:"recommend-card flex flex-col bg-white rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow duration-200 cursor-pointer"},{default:Ue(()=>[n("div",Tp,[n("img",{src:l.value,alt:e.anime.title,class:"w-full h-full object-cover",onError:a},null,40,Op),n("div",Np,[n("span",{class:Se([u(e.anime.status),"px-1.5 py-0.5 text-[10px] font-medium rounded"])},R(c(e.anime.status)),3)]),n("div",Lp,[n("span",Dp,R(p.value),1)])]),n("div",Mp,[n("h3",{class:"text-sm font-medium text-gray-900 leading-snug line-clamp-2 mb-1",title:s.value},R(s.value),9,jp),n("div",Up,[(k(!0),C(fe,null,$e(o.value,j=>(k(),C("span",{key:j,class:"px-1.5 py-0.5 bg-gray-100 text-gray-500 text-[10px] rounded truncate max-w-[60px]"},R(j),1))),128))])])]),_:1},8,["to"])}}},Vp=Os(Fp,[["__scopeId","data-v-33ec3620"]]),Bp={class:"min-h-screen bg-gray-50"},Hp={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},zp={key:0,class:"text-center py-12"},Wp={key:1,class:"grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8"},qp={class:"lg:col-span-1"},Kp={class:"bg-white rounded-lg shadow-md overflow-hidden mb-6"},Jp=["src","alt"],Gp={class:"bg-white rounded-lg shadow-md p-6"},Yp={class:"space-y-3"},Xp={class:"flex justify-between"},Qp={class:"font-medium"},Zp={class:"flex justify-between"},eg={class:"font-medium"},tg={class:"flex justify-between"},sg={class:"font-medium"},ng={class:"flex justify-between"},og={class:"font-medium"},rg={class:"flex justify-between"},lg={class:"font-medium"},ig={class:"flex justify-between"},ag={class:"font-medium"},ug={class:"flex justify-between"},cg={class:"font-medium"},dg={class:"lg:col-span-2"},fg={class:"bg-white rounded-lg shadow-md p-6 mb-6"},pg={class:"flex items-start justify-between mb-4"},gg={class:"text-3xl font-bold text-gray-900"},mg={class:"flex flex-wrap gap-2 mb-4"},hg={class:"px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full"},vg={class:"px-3 py-1 bg-green-100 text-green-800 text-sm rounded-full"},yg={key:0,class:"px-3 py-1 bg-yellow-100 text-yellow-800 text-sm rounded-full"},xg={class:"bg-white rounded-lg shadow-md p-6 mb-6"},bg={class:"text-gray-700 leading-relaxed"},_g={class:"bg-white rounded-lg shadow-md p-6 mb-6"},wg={class:"flex space-x-4 mb-6"},kg=["onClick"],Sg={class:"grid grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-3"},$g={class:"bg-white rounded-lg shadow-md p-6"},Cg={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3"},Ag={key:2,class:"text-center py-12"},Eg={class:"mt-6"},Pg={__name:"Detail",setup(e){const t=cn(),s=Ct(),o=Gt(),r=V(!0),l=V(null),a=V(!1),u=V("source1"),c=V(!1),f=V([{id:"source1",name:"1"}]),p=V([]),d=V([]),x=ve(()=>p.value.map(T=>({ep:T.episode_number,watched:!1,title:T.title,duration:T.duration}))),_=T=>{switch(T){case"ongoing":return"";case"completed":return"";case"upcoming":return"";default:return""}},j=T=>T?T>=1e4?`${(T/1e4).toFixed(1)}`:T.toString():"0",W=T=>{if(!T)return"-";try{const L=new Date(T),xe=L.getFullYear(),N=String(L.getMonth()+1).padStart(2,"0"),J=String(L.getDate()).padStart(2,"0"),Q=String(L.getHours()).padStart(2,"0"),le=String(L.getMinutes()).padStart(2,"0");return`${xe}-${N}-${J} ${Q}:${le}`}catch{return String(T)}},X=T=>{T.target.src="/placeholder.svg"},B=()=>{if(!l.value||!l.value.id)return;const T=l.value.id;let L=null;try{const Q=localStorage.getItem(`watch_ep_${T}`);Q&&(L=Number(Q))}catch{}const xe=x.value||[],N=xe.length?xe[0].ep:1,J=L&&Number.isFinite(L)&&L>0?L:N||1;s.push(`/play/${T}/${J}`)},I=async T=>{r.value=!0;try{const L=await Ye.getAnimeDetail(T);l.value=L,p.value=L.episodes||[],c.value=o.favorites.includes(parseInt(T)),await O(T)}catch(L){console.error(":",L),l.value=null}finally{r.value=!1}},O=async T=>{try{const xe=(await Ye.getHomeData()).popular.filter(N=>N.id!==parseInt(T)).filter(N=>N&&N.id&&N.title).map(N=>({...N,cover_url:N.cover_url||N.cover||N.coverUrl||N.banner_url||""})).slice(0,4);d.value=xe,console.log("Related animes loaded:",xe.length,"items"),xe.forEach(N=>{console.log(`- ${N.id}: ${N.title}, cover_url: ${N.cover_url||"NULL"}`)})}catch(L){console.error(":",L),d.value=[]}};return vt(()=>{const{id:T}=t.params;I(T)}),bt(()=>t.params.id,(T,L)=>{if(T&&T!==L){a.value=!1,I(T);try{window.scrollTo({top:0,behavior:"smooth"})}catch{}}}),(T,L)=>{const xe=Nt("router-link");return k(),C("div",Bp,[n("div",Hp,[r.value?(k(),C("div",zp,[...L[1]||(L[1]=[n("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1),n("p",{class:"mt-2 text-gray-600"},"...",-1)])])):l.value?(k(),C("div",Wp,[n("div",qp,[n("div",Kp,[n("img",{src:l.value.cover_url||"/placeholder.svg",alt:l.value.title,class:"w-full h-auto",onError:X},null,40,Jp)]),n("div",Gp,[L[9]||(L[9]=n("h2",{class:"text-xl font-bold mb-4"},"",-1)),n("div",Yp,[n("div",Xp,[L[2]||(L[2]=n("span",{class:"text-gray-600"},"",-1)),n("span",Qp,R(l.value.updated_to?` ${l.value.updated_to} `:_(l.value.status)),1)]),n("div",Zp,[L[3]||(L[3]=n("span",{class:"text-gray-600"},"",-1)),n("span",eg,R(l.value.release_date?new Date(l.value.release_date).getFullYear():l.value.year||""),1)]),n("div",tg,[L[4]||(L[4]=n("span",{class:"text-gray-600"},"",-1)),n("span",sg,R(l.value.region||""),1)]),n("div",ng,[L[5]||(L[5]=n("span",{class:"text-gray-600"},"",-1)),n("span",og,R(l.value.language||""),1)]),n("div",rg,[L[6]||(L[6]=n("span",{class:"text-gray-600"},"",-1)),n("span",lg,[l.value.tags&&l.value.tags.length?(k(),C(fe,{key:0},[je(R(l.value.tags.join(" / ")),1)],64)):(k(),C(fe,{key:1},[je(R(l.value.category_name||" /  / "),1)],64))])]),n("div",ig,[L[7]||(L[7]=n("span",{class:"text-gray-600"},"",-1)),n("span",ag,R(W(l.value.updated_at||l.value.created_at)),1)]),n("div",ug,[L[8]||(L[8]=n("span",{class:"text-gray-600"},"",-1)),n("span",cg,R(j(l.value.view_count)),1)])])])]),n("div",dg,[n("div",fg,[n("div",pg,[n("h1",gg,R(l.value.title)+R(l.value.original_title?` (${l.value.original_title})`:""),1),n("button",{onClick:B,class:"ml-3 px-4 py-2 rounded-lg font-medium bg-indigo-600 text-white hover:bg-indigo-700 transition-colors"},"  /  ")]),n("div",mg,[n("span",hg,R(l.value.category_name||""),1),n("span",vg,R(_(l.value.status)),1),l.value.rating?(k(),C("span",yg,"  "+R(l.value.rating),1)):oe("",!0)])]),n("div",xg,[L[10]||(L[10]=n("h3",{class:"text-xl font-bold mb-4"},"",-1)),n("div",bg,[n("p",{class:Se([{"line-clamp-3":!a.value},"mb-2"])},R(l.value.description||""),3),l.value.description&&l.value.description.length>100?(k(),C("button",{key:0,onClick:L[0]||(L[0]=N=>a.value=!a.value),class:"text-blue-600 hover:text-blue-800 font-medium"},R(a.value?"":""),1)):oe("",!0)])]),n("div",_g,[L[11]||(L[11]=n("h3",{class:"text-xl font-bold mb-4"},"",-1)),n("div",wg,[(k(!0),C(fe,null,$e(f.value,N=>(k(),C("button",{key:N.id,onClick:J=>u.value=N.id,class:Se(["px-4 py-2 rounded-lg font-medium transition-colors",u.value===N.id?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"])},R(N.name),11,kg))),128))]),n("div",Sg,[(k(!0),C(fe,null,$e(x.value,N=>(k(),St(xe,{key:N.ep,to:`/play/${l.value.id}/${N.ep}`,class:Se(["aspect-square flex items-center justify-center rounded-lg border-2 font-medium transition-colors text-center",N.watched?"bg-green-100 border-green-300 text-green-800 hover:bg-green-200":"bg-gray-50 border-gray-200 text-gray-700 hover:bg-gray-100"])},{default:Ue(()=>[je(R(N.ep),1)]),_:2},1032,["to","class"]))),128))])]),n("div",$g,[L[12]||(L[12]=n("h3",{class:"text-xl font-bold mb-4"},"",-1)),n("div",Cg,[(k(!0),C(fe,null,$e(d.value,N=>(k(),St(Vp,{key:N.id,anime:N,playEpisode:1},null,8,["anime"]))),128))])])])])):(k(),C("div",Ag,[L[14]||(L[14]=n("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.172 16.172a4 4 0 015.656 0M9 12h6m-6-4h6m2 5.291A7.962 7.962 0 0112 15c-2.34 0-4.29-.966-5.5-2.5M12 4.5c-2.34 0-4.29.966-5.5 2.5M17.5 9.5A7.962 7.962 0 0112 12"})],-1)),L[15]||(L[15]=n("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"",-1)),L[16]||(L[16]=n("p",{class:"mt-1 text-sm text-gray-500"},"",-1)),n("div",Eg,[Ee(xe,{to:"/",class:"text-blue-600 hover:text-blue-500 font-medium"},{default:Ue(()=>[...L[13]||(L[13]=[je("  ",-1)])]),_:1})])]))])])}}},Ig=Os(Pg,[["__scopeId","data-v-2afbded0"]]),Rg={class:"min-h-screen bg-white text-gray-900"},Tg={class:"h-14 flex items-center px-4 border-b border-gray-200 bg-white"},Og={class:"text-lg font-semibold truncate"},Ng={class:"max-w-[1280px] mx-auto px-4 py-4"},Lg={class:"relative"},Dg={class:"flex flex-col md:flex-row gap-4 md:gap-6"},Mg={class:"flex-1 bg-white rounded-lg overflow-hidden shadow-lg"},jg={class:"relative"},Ug=["src"],Fg={class:"p-4"},Vg={class:"flex items-start justify-between"},Bg={class:"text-xl font-bold"},Hg={class:"text-sm text-gray-600"},zg={class:"px-4 pb-4"},Wg={class:"bg-white text-gray-900 rounded-lg p-4 mt-3 space-y-3 border border-gray-200 shadow-sm"},qg={class:"flex items-center justify-between"},Kg={class:"flex items-baseline gap-4"},Jg={class:"text-2xl font-bold"},Gg={class:"text-sm text-gray-600"},Yg={class:"text-yellow-400 font-semibold"},Xg={class:"flex items-center gap-2"},Qg=["title"],Zg={t:"1768978722919",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6716",width:"24",height:"24"},e0=["fill"],t0={class:"text-sm text-gray-600 flex flex-wrap gap-4 items-center"},s0={class:"flex gap-2 items-center"},n0={class:"flex items-center justify-between text-sm text-gray-600"},o0={class:"md:hidden px-4 pb-4"},r0={class:"flex gap-2 overflow-x-auto pb-2"},l0=["onClick"],i0={class:"md:hidden px-4 pb-4"},a0={class:"grid grid-cols-2 gap-2"},u0=["src"],c0={class:"p-2"},d0={class:"text-sm truncate"},f0={class:"text-xs text-gray-400"},p0={class:"hidden md:block w-80 flex-shrink-0"},g0={class:"bg-white text-gray-900 rounded-lg p-4 shadow h-full border border-gray-200"},m0={class:"mb-3"},h0={class:"flex gap-2 mb-2"},v0=["onClick"],y0={class:"grid grid-cols-1 gap-2 max-h-[420px] overflow-y-auto pr-2"},x0=["onClick"],b0={class:"space-y-3 max-h-[360px] overflow-y-auto pr-2"},_0=["src"],w0={class:"text-sm"},k0={class:"text-xs text-gray-400"},S0={__name:"Play",setup(e){const t=cn(),s=Gt(),o=V(null),r=V("..."),l=V(null),a=V([]),u=V([]),c=V(Number(t.params.episode)||1),f=V(""),p=V(0),d=V({text:"",color:"text-gray-400"}),x=V(0),_=V([{name:""},{name:""}]),j=V(!1);function W(m){c.value=m.episode_number,f.value=m.video_url,_e()}const X=V(!1);function B(){const m=l.value?.id;!m||!s.user||(s.favorites&&s.favorites.includes(m)?(X.value=!0,console.log("")):Bt.getFavorites().then(w=>{const v=(w.favorites||w||[]).map(A=>A.anime_id||A.id);X.value=v.includes(m),console.log(":",X.value)}).catch(w=>{console.error("",w)}))}function I(){if(!s.user){alert("");return}const m=l.value?.id;m&&(X.value?Bt.removeFavorite(m).then(()=>{X.value=!1,s.removeFavorite(m),Q(""),console.log("animeId:",m)}).catch(w=>{console.error("",w),Q("")}):Bt.addFavorite(m).then(()=>{X.value=!0,s.addFavorite(m),Q(""),console.log("animeId:",m)}).catch(w=>{console.error("",w),Q("")}))}function O(){const m=window.location.href;navigator.clipboard?.writeText(m).then(()=>Q("")).catch(()=>Q(""))}function T(){alert("")}function L(){alert("")}const xe=V(""),N=V(!1);let J=null;function Q(m=""){xe.value=m,N.value=!0,J&&clearTimeout(J),J=setTimeout(()=>{N.value=!1,J=null},2500)}async function le(m,w){try{const S=await Ye.getAnimeDetail(m);l.value=S,r.value=S.title,console.log(":",S.title),console.log(":",S.episodes),a.value=(S.episodes||[]).map(E=>({...E,ep:E.episode_number}));const v=Number(w)||1,A=a.value.find(E=>E.episode_number===v);A?(c.value=v,f.value=A.video_url,console.log("URL:",A.video_url)):a.value.length>0?(c.value=a.value[0].episode_number,f.value=a.value[0].video_url,console.log("URL:",a.value[0].video_url)):(d.value={text:"",color:"text-red-400"},console.warn("!")),await ie(m),B()}catch(S){console.error(":",S),r.value=""}}async function ie(m){try{const w=await Ye.getHomeData();u.value=w.popular.filter(S=>S.id!==parseInt(m)).slice(0,6)}catch(w){console.error("Error loading recommends:",w),u.value=[]}}function _e(){const m=`watch_ep_${t.params.id}`;if(localStorage.setItem(m,c.value.toString()),s.user&&l.value){const w=a.value.find(S=>S.episode_number===c.value);w&&Ye.recordWatch({animeId:l.value.id,episodeId:w.id,progress:p.value}).catch(S=>console.error("Failed to record watch history:",S))}}function we(){o.value&&(p.value=Math.floor(o.value.currentTime))}function qe(){return f.value?(f.value.startsWith("/uploads/"),f.value):""}function Xe(){d.value={text:"...",color:"text-yellow-400"}}function Pe(){d.value={text:"",color:"text-green-400"}}function ae(m){const w=m.target.error;let S="";if(w)switch(w.code){case MediaError.MEDIA_ERR_NETWORK:S="";break;case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:S="";break;default:S=""}d.value={text:S,color:"text-red-400"}}function ke(m){if(!m)return[];const w=m.tags;if(!w)return[];if(Array.isArray(w))return w;if(typeof w=="string"){const S=w.trim();try{if(S.startsWith("[")||S.startsWith("{")){const v=JSON.parse(S);if(Array.isArray(v))return v}}catch{}return S.split(",").map(v=>v.trim()).filter(Boolean)}return[]}vt(()=>{const m=t.params.id,w=t.params.episode;le(m,w),o.value&&o.value.addEventListener("timeupdate",we),window.addEventListener("keydown",$)}),bt(()=>t.params,(m,w)=>{const S=m.id,v=m.episode;S&&v&&(S!==w.id||v!==w.episode)&&le(S,v)}),zn(()=>{_e(),o.value&&o.value.removeEventListener("timeupdate",we),window.removeEventListener("keydown",$)});function Ge(){const m=a.value.findIndex(w=>w.episode_number===c.value);m>0&&W(a.value[m-1])}function tt(){const m=a.value.findIndex(w=>w.episode_number===c.value);m>=0&&m<a.value.length-1&&W(a.value[m+1])}function Fe(m){m<0&&(m=0),m>=_.value.length&&(m=_.value.length-1),x.value=m}function Ve(){j.value=!j.value}function $(m){m.key==="ArrowLeft"?Ge():m.key==="ArrowRight"?tt():m.key==="s"&&Ve()}return(m,w)=>{const S=Nt("router-link");return k(),C("div",Rg,[n("header",Tg,[n("button",{onClick:w[0]||(w[0]=v=>m.$router.back()),class:"mr-3 md:hidden"},[...w[2]||(w[2]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),n("h1",Og,R(r.value),1)]),n("main",Ng,[w[12]||(w[12]=n("div",{class:"mb-3 text-sm text-red-600 hidden sm:block"},"",-1)),n("div",Lg,[n("div",Dg,[n("div",Mg,[n("div",jg,[n("video",{ref_key:"videoRef",ref:o,class:"w-full h-[220px] sm:h-[320px] md:h-[420px] lg:h-[520px] bg-black",controls:"",controlsList:"nodownload",disablePictureInPicture:"",onContextmenu:w[1]||(w[1]=nt(()=>{},["prevent"])),src:qe(),onLoadstart:Xe,onCanplay:Pe,onError:ae},null,40,Ug)]),n("div",Fg,[n("div",Vg,[n("div",null,[n("h2",Bg,R(r.value),1),n("p",Hg," "+R(c.value)+"    "+R(a.value.length)+" ",1)])])]),n("div",zg,[n("div",Wg,[n("div",qg,[n("div",Kg,[n("div",Jg,R(r.value),1),n("div",Gg,""+R(c.value)+"  "+R(a.value.length)+"",1),n("div",Yg,R(l.value?.rating??""),1)]),n("div",Xg,[n("button",{onClick:I,class:Se(["p-2 rounded transition-colors",X.value?"hover:bg-red-50":"hover:bg-gray-100"]),title:X.value?"":""},[(k(),C("svg",Zg,[n("path",{d:"M512 882.215385l-362.338462-362.338462c-90.584615-90.584615-90.584615-240.246154 0-334.769231 90.584615-90.584615 240.246154-90.584615 334.769231 0l27.569231 31.507693 27.569231-27.569231c90.584615-90.584615 240.246154-90.584615 334.769231 0 90.584615 90.584615 90.584615 240.246154 0 334.769231L512 882.215385z",fill:X.value?"#F30240":"#666666","p-id":"6717"},null,8,e0)]))],10,Qg),n("button",{onClick:O,class:"p-2 rounded hover:bg-gray-800",title:""},[...w[3]||(w[3]=[n("svg",{t:"1768978318616",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"9116",width:"30",height:"30"},[n("path",{d:"M512.1024 51.2c-254.464 0-460.8 206.336-460.8 460.8s206.336 460.8 460.8 460.8S972.8 766.464 972.8 512 766.464 51.2 512.1024 51.2z m68.5056 661.0944v-136.192S344.4736 549.888 206.4384 746.496c0 0 43.4176-374.784 374.1696-374.784V235.52l237.9776 238.3872c0.1024 0-237.9776 238.3872-237.9776 238.3872z",fill:"#1296db","p-id":"9117"})],-1)])]),n("button",{onClick:T,class:"p-2 rounded hover:bg-gray-800",title:""},[...w[4]||(w[4]=[n("svg",{t:"1768978666067",class:"icon",viewBox:"0 0 1000 1000",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3783",width:"30",height:"30"},[n("path",{d:"M500 812.9963c-26.665 0-55-2.3275-85-6.9963L211.0012 1000V737.0024999999999c-65.3325-37.335-116.8363-85-154.5025-143.0025C18.8325 536.0013 0 473.335 0 406.0012 0 332.6663 22.3338 264.8338 67.0025 202.5c44.6625-62.3338 105.3313-111.665 181.9963-147.9975C325.6688 18.1688 409.3312 0 500 0c90.6687 0 174.3313 18.1688 251.0012 54.5025C827.6663 90.835 888.335 140.1663 932.9975 202.5 977.6663 264.8338 1000 332.8325 1000 406.4988c0 73.6675-22.3338 141.67-67.0025 203.9988-44.6625 62.335-105.3325 111.67-181.9975 148.0038C674.3313 794.8338 590.6688 812.9963 500 812.9963L500 812.9963zM237.0025 312.9975c-22.0025 0-40.67 9.005-56.0013 27.0025-15.3325 17.9975-23.0037 40-23.0037 66.0013 0 26.0013 7.6713 48.1638 23.0037 66.4988 15.3313 18.335 33.9988 27.5 56.0013 27.5 21.9963 0 40.6638-9.165 55.995-27.5 15.3375-18.335 23.0037-40.4975 23.0037-66.4988 0-26.0013-7.6663-48.0037-23.0037-66.0013C277.6663 322.0025 258.9988 312.9975 237.0025 312.9975L237.0025 312.9975zM500 312.9975c-22.0025 0-40.6687 9.005-56.0013 27.0025-15.3313 17.9975-22.9975 40-22.9975 66.0013 0 26.0013 7.6663 48.1638 22.9975 66.4988 15.3325 18.335 33.9988 27.5 56.0013 27.5 22.0025 0 40.6687-9.165 56.0013-27.5s22.9975-40.4975 22.9975-66.4988c0-26.0013-7.6663-48.0037-22.9975-66.0013S522.0025 312.9975 500 312.9975L500 312.9975zM762.9975 312.9975c-21.9975 0-40.6638 9.005-55.9963 27.0025-15.3375 17.9975-23.0025 40-23.0025 66.0013 0 26.0013 7.6663 48.1638 23.0025 66.4988 15.3325 18.335 33.9988 27.5 55.9963 27.5 22.0025 0 40.6687-9.165 56.0013-27.5s23.0025-40.4975 23.0025-66.4988c0-26.0013-7.6713-48.0037-23.0025-66.0013S785 312.9975 762.9975 312.9975L762.9975 312.9975zM762.9975 312.9975",fill:"#A1D62D","p-id":"3784"})],-1)])])])]),n("div",t0,[n("div",null," "+R(l.value?.updated_to||"-"),1),n("div",null,R(l.value?.year||"-"),1),n("div",null,R(l.value?.region||"-"),1),n("div",s0,[(k(!0),C(fe,null,$e(ke(l.value).slice(0,4),(v,A)=>(k(),C("span",{key:A,class:"px-2 py-0.5 bg-gray-100 text-gray-700 rounded text-xs"},R(v),1))),128))])]),n("div",n0,[n("div",null,[Ee(S,{to:"/",class:"text-gray-600 hover:underline"},{default:Ue(()=>[...w[5]||(w[5]=[je("",-1)])]),_:1}),w[6]||(w[6]=n("span",{class:"mx-2"},"/",-1)),Ee(S,{to:`/category?/category/${l.value?.category_id||""}`,class:"text-gray-600 hover:underline"},{default:Ue(()=>[je(R(l.value?.category_name||""),1)]),_:1},8,["to"]),w[7]||(w[7]=n("span",{class:"mx-2"},"/",-1)),n("span",null,R(r.value),1)]),n("div",{class:"flex items-center gap-2"},[n("button",{onClick:T,class:"px-3 py-1 bg-gray-100 rounded text-gray-700"},""),n("button",{onClick:L,class:"px-3 py-1 bg-gray-100 rounded text-gray-700"},"")])])])]),n("div",o0,[w[8]||(w[8]=n("div",{class:"text-sm font-semibold mb-2"},"",-1)),n("div",r0,[(k(!0),C(fe,null,$e(a.value,v=>(k(),C("button",{key:v.id,onClick:A=>W(v),class:Se(["flex-shrink-0 px-3 py-2 rounded text-sm",c.value===v.episode_number?"bg-orange-600 text-white":"bg-gray-100 text-gray-800"])}," "+R(v.episode_number)+" ",11,l0))),128))])]),n("div",i0,[w[9]||(w[9]=n("h4",{class:"text-sm font-semibold mb-2"},"",-1)),n("div",a0,[(k(!0),C(fe,null,$e(u.value,v=>(k(),St(S,{key:v.id,to:`/detail/${v.id}`,class:"flex flex-col bg-white rounded-lg overflow-hidden shadow"},{default:Ue(()=>[n("img",{src:v.cover_url||"/placeholder.svg",class:"w-full h-24 object-cover"},null,8,u0),n("div",c0,[n("div",d0,R(v.title),1),n("div",f0," "+R(v.score||"-"),1)])]),_:2},1032,["to"]))),128))])])]),n("aside",p0,[n("div",g0,[n("div",{class:"flex items-center justify-between mb-3"},[w[10]||(w[10]=n("h3",{class:"font-semibold"},"",-1)),n("button",{onClick:Ve,class:"text-gray-300"},"")]),n("div",m0,[n("div",h0,[(k(!0),C(fe,null,$e(_.value,(v,A)=>(k(),C("button",{key:A,onClick:E=>Fe(A),class:Se(["px-3 py-1 rounded text-sm",x.value===A?"bg-orange-500 text-white":"bg-gray-100 text-gray-800"])},R(v.name),11,v0))),128))]),n("div",y0,[(k(!0),C(fe,null,$e(a.value,v=>(k(),C("button",{key:v.id,onClick:A=>W(v),class:Se(["w-full text-left px-3 py-2 rounded",c.value===v.episode_number?"bg-orange-600 text-white":"bg-gray-100 text-gray-800"])}," "+R(v.episode_number)+" ",11,x0))),128))])]),n("div",null,[w[11]||(w[11]=n("h4",{class:"text-sm font-semibold mb-2"},"",-1)),n("div",b0,[(k(!0),C(fe,null,$e(u.value,v=>(k(),St(S,{key:v.id,to:`/detail/${v.id}`,class:"flex items-center gap-3"},{default:Ue(()=>[n("img",{src:v.cover_url||"/placeholder.svg",class:"w-20 h-12 object-cover rounded"},null,8,_0),n("div",null,[n("div",w0,R(v.title),1),n("div",k0," "+R(v.score||"-"),1)])]),_:2},1032,["to"]))),128))])])])])])])])])}}},$0=Os(S0,[["__scopeId","data-v-f7e844be"]]),Oi="/assets/book-DHsMiQNw.png",C0={class:"min-h-screen bg-gray-100 flex"},A0={class:"w-64 bg-white shadow-lg p-6 flex flex-col justify-between h-screen"},E0={class:"flex items-center space-x-3"},P0={class:"w-10 h-10 rounded-full overflow-hidden bg-gray-100 flex items-center justify-center"},I0=["src"],R0={class:"mt-4 flex items-center space-x-3"},T0={class:"w-10 h-10 rounded-full overflow-hidden"},O0=["src","alt"],N0={key:1,class:"w-full h-full bg-blue-500 flex items-center justify-center text-white font-medium"},L0={class:"text-sm font-medium text-gray-800"},D0={class:"mt-6"},M0={class:"space-y-2"},j0={class:"mt-6"},U0={class:"flex-1 p-8 overflow-auto"},F0={key:0},V0={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},B0={class:"bg-white p-6 rounded-lg shadow-md"},H0={class:"flex items-center"},z0={class:"ml-4"},W0={class:"text-2xl font-bold text-gray-800"},q0={class:"bg-white p-6 rounded-lg shadow-md"},K0={class:"flex items-center"},J0={class:"ml-4"},G0={class:"text-2xl font-bold text-gray-800"},Y0={class:"bg-white p-6 rounded-lg shadow-md"},X0={class:"flex items-center"},Q0={class:"ml-4"},Z0={class:"text-2xl font-bold text-gray-800"},em={class:"bg-white p-6 rounded-lg shadow-md"},tm={class:"flex items-center"},sm={class:"ml-4"},nm={class:"text-2xl font-bold text-gray-800"},om={class:"bg-white p-6 rounded-lg shadow-md"},rm={class:"space-y-3"},lm={class:"flex-1"},im={class:"text-sm text-gray-800"},am={class:"text-xs text-gray-500"},um={key:1,class:"space-y-6"},cm={class:"flex justify-between items-center"},dm={class:"text-sm text-gray-500"},fm={class:"mr-4"},pm={class:"bg-white rounded-lg shadow-md overflow-hidden"},gm={class:"p-6 border-b border-gray-200"},mm={class:"flex justify-between items-center"},hm={class:"flex space-x-4 items-center"},vm={class:"inline-flex items-center text-sm text-gray-600 ml-2"},ym={class:"overflow-x-auto"},xm={class:"w-full"},bm={class:"bg-white divide-y divide-gray-200"},_m=["id"],wm={class:"px-6 py-4 whitespace-nowrap"},km={class:"flex items-center"},Sm=["src","alt"],$m={class:"ml-4"},Cm={class:"text-sm font-medium text-gray-900"},Am={class:"text-sm text-gray-500"},Em={class:"px-6 py-4 whitespace-nowrap"},Pm={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Im={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Rm={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},Tm=["onClick"],Om=["onClick"],Nm={key:1,class:"px-6 py-4 text-center text-gray-400",colspan:"5"},Lm={class:"p-4 flex items-center justify-between"},Dm={class:"text-sm text-gray-600"},Mm={class:"flex items-center space-x-4"},jm={class:"flex items-center space-x-2"},Um=["disabled"],Fm={class:"flex items-center space-x-1"},Vm=["onClick"],Bm=["disabled"],Hm={class:"flex items-center space-x-2"},zm=["max"],Wm={class:"text-sm text-gray-600 ml-2"},qm={key:2,class:"space-y-6"},Km={class:"bg-white rounded-lg shadow-md overflow-hidden"},Jm={class:"p-6 border-b border-gray-200"},Gm={class:"flex justify-between items-center"},Ym={class:"flex space-x-4"},Xm={class:"overflow-x-auto"},Qm={class:"w-full"},Zm={class:"bg-white divide-y divide-gray-200"},eh={key:0},th={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},sh={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},nh={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},oh={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},rh={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},lh={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},ih=["onClick"],ah=["onClick"],uh={key:3,class:"space-y-6"},ch={class:"flex justify-between items-center"},dh={class:"text-sm text-gray-500"},fh={class:"bg-white rounded-lg shadow-md overflow-hidden"},ph={class:"overflow-x-auto"},gh={class:"w-full"},mh={class:"bg-white divide-y divide-gray-200"},hh={key:0},vh={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},yh={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},xh={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},bh={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},_h={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},wh={key:4,class:"space-y-6"},kh={class:"bg-white rounded-lg shadow-md p-6"},Sh={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},$h={class:"md:col-span-2"},Ch={class:"space-y-2"},Ah={class:"font-medium"},Eh={class:"text-sm text-gray-500"},Ph={class:"space-x-2"},Ih=["onClick"],Rh=["onClick"],Th={key:0,class:"text-gray-500"},Oh={class:"md:col-span-1"},Nh={class:"text-lg font-medium text-gray-900 mb-4"},Lh={key:5,class:"space-y-6"},Dh={class:"bg-white rounded-lg shadow-md p-6"},Mh={class:"flex justify-between items-center mb-6"},jh={class:"flex items-center space-x-2"},Uh=["value"],Fh={key:0,class:"space-y-4"},Vh={class:"flex justify-between items-center"},Bh={class:"flex space-x-2"},Hh={class:"space-y-2"},zh={class:"flex-1"},Wh={class:"font-medium"},qh={class:"text-sm text-gray-500"},Kh={class:"text-sm text-gray-400 truncate max-w-md"},Jh={class:"flex space-x-2"},Gh=["onClick"],Yh=["onClick"],Xh=["onClick"],Qh={key:0,class:"text-gray-500 text-center py-4"},Zh={key:0,class:"mt-4 p-4 bg-gray-50 rounded"},ev=["src"],tv={class:"text-sm text-gray-600 mt-2"},sv={key:1,class:"text-gray-500 text-center py-8"},nv={key:6,class:"space-y-6"},ov={class:"bg-white rounded-lg shadow-md p-6"},rv={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},lv={class:"md:col-span-2"},iv={key:0,class:"mt-2"},av=["src"],uv={key:7,class:"space-y-6"},cv={class:"flex justify-between items-center"},dv={class:"flex items-center space-x-3"},fv={class:"flex items-center space-x-2 ml-4"},pv=["disabled"],gv=["disabled"],mv=["disabled"],hv={class:"bg-white rounded-lg shadow-md p-6"},vv={class:"overflow-x-auto"},yv={class:"w-full"},xv={class:"bg-gray-50"},bv={class:"px-6 py-3 text-left"},_v=["checked"],wv={class:"bg-white divide-y divide-gray-200"},kv=["onDragstart","onDragover","onDrop"],Sv={class:"px-6 py-4 whitespace-nowrap"},$v=["value"],Cv={class:"px-6 py-4 whitespace-nowrap"},Av=["src"],Ev={class:"px-6 py-4 whitespace-nowrap"},Pv={class:"font-medium"},Iv={class:"text-sm text-gray-500"},Rv={class:"px-6 py-4 whitespace-nowrap text-sm text-blue-600"},Tv=["href"],Ov={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Nv={class:"flex items-center space-x-2"},Lv=["onClick"],Dv=["onClick"],Mv={class:"ml-2 text-sm text-gray-600"},jv={class:"px-6 py-4 whitespace-nowrap"},Uv={class:"inline-flex items-center space-x-2"},Fv=["onUpdate:modelValue","onChange"],Vv={class:"text-sm"},Bv={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},Hv=["onClick"],zv=["onClick"],Wv={key:0},qv={key:0,class:"fixed inset-0 z-50 flex items-center justify-center"},Kv={class:"bg-white rounded-lg shadow-lg z-60 w-11/12 md:w-3/4 lg:w-1/2 p-6 relative max-h-[90vh] overflow-y-auto"},Jv={class:"text-xl font-bold mb-4"},Gv={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Yv=["value"],Xv={class:"md:col-span-2"},Qv={class:"md:col-span-2"},Zv={key:0,class:"mt-2"},e1=["src"],t1={class:"flex justify-end space-x-3 mt-4"},s1={type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded"},n1={key:1,class:"fixed inset-0 z-50 flex items-center justify-center"},o1={class:"bg-white rounded-lg shadow-lg z-60 w-11/12 md:w-2/3 lg:w-1/2 p-6 relative max-h-[90vh] overflow-y-auto"},r1={class:"text-xl font-bold mb-4"},l1={class:"grid grid-cols-1 gap-4"},i1={key:0,class:"mt-2 text-sm text-green-600"},a1={key:1,class:"mt-2 text-sm text-blue-600"},u1={key:2,class:"mt-2 text-sm text-orange-600"},c1={class:"mt-3"},d1={key:0,class:"mt-1 text-xs text-blue-600"},f1={class:"flex justify-end space-x-3 mt-4"},p1={type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded"},g1={key:2,class:"fixed inset-0 z-50 flex items-center justify-center"},m1={class:"bg-white rounded-lg shadow-lg z-60 w-11/12 md:w-2/3 lg:w-1/2 p-6 relative max-h-[90vh] overflow-y-auto"},h1={class:"text-xl font-bold mb-4"},v1={class:"grid grid-cols-1 gap-4"},y1={key:0,class:"mt-2"},x1=["src"],b1={key:1,class:"mt-2 p-2 bg-green-50 border border-green-200 rounded"},_1={class:"text-sm text-green-700"},w1={class:"text-xs text-green-600"},k1={class:"grid grid-cols-2 gap-4"},S1={class:"flex justify-end space-x-3 mt-4"},$1={key:3,class:"fixed inset-0 z-60 flex items-center justify-center"},C1={class:"bg-white rounded-lg shadow-lg z-70 w-11/12 md:w-1/3 p-6 relative"},A1={class:"text-sm text-gray-700 mb-6"},E1={class:"flex items-center justify-between mb-4"},P1={class:"inline-flex items-center space-x-2"},I1={__name:"Admin",setup(e){const t=Ct(),s=Gt(),o=ve(()=>{try{const g=s.user?.username||s.user?.name||"";return g?String(g).charAt(0).toUpperCase():"A"}catch{return"A"}}),r=V("dashboard"),l=V(""),a=V(""),u=V(1),c=V(10),f=V(!1),p=V(0),d=V(0),x=V(0),_=V(0),j=V([{id:1,title:" ",cover:"/placeholder.svg",status:"ongoing",category:"",views:12500110,updatedAt:new Date},{id:2,title:" 7",cover:"/placeholder.svg",status:"ongoing",category:"",views:9801100,updatedAt:new Date(Date.now()-864e5)},{id:3,title:"",cover:"/placeholder.svg",status:"ongoing",category:"",views:156e4,updatedAt:new Date(Date.now()-1728e5)}]),W=V([]),X=V(""),B=ve(()=>{const g=(X.value||"").trim().toLowerCase();return g?(W.value||[]).filter(i=>String(i.title||"").toLowerCase().includes(g)):W.value}),I=V([]),O=V(""),T=ve(()=>{const g=O.value.trim().toLowerCase();return g?I.value.filter(i=>(i.username||"").toLowerCase().includes(g)||(i.email||"").toLowerCase().includes(g)):I.value}),L=V([{id:1,description:"",time:"5"},{id:2,description:" 3",time:"1"},{id:3,description:"",time:"2"},{id:4,description:"",time:" 15:30"}]),xe=ve(()=>{const g=(l.value||"").toString().trim().toLowerCase();return(j.value||[]).filter(i=>{const z=(i&&(i.title||i.name||"")).toString().toLowerCase(),h=!g||z.includes(g),Y=!a.value||(i&&i.status)===a.value,ee=!i||!i.cover||i.cover===""||i.cover==="/placeholder.svg",he=!f.value||ee;return h&&Y&&he})}),N=ve(()=>{const g=j.value||[],Y=(l.value&&String(l.value).trim()!==""||a.value&&String(a.value).trim()!==""||f.value?xe.value:g).slice(0,Number(c.value)||10).slice();for(;Y.length<(Number(c.value)||10);)Y.push(null);return Y}),J=V(null),Q=async g=>{if(g){J.value=g,await Cs();try{const i=document.getElementById(`anime-row-${g}`);i&&typeof i.scrollIntoView=="function"&&i.scrollIntoView({behavior:"smooth",block:"center"})}catch{}setTimeout(()=>{J.value=null},3e3)}},le=async()=>{u.value>1&&(u.value--,await m())},ie=async()=>{const g=Math.max(1,Math.ceil((p.value||0)/c.value));u.value<g&&(u.value++,await m())};bt([l,a,f],async()=>{u.value=1,_e.value=1;const g=(l.value||"").toString().trim();if(g)try{const i=$(),z=await fetch(`/api/admin/animes?search=${encodeURIComponent(g)}&limit=1000`,{headers:{Authorization:`Bearer ${i}`},cache:"no-store"});if(z.ok){const ee=((await z.json().catch(()=>null)||{}).animes||[]).findIndex(he=>((he.title||he.name||"")+"").toLowerCase().includes(g.toLowerCase()));if(ee>=0){const he=Math.max(1,Math.ceil((ee+1)/(Number(c.value)||10)));u.value=he,_e.value=he}}}catch(i){console.warn("locate page for search failed",i),u.value=1,_e.value=1}await m()});const _e=V(1),we=ve(()=>Math.max(1,Math.ceil((p.value||0)/c.value))),qe=ve(()=>{const i=we.value;let z=Math.max(1,u.value-Math.floor(7/2)),h=Math.min(i,z+7-1);h-z+1<7&&(z=Math.max(1,h-7+1));const Y=[];for(let ee=z;ee<=h;ee++)Y.push(ee);return Y}),Xe=async g=>{const i=Number(g)||1;u.value=Math.min(Math.max(1,i),we.value),_e.value=u.value,await m()},Pe=async()=>{await Xe(_e.value)},ae=g=>new Date(g).toLocaleDateString("zh-CN"),ke=g=>{if(!g)return g;const i=String(g).toLowerCase();return i==="cancelled"?"movie":i},Ge=g=>{switch(ke(g)){case"ongoing":return"bg-green-100 text-green-800";case"completed":return"bg-blue-100 text-blue-800";case"movie":return"bg-red-100 text-red-800";case"upcoming":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},tt=g=>{switch(g){case"ongoing":return"";case"completed":return"";case"movie":return"";case"upcoming":return"";default:return""}},Fe=()=>{confirm("")&&(s.logout(),t.push("/admin/login"))},Ve=async()=>{if(confirm(" banner_url  cover_url"))try{const g=$(),i=typeof window<"u"&&window.location&&window.location.hostname==="localhost"?`${window.location.protocol}//${window.location.hostname}:3003`:"",z=await fetch(`${i}/admin/animes/fix-missing-covers`,{method:"POST",headers:{Authorization:`Bearer ${g}`}});if(!z.ok){alert(": "+z.status);return}const h=await z.json();alert(` ${h.affectedRows||0} `),await m()}catch(g){console.error("",g),alert("")}},$=()=>localStorage.getItem("auth_token")||"",m=async()=>{try{const g=$(),i=new URLSearchParams;i.set("page",String(u.value||1)),i.set("limit",String(c.value||30)),l.value&&l.value.trim()!==""&&i.set("search",l.value.trim()),a.value&&i.set("status",a.value),f.value&&i.set("missing_cover","1");const z=await fetch(`/api/admin/animes?${i.toString()}`,{headers:{Authorization:`Bearer ${g}`}});if(!z.ok){console.error("Failed to fetch animes",z.status);return}const h=await z.json();j.value=(h.animes||[]).map(Y=>{const ee=Y.cover_url||Y.cover||null,he=ee&&typeof ee=="string"&&ee.includes("via.placeholder.com")?"/placeholder.svg":ee;return{id:Y.id,title:Y.title,cover:he,status:Y.status||"ongoing",category:Y.category_name||Y.category||null,region:Y.region||"",views:Y.view_count||Y.views||0,updatedAt:Y.updated_at||Y.created_at,update_day:Y.update_day||null}}),p.value=h.pagination&&(h.pagination.total||h.pagination.totalCount||h.pagination.total_items)||j.value.length;try{_e.value=u.value}catch{}try{const Y=(l.value||"").toString().trim().toLowerCase();if(Y){const ee=(j.value||[]).find(he=>(he&&(he.title||he.name||"")).toString().toLowerCase().includes(Y));ee&&ee.id&&(await Cs(),Q(ee.id))}}catch(Y){console.warn("scrollTo highlight error",Y)}}catch(g){console.error("Error fetching animes:",g)}},w=async()=>{try{const g=$(),i=await fetch("/api/admin/animes?limit=1000",{headers:{Authorization:`Bearer ${g}`}});if(!i.ok){console.error("Failed to load full anime list for select",i.status);return}const z=await i.json();W.value=(z.animes||[]).map(h=>({id:h.id,title:h.title||h.name||`#${h.id}`}))}catch(g){console.error("Error loading full anime list for select:",g)}},S=async()=>{try{const g=$(),i=await fetch("/api/admin/users",{headers:{Authorization:`Bearer ${g}`}});if(!i.ok){console.error("Failed to fetch users",i.status);return}const z=await i.json();I.value=z.users||[],d.value=z.pagination&&z.pagination.total||I.value.length||d.value}catch(g){console.error("Error fetching users:",g)}},v=V([]),A=async()=>{try{const g=await fetch("/api/anime/category");if(!g.ok)return;v.value=await g.json()}catch(g){console.error("Error loading categories",g)}},E=V([]),H=rt({id:null,name:"",description:""}),se=async()=>{try{const g=$(),i=await fetch("/api/admin/categories",{headers:g?{Authorization:`Bearer ${g}`}:{}});if(!i.ok){console.error("Failed to load admin categories",i.status);return}const z=await i.json();E.value=z.categories||[]}catch(g){console.error("Error loading admin categories",g)}},y=g=>{H.id=g.id,H.name=g.name,H.description=g.description||""},b=()=>{H.id=null,H.name="",H.description=""},P=async()=>{if(!H.name||H.name.trim()===""){alert("");return}try{const g=$(),i=H.id?`/api/admin/categories/${H.id}`:"/api/admin/categories",z=H.id?"PUT":"POST",h=await fetch(i,{method:z,headers:{"Content-Type":"application/json",Authorization:g?`Bearer ${g}`:""},body:JSON.stringify({name:H.name,description:H.description})});if(!h.ok){const ee=await h.json().catch(()=>null);alert(": "+(ee?.message||h.status));return}const Y=await h.json();await se(),b(),localStorage.setItem("categories_updated",Date.now().toString()),alert("")}catch(g){console.error("Error saving category:",g),alert("")}},F=async g=>{if(confirm(""))try{const i=$(),z=await fetch(`/api/admin/categories/${g}`,{method:"DELETE",headers:{Authorization:i?`Bearer ${i}`:""}});if(!z.ok){alert(": "+z.status);return}E.value=E.value.filter(h=>h.id!==g),alert("")}catch(i){console.error("Error deleting category:",i),alert("")}},M=V([]),U=V(!1),Z=V(!1),D=rt({id:null,title:"",subtitle:"",image_url:"",imageFile:null,link_url:"",order_index:0,is_active:1}),G=async()=>{try{const g=$(),i=await fetch("/api/admin/banners",{headers:g?{Authorization:`Bearer ${g}`}:{}});if(!i.ok){console.error("Failed to load banners",i.status);return}const z=await i.json();M.value=z.banners||[]}catch(g){console.error("Error loading banners:",g)}},q=()=>{Z.value=!1,D.id=null,D.title="",D.subtitle="",D.image_url="",D.imageFile=null,D.link_url="",D.order_index=0,D.is_active=1,U.value=!0},ce=g=>{Z.value=!0,D.id=g.id,D.title=g.title||"",D.subtitle=g.subtitle||"",D.image_url=g.image_url||"",D.imageFile=null,D.link_url=g.link_url||"",D.order_index=g.order_index||0,D.is_active=g.is_active?1:0,U.value=!0},te=g=>{const i=g.target.files&&g.target.files[0];if(!i){D.imageFile=null;return}if(!i.type.startsWith("image/")){alert(""),g.target.value="";return}const z=10*1024*1024;if(i.size>z){alert(`: ${Math.round(i.size/1024/1024)}MB 10MB`),g.target.value="";return}D.imageFile=i},re=async g=>{if(!g)return"";const i=new FormData;i.append("file",g);const z=$(),h=await fetch("/api/upload/image",{method:"POST",body:i,headers:z?{Authorization:`Bearer ${z}`}:{}});if(!h.ok)throw new Error("");return(await h.json()).url||""},pe=async()=>{try{const g=$();if(D.imageFile){const he=await re(D.imageFile);he&&(D.image_url=he)}const i={title:D.title||null,subtitle:D.subtitle||null,image_url:D.image_url,link_url:D.link_url||null,order_index:Number(D.order_index)||0,is_active:D.is_active?1:0},z=D.id?`/api/admin/banners/${D.id}`:"/api/admin/banners",h=D.id?"PUT":"POST",Y=await fetch(z,{method:h,headers:{"Content-Type":"application/json",Authorization:g?`Bearer ${g}`:""},body:JSON.stringify(i)});if(!Y.ok){const he=await Y.json().catch(()=>null);alert(": "+(he?.message||Y.status));return}const ee=await Y.json();await G(),U.value=!1,alert("")}catch(g){console.error("Error saving banner:",g),alert("")}},Ce=async g=>{if(confirm(" Banner "))try{const i=$(),z=await fetch(`/api/admin/banners/${g}`,{method:"DELETE",headers:{Authorization:i?`Bearer ${i}`:""}});if(!z.ok){alert(": "+z.status);return}M.value=M.value.filter(h=>h.id!==g),alert("")}catch(i){console.error("Error deleting banner:",i),alert("")}},Ne=async g=>{try{const i=$();(await fetch(`/api/admin/banners/${g.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:i?`Bearer ${i}`:""},body:JSON.stringify({is_active:g.is_active?1:0})})).ok||(alert(""),await G())}catch(i){console.error("Error toggling banner active:",i),await G()}},Ae=V([]),Qe=V(1),Ze=V(20),yt=V(0),ct=async()=>{try{const g=$();console.log("loadOrders: requesting",`/api/admin/orders?page=${Qe.value}&limit=${Ze.value}`,"token present?",!!g);const i=await fetch(`/api/admin/orders?page=${Qe.value}&limit=${Ze.value}`,{headers:g?{Authorization:`Bearer ${g}`}:{}});if(console.log("loadOrders: response status",i.status),!i.ok){let h="";try{h=await i.text()}catch(Y){h=String(Y)}console.error("Failed to load orders",i.status,h);return}const z=await i.json();console.log("loadOrders: data",z),Ae.value=z.orders||[],yt.value=z.pagination&&z.pagination.total||Ae.value.length}catch(g){console.error("Error loading orders:",g)}};bt(r,g=>{if(g==="orders"){try{typeof window<"u"&&window.scrollTo&&window.scrollTo({top:0,left:0,behavior:"auto"})}catch{}ct()}});const ls=async g=>{const i=M.value.findIndex(Y=>Y.id===g.id);if(i<=0)return;const z=M.value[i-1],h=$();try{await fetch(`/api/admin/banners/${g.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:h?`Bearer ${h}`:""},body:JSON.stringify({order_index:z.order_index||0})}),await fetch(`/api/admin/banners/${z.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:h?`Bearer ${h}`:""},body:JSON.stringify({order_index:g.order_index||0})}),await G()}catch(Y){console.error("Error moving banner up:",Y)}},dn=async g=>{const i=M.value.findIndex(Y=>Y.id===g.id);if(i===-1||i>=M.value.length-1)return;const z=M.value[i+1],h=$();try{await fetch(`/api/admin/banners/${g.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:h?`Bearer ${h}`:""},body:JSON.stringify({order_index:z.order_index||0})}),await fetch(`/api/admin/banners/${z.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:h?`Bearer ${h}`:""},body:JSON.stringify({order_index:g.order_index||0})}),await G()}catch(Y){console.error("Error moving banner down:",Y)}},ze=V(null),dt=V(null);function fn(g){ze.value=g}function pn(g){dt.value=g}async function Ni(g){if(ze.value===null||ze.value===void 0)return;const i=ze.value,z=g;if(i===z){ze.value=null,dt.value=null;return}const h=M.value.splice(i,1)[0];M.value.splice(z,0,h),ze.value=null,dt.value=null;const Y=M.value.map((ee,he)=>({id:ee.id,order_index:M.value.length-he}));try{const ee=$();if(!(await fetch("/api/admin/banners/reorder",{method:"POST",headers:{"Content-Type":"application/json",Authorization:ee?`Bearer ${ee}`:""},body:JSON.stringify({items:Y})})).ok)throw new Error("reorder failed");await G(),alert("")}catch(ee){console.error("Error saving reorder:",ee),alert(""),await G()}}const Ke=V([]),Li=ve(()=>M.value.length>0&&Ke.value.length===M.value.length),Di=g=>{g&&g.target&&g.target.checked?Ke.value=M.value.map(i=>i.id):Ke.value=[]},gn=V(!1),er=V("");let Ns=null;const Xn=(g,i)=>{if(localStorage.getItem("confirm_skip")==="true"){i&&i();return}er.value=g,Ns=i,gn.value=!0},Mi=async()=>{gn.value=!1,typeof Ns=="function"&&await Ns(),Ns=null},tr=()=>{gn.value=!1,Ns=null},Qn=V(!1),ji=async()=>{try{Qn.value&&localStorage.setItem("confirm_skip","true")}catch{}await Mi()},sr=async(g,i)=>{if(!(!g||g.length===0))try{const z=$();if(!(await fetch("/api/admin/banners/batch",{method:"POST",headers:{"Content-Type":"application/json",Authorization:z?`Bearer ${z}`:""},body:JSON.stringify({action:i?"enable":"disable",ids:g})})).ok)throw new Error("");await G(),Ke.value=[],alert("")}catch(z){console.error("Batch update active failed",z),alert("")}},Ui=()=>{Ke.value.length!==0&&Xn(` ${Ke.value.length}  Banner `,async()=>{await sr([...Ke.value],1)})},Fi=()=>{Ke.value.length!==0&&Xn(` ${Ke.value.length}  Banner `,async()=>{await sr([...Ke.value],0)})},Vi=()=>{Ke.value.length!==0&&Xn(` ${Ke.value.length}  Banner `,async()=>{try{const g=$();if(!(await fetch("/api/admin/banners/batch",{method:"POST",headers:{"Content-Type":"application/json",Authorization:g?`Bearer ${g}`:""},body:JSON.stringify({action:"delete",ids:Ke.value})})).ok)throw new Error("");await G(),Ke.value=[],alert("")}catch(g){console.error("Batch delete failed",g),alert("")}})},Bi=g=>{const i=g.target.files&&g.target.files[0];if(!i){K.coverFile=null,K.coverPreview="";return}K.coverFile=i,K.coverPreview=URL.createObjectURL(i)},Zn=new Map,Hi=async g=>{if(!g)return"";const i=`${g.name}_${g.size}_${g.lastModified}`;if(Zn.has(i))return Zn.get(i);const z=new FormData;z.append("file",g);const h=$(),Y=await fetch("/api/upload/image",{method:"POST",body:z,headers:h?{Authorization:`Bearer ${h}`}:{}});if(!Y.ok)throw new Error("");const he=(await Y.json()).url||"";return he&&Zn.set(i,he),he},me=rt({siteTitle:"",siteDescription:"",siteLogo:"",logoFile:null,logoPreview:"",itemsPerPage:12,defaultCategoryId:null}),zi=g=>{const i=g.target.files&&g.target.files[0];if(!i){me.logoFile=null,me.logoPreview="";return}me.logoFile=i,me.logoPreview=URL.createObjectURL(i)},Wi=()=>{mn()},mn=async()=>{try{const g=$(),i=await fetch("/api/admin/settings",{headers:g?{Authorization:`Bearer ${g}`}:{}});if(i.ok){const z=await i.json().catch(()=>null)||{};me.siteTitle=z.siteTitle||z.title||me.siteTitle,me.siteDescription=z.siteDescription||z.description||me.siteDescription,me.siteLogo=z.siteLogo||z.logo||me.siteLogo,me.itemsPerPage=z.itemsPerPage||me.itemsPerPage,me.defaultCategoryId=z.defaultCategoryId||me.defaultCategoryId;return}}catch(g){console.error("loadSettings backend error",g)}try{const g=localStorage.getItem("site_settings");if(g){const i=JSON.parse(g);me.siteTitle=i.siteTitle||me.siteTitle,me.siteDescription=i.siteDescription||me.siteDescription,me.siteLogo=i.siteLogo||me.siteLogo,me.itemsPerPage=i.itemsPerPage||me.itemsPerPage,me.defaultCategoryId=i.defaultCategoryId||me.defaultCategoryId}}catch(g){console.error("loadSettings local error",g)}},qi=async()=>{try{if(me.logoFile){const z=await Hi(me.logoFile);me.siteLogo=z||me.siteLogo}const g={siteTitle:me.siteTitle,siteDescription:me.siteDescription,siteLogo:me.siteLogo,itemsPerPage:me.itemsPerPage,defaultCategoryId:me.defaultCategoryId},i=$();try{if((await fetch("/api/admin/settings",{method:"POST",headers:{"Content-Type":"application/json",Authorization:i?`Bearer ${i}`:""},body:JSON.stringify(g)})).ok){alert("");return}}catch(z){console.error("saveSettings backend error",z)}localStorage.setItem("site_settings",JSON.stringify(g)),alert("")}catch(g){console.error("saveSettings error",g),alert("")}},Ki=async()=>{if(!K.coverFile)return"";const g=new FormData;g.append("file",K.coverFile);const i=$(),z=await fetch("/api/upload/image",{method:"POST",body:g,headers:i?{Authorization:`Bearer ${i}`}:{}});if(!z.ok)throw new Error("");return(await z.json()).url||""},is=g=>{try{g.target.onerror=null,g.target.src="/placeholder.svg"}catch{}},hs=V(!1),as=V(!1),K=rt({id:null,title:"",description:"",status:"ongoing",total_episodes:0,original_title:"",category_id:null,region:"",release_date:"",updated_at:"",rating:0,language:"",updated_to:"",update_day:null,tags:"",coverFile:null,cover_url:""}),nr=()=>{as.value=!1,K.id=null,K.title="",K.description="",K.status="ongoing",K.total_episodes=0,K.original_title="",K.category_id=null,K.region="",K.release_date="",K.rating=0,K.language="",K.updated_to="",K.update_day=null,K.tags="",K.cover_url="",K.coverFile=null,hs.value=!0};typeof window<"u"&&(window.openCreateModal=nr);const Ji=async g=>{try{await se()}catch(i){console.warn("Failed to load admin categories before opening edit modal",i)}as.value=!0,K.id=g.id,K.title=g.title||"",K.description=g.description||"",K.status=g.status||"ongoing",K.total_episodes=g.total_episodes||0,K.original_title=g.original_title||"",K.category_id=g.category_id||null,K.release_date=g.release_date||"",K.rating=g.rating||0,K.cover_url=g.cover_url||g.cover||"",K.coverPreview=g.cover_url||g.cover||"",K.region=g.region||"",K.language=g.language||"",K.updated_to=g.updated_to||"",K.update_day=g.update_day||null,K.tags=g.tags&&Array.isArray(g.tags)?g.tags.join(", "):g.tags||"",hs.value=!0},Gi=async()=>{if(!K.title||K.title.trim()===""){alert("");return}try{const g=$(),i=as.value?`/api/admin/animes/${K.id}`:"/api/admin/animes",z=as.value?"PUT":"POST";let h=K.cover_url||"";try{K.coverFile&&(h=await Ki())}catch(he){console.error("Cover upload failed",he),alert("");return}console.log("submitAnime payload:",{title:K.title,original_title:K.original_title,description:K.description,cover_url:h||K.cover_url||null,status:K.status,release_date:K.release_date||null,total_episodes:Number(K.total_episodes)||0,category_id:K.category_id||null,rating:K.rating||0});const Y=await fetch(i,{method:z,headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify({title:K.title,original_title:K.original_title||null,description:K.description,cover_url:h||K.cover_url||null,status:K.status,release_date:K.release_date||null,total_episodes:Number(K.total_episodes)||0,category_id:K.category_id||null,region:K.region||null,rating:K.rating||0,language:K.language||null,updated_to:K.updated_to||null,update_day:K.update_day||null,tags:K.tags?K.tags.split(",").map(he=>he.trim()).filter(Boolean):null})});if(!Y.ok){const he=await Y.json().catch(()=>null);alert(": "+(he?.message||Y.status));return}const ee=await Y.json();if(console.log("submitAnime response saved:",ee),as.value){const he=j.value.findIndex(hn=>hn.id===ee.id);he>=0&&j.value.splice(he,1,{id:ee.id,title:ee.title,cover:ee.cover_url||ee.cover||null,status:ee.status||"ongoing",category:ee.category_name||null,region:ee.region||"",views:ee.view_count||0,updatedAt:ee.updated_at||ee.created_at})}else j.value.unshift({id:ee.id,title:ee.title,cover:ee.cover_url||ee.cover||null,status:ee.status||"ongoing",category:ee.category_name||null,region:ee.region||"",views:ee.view_count||0,updatedAt:ee.updated_at||ee.created_at}),p.value++;try{await or()}catch(he){console.warn("Failed to reload admin data after save:",he)}hs.value=!1}catch(g){console.error("Error saving anime:",g),alert("")}},Yi=async g=>{if(confirm(""))try{const i=$(),z=await fetch(`/api/admin/animes/${g}`,{method:"DELETE",headers:{Authorization:`Bearer ${i}`}});if(!z.ok){alert(": "+z.status);return}const h=j.value.findIndex(Y=>Y.id===g);h>=0&&j.value.splice(h,1),p.value=Math.max(0,p.value-1)}catch(i){console.error("Error deleting anime:",i),alert("")}},Xi=g=>{t.push({path:"/user-center",query:{userId:g.id}})},Qi=async g=>{if(confirm(""))try{const i=$(),z=await fetch(`/api/admin/users?id=${g}`,{method:"DELETE",headers:{Authorization:`Bearer ${i}`}});if(!z.ok){alert(": "+z.status);return}I.value=I.value.filter(h=>h.id!==g),d.value=Math.max(0,d.value-1)}catch(i){console.error("Error deleting user:",i),alert("")}},Zi=async()=>{try{const[g,i]=await Promise.all([fetch("/api/admin/stats/views",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),fetch("/api/admin/stats/today-updates",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})]);if(g.ok){const z=await g.json();x.value=z.totalViews}if(i.ok){const z=await i.json();_.value=z.todayUpdates}}catch(g){console.warn("Failed to load stats:",g)}},or=async()=>{s.checkAdminStatus(),await Promise.all([m(),S(),se(),A(),G(),Zi(),ct(),mn()])},Yt=async g=>{r.value=g;try{g==="orders"?await ct():g==="users"?await S():g==="anime"?await m():g==="categories"?await se():g==="banners"?await G():g==="episodes"?Lt.value&&await Ds():g==="settings"&&await mn()}catch(i){console.warn("selectTab load error:",i)}},Lt=V(""),At=V([]),Ls=V(!1),us=V(!1),eo=V(""),rr=V(""),ue=rt({id:null,anime_id:null,episode_number:1,title:"",duration:0,videoFile:null,video_url:""}),Ds=async()=>{if(Lt.value)try{const g=$(),i=await fetch(`/api/admin/animes/${Lt.value}/episodes`,{headers:g?{Authorization:`Bearer ${g}`}:{}});if(!i.ok)throw new Error("");At.value=await i.json()}catch(g){console.error(":",g),At.value=[]}},lr=(g=null)=>{console.log("Opening episode modal with episode:",g),g?(us.value=!0,ue.id=g.id,ue.anime_id=g.anime_id,ue.episode_number=g.episode_number,ue.title=g.title||"",ue.duration=g.duration||0,ue.video_url=g.video_url||"",ue.videoFile=null):(us.value=!1,ue.id=null,ue.anime_id=Lt.value,ue.episode_number=At.value.length+1,ue.title=`${At.value.length+1}`,ue.duration=0,ue.video_url="",ue.videoFile=null,console.log("Creating new episode")),Ls.value=!0},ea=g=>{lr(g)},ta=async g=>{if(confirm(""))try{const i=$();if(!(await fetch(`/api/admin/episodes/${g}`,{method:"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}})).ok)throw new Error("");await Ds(),alert("")}catch(i){console.error(":",i),alert("")}},sa=g=>{const i=g.target.files[0];if(i){if(!i.type.startsWith("video/")){alert(""),g.target.value="";return}const z=500*1024*1024;if(i.size>z){alert(`: ${Math.round(i.size/1024/1024)}MB 500MB`),g.target.value="";return}ue.videoFile=i}else ue.videoFile=null},na=async g=>{if(!(!g||!g.startsWith("/uploads/")))try{const i=g.replace("/uploads/","");console.log(":",i);const z=$(),h=await fetch("/api/admin/delete-file",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${z}`},body:JSON.stringify({filename:i})});h.ok?console.log(":",i):console.warn(":",i,h.status)}catch(i){console.warn(":",i)}},oa=async()=>{if(!ue.videoFile)return ue.video_url||"";const g=500*1024*1024;if(ue.videoFile.size>g)throw new Error(`: ${Math.round(ue.videoFile.size/1024/1024)}MB 500MB`);console.log(":",ue.videoFile.name,":",Math.round(ue.videoFile.size/1024/1024)+"MB");const i=new FormData;i.append("file",ue.videoFile);const z=$(),h={};z&&(h.Authorization=`Bearer ${z}`);try{const Y=await fetch("/api/upload/video",{method:"POST",body:i,headers:h});if(console.log(":",Y.status),!Y.ok){let he="";try{he=await Y.text()}catch{he=Y.statusText||""}throw console.error("Upload failed:",Y.status,he),new Error(` (${Y.status}): ${he}`)}const ee=await Y.json();return console.log(":",ee),ee.url||""}catch(Y){throw console.error("Upload error:",Y),Y}},ra=g=>{eo.value=g.video_url,rr.value=`: ${g.title} (${g.episode_number})`},la=async()=>{if(confirm(""))try{const g=$(),i=["/uploads/file_1768378701309.mp4","/uploads/file_1768378780907.mp4","/uploads/file_1768381412163.mp4","/uploads/file_1768383618509.mp4","/uploads/file_1768383692341.mp4"],z=At.value.slice(0,5).map((h,Y)=>({id:h.id,url:i[Y%i.length]}));for(const h of z){const Y=await fetch(`/api/admin/episodes/${h.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify({anime_id:Lt.value,episode_number:At.value.find(ee=>ee.id===h.id)?.episode_number,title:At.value.find(ee=>ee.id===h.id)?.title,duration:At.value.find(ee=>ee.id===h.id)?.duration||0,video_url:h.url})});if(!Y.ok){const ee=await Y.text();throw new Error(` ${h.id}  (${Y.status})`)}}await Ds(),alert("URL")}catch(g){console.error(":",g),alert(": "+g.message)}},ia=async()=>{if(!ue.episode_number||!ue.title){alert("");return}try{let g=ue.video_url||"",i="";ue.videoFile&&(us.value&&ue.video_url&&ue.video_url.startsWith("/uploads/")&&(i=ue.video_url),g=await oa(),i&&i!==g&&await na(i));const z=$(),h=us.value?`/api/admin/episodes/${ue.id}`:"/api/admin/episodes",Y=us.value?"PUT":"POST",ee={anime_id:Lt.value,episode_number:Number(ue.episode_number),title:ue.title,duration:Number(ue.duration)||0,video_url:g},he=await fetch(h,{method:Y,headers:{"Content-Type":"application/json",Authorization:`Bearer ${z}`},body:JSON.stringify(ee)});if(console.log("API:",he.status),!he.ok){const hn=await he.json().catch(()=>({message:""}));throw new Error(` (${he.status}): ${hn.message||""}`)}await Ds(),Ls.value=!1,alert("")}catch(g){console.error(" :",g),alert(": "+g.message)}};return vt(()=>{or(),A(),w()}),zn(()=>{}),(g,i)=>{const z=Nt("router-link");return k(),C("div",C0,[n("aside",A0,[n("div",null,[n("div",E0,[n("div",P0,[n("img",{src:me.siteLogo||Me(Oi),alt:"Logo",class:"w-full h-full object-cover",onError:is},null,40,I0)]),i[59]||(i[59]=n("div",null,[n("h2",{class:"text-2xl font-bold text-gray-800"},"")],-1))]),n("div",R0,[n("div",T0,[Me(s).user?.avatar||Me(s).user?.avatar_url?(k(),C("img",{key:0,src:Me(s).user?.avatar||Me(s).user?.avatar_url,alt:Me(s).user?.username||"avatar",class:"w-full h-full object-cover",onError:is},null,40,O0)):(k(),C("div",N0,R(o.value),1))]),n("div",null,[n("p",L0,R(Me(s).user?.username||""),1)])]),n("nav",D0,[n("ul",M0,[n("li",null,[n("button",{onClick:i[0]||(i[0]=h=>Yt("dashboard")),class:Se(r.value==="dashboard"?"bg-blue-500 text-white w-full text-left px-4 py-2 rounded":"text-gray-700 w-full text-left px-4 py-2 rounded")}," ",2)]),n("li",null,[n("button",{onClick:i[1]||(i[1]=h=>Yt("anime")),class:Se(r.value==="anime"?"bg-blue-500 text-white w-full text-left px-4 py-2 rounded":"text-gray-700 w-full text-left px-4 py-2 rounded")}," ",2)]),n("li",null,[n("button",{onClick:i[2]||(i[2]=h=>Yt("users")),class:Se(r.value==="users"?"bg-blue-500 text-white w-full text-left px-4 py-2 rounded":"text-gray-700 w-full text-left px-4 py-2 rounded")}," ",2)]),n("li",null,[n("button",{onClick:i[3]||(i[3]=h=>Yt("orders")),class:Se(r.value==="orders"?"bg-blue-500 text-white w-full text-left px-4 py-2 rounded":"text-gray-700 w-full text-left px-4 py-2 rounded")}," ",2)]),n("li",null,[n("button",{onClick:i[4]||(i[4]=h=>Yt("categories")),class:Se(r.value==="categories"?"bg-blue-500 text-white w-full text-left px-4 py-2 rounded":"text-gray-700 w-full text-left px-4 py-2 rounded")}," ",2)]),n("li",null,[n("button",{onClick:i[5]||(i[5]=h=>Yt("episodes")),class:Se(r.value==="episodes"?"bg-blue-500 text-white w-full text-left px-4 py-2 rounded":"text-gray-700 w-full text-left px-4 py-2 rounded")}," ",2)]),n("li",null,[n("button",{onClick:i[6]||(i[6]=h=>Yt("settings")),class:Se(r.value==="settings"?"bg-blue-500 text-white w-full text-left px-4 py-2 rounded":"text-gray-700 w-full text-left px-4 py-2 rounded")}," ",2)]),n("li",null,[n("button",{onClick:i[7]||(i[7]=h=>Yt("banners")),class:Se(r.value==="banners"?"bg-blue-500 text-white w-full text-left px-4 py-2 rounded":"text-gray-700 w-full text-left px-4 py-2 rounded")}," ",2)])])])]),n("div",j0,[Ee(z,{to:"/",class:"w-full bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors block text-center"},{default:Ue(()=>[...i[60]||(i[60]=[je("",-1)])]),_:1}),n("button",{onClick:Fe,class:"w-full mt-3 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors"},"")])]),n("main",U0,[r.value==="dashboard"?(k(),C("div",F0,[i[71]||(i[71]=n("h1",{class:"text-3xl font-bold text-gray-800 mb-6"},"",-1)),n("div",V0,[n("div",B0,[n("div",H0,[i[62]||(i[62]=n("div",{class:"p-2 bg-blue-500 rounded-lg"},[n("span",{class:"text-white text-xl"},"")],-1)),n("div",z0,[i[61]||(i[61]=n("p",{class:"text-sm text-gray-600"},"",-1)),n("p",W0,R(p.value),1)])])]),n("div",q0,[n("div",K0,[i[64]||(i[64]=n("div",{class:"p-2 bg-green-500 rounded-lg"},[n("span",{class:"text-white text-xl"},"")],-1)),n("div",J0,[i[63]||(i[63]=n("p",{class:"text-sm text-gray-600"},"",-1)),n("p",G0,R(d.value),1)])])]),n("div",Y0,[n("div",X0,[i[66]||(i[66]=n("div",{class:"p-2 bg-purple-500 rounded-lg"},[n("span",{class:"text-white text-xl"},"")],-1)),n("div",Q0,[i[65]||(i[65]=n("p",{class:"text-sm text-gray-600"},"",-1)),n("p",Z0,R(x.value),1)])])]),n("div",em,[n("div",tm,[i[68]||(i[68]=n("div",{class:"p-2 bg-orange-500 rounded-lg"},[n("span",{class:"text-white text-xl"},"")],-1)),n("div",sm,[i[67]||(i[67]=n("p",{class:"text-sm text-gray-600"},"",-1)),n("p",nm,R(_.value),1)])])])]),n("div",om,[i[70]||(i[70]=n("h3",{class:"text-xl font-bold text-gray-800 mb-4"},"",-1)),n("div",rm,[(k(!0),C(fe,null,$e(L.value,h=>(k(),C("div",{key:h.id,class:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg"},[i[69]||(i[69]=n("div",{class:"w-2 h-2 bg-blue-500 rounded-full"},null,-1)),n("div",lm,[n("p",im,R(h.description),1),n("p",am,R(h.time),1)])]))),128))])])])):oe("",!0),r.value==="anime"?(k(),C("div",um,[n("div",cm,[i[72]||(i[72]=n("h1",{class:"text-3xl font-bold text-gray-800"},"",-1)),n("div",dm,[n("span",fm,": "+R(p.value)+" ",1)]),n("button",{type:"button",onClick:nr,class:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors"},"   ")]),n("div",pm,[n("div",gm,[n("div",mm,[n("div",hm,[ne(n("input",{"onUpdate:modelValue":i[8]||(i[8]=h=>l.value=h),onKeyup:Go(m,["enter"]),type:"text",placeholder:"...",class:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},null,544),[[ge,l.value]]),ne(n("select",{"onUpdate:modelValue":i[9]||(i[9]=h=>a.value=h),class:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},[...i[73]||(i[73]=[n("option",{value:""},"",-1),n("option",{value:"ongoing"},"",-1),n("option",{value:"movie"},"",-1),n("option",{value:"completed"},"",-1)])],512),[[pt,a.value]]),n("label",vm,[ne(n("input",{type:"checkbox","onUpdate:modelValue":i[10]||(i[10]=h=>f.value=h),class:"form-checkbox mr-2"},null,512),[[Vs,f.value]]),i[74]||(i[74]=je("  ",-1))])]),n("div",{class:"flex items-center space-x-3"},[n("button",{onClick:Ve,class:"px-3 py-2 bg-green-500 text-white rounded hover:bg-green-600 text-sm"},""),n("button",{onClick:m,class:"bg-blue-500 text-white px-3 py-2 rounded hover:bg-blue-600"},"")])])]),n("div",ym,[n("table",xm,[i[75]||(i[75]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},""),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},""),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},""),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},""),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"")])],-1)),n("tbody",bm,[(k(!0),C(fe,null,$e(N.value,(h,Y)=>(k(),C("tr",{key:h?h.id:"empty-"+Y,id:h?`anime-row-${h.id}`:null,class:Se(h&&J.value===h.id?"bg-yellow-50":"")},[h?(k(),C(fe,{key:0},[n("td",wm,[n("div",km,[n("img",{src:h.cover||"/placeholder.svg",alt:h.title,class:"w-10 h-10 rounded object-cover",onError:is},null,40,Sm),n("div",$m,[n("div",Cm,R(h.title),1),n("div",Am,R(h.category),1)])])]),n("td",Em,[n("span",{class:Se(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",Ge(h.status)])},R(tt(h.status)),3)]),n("td",Pm,R(h.views),1),n("td",Im,R(ae(h.updatedAt)),1),n("td",Rm,[n("button",{onClick:ee=>Ji(h),class:"text-blue-600 hover:text-blue-900 mr-3"},"",8,Tm),n("button",{onClick:ee=>Yi(h.id),class:"text-red-600 hover:text-red-900"},"",8,Om)])],64)):(k(),C("td",Nm,""))],10,_m))),128))])])]),n("div",Lm,[n("div",Dm,"  "+R((u.value-1)*c.value+1)+" - "+R(Math.min(u.value*c.value,p.value))+" /  "+R(p.value)+"  ",1),n("div",Mm,[n("div",jm,[n("button",{onClick:le,disabled:u.value<=1,class:"px-3 py-1 border rounded disabled:opacity-50"},"",8,Um),n("div",Fm,[(k(!0),C(fe,null,$e(qe.value,h=>(k(),C("button",{key:h,onClick:Y=>Xe(h),class:Se(["px-3 py-1 rounded",h===u.value?"bg-blue-500 text-white":"border bg-white"])},R(h),11,Vm))),128))]),n("button",{onClick:ie,disabled:u.value*c.value>=p.value,class:"px-3 py-1 border rounded disabled:opacity-50"},"",8,Bm)]),n("div",Hm,[ne(n("input",{type:"number","onUpdate:modelValue":i[11]||(i[11]=h=>_e.value=h),min:"1",max:we.value,class:"w-20 px-2 py-1 border rounded"},null,8,zm),[[ge,_e.value,void 0,{number:!0}]]),n("button",{onClick:Pe,class:"px-3 py-1 bg-blue-500 text-white rounded"},""),n("span",Wm," "+R(u.value)+"  /  "+R(we.value)+" ",1)])])])])])):oe("",!0),r.value==="users"?(k(),C("div",qm,[n("div",{class:"flex justify-between items-center"},[i[76]||(i[76]=n("h1",{class:"text-3xl font-bold text-gray-800"},"",-1)),n("div",null,[n("button",{onClick:S,class:"bg-blue-500 text-white px-3 py-1 rounded-lg hover:bg-blue-600"},"")])]),n("div",Km,[n("div",Jm,[n("div",Gm,[n("div",Ym,[ne(n("input",{"onUpdate:modelValue":i[12]||(i[12]=h=>O.value=h),type:"text",placeholder:"...",class:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[ge,O.value]])])])]),n("div",Xm,[n("table",Qm,[i[78]||(i[78]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"ID"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},""),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},""),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},""),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},""),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"")])],-1)),n("tbody",Zm,[T.value.length===0?(k(),C("tr",eh,[...i[77]||(i[77]=[n("td",{colspan:"6",class:"px-6 py-12 text-center text-gray-500"},[n("div",{class:"flex flex-col items-center"},[n("svg",{class:"w-12 h-12 text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})]),n("p",{class:"text-lg font-medium"},""),n("p",{class:"text-sm text-gray-400 mt-1"},"")])],-1)])])):(k(!0),C(fe,{key:1},$e(T.value,h=>(k(),C("tr",{key:h.id},[n("td",th,R(h.id),1),n("td",sh,R(h.username),1),n("td",nh,R(h.email||"-"),1),n("td",oh,R(h.role||"user"),1),n("td",rh,R(h.created_at?new Date(h.created_at).toLocaleString():"-"),1),n("td",lh,[n("button",{onClick:Y=>Xi(h),class:"text-blue-600 hover:text-blue-900 mr-3"},"",8,ih),n("button",{onClick:Y=>Qi(h.id),class:"text-red-600 hover:text-red-900"},"",8,ah)])]))),128))])])])])])):oe("",!0),r.value==="orders"?(k(),C("div",uh,[n("div",ch,[i[79]||(i[79]=n("h1",{class:"text-3xl font-bold text-gray-800"},"",-1)),n("div",dh,": "+R(Ae.value.length)+" ",1)]),n("div",fh,[n("div",ph,[n("table",gh,[i[81]||(i[81]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"ID"),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},""),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},""),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},""),n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"")])],-1)),n("tbody",mh,[Ae.value.length===0?(k(),C("tr",hh,[...i[80]||(i[80]=[n("td",{colspan:"5",class:"px-6 py-12 text-center text-gray-500"},[n("div",{class:"flex flex-col items-center"},[n("svg",{class:"w-12 h-12 text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),n("p",{class:"text-lg font-medium"},"")])],-1)])])):(k(!0),C(fe,{key:1},$e(Ae.value,h=>(k(),C("tr",{key:h.id},[n("td",vh,R(h.id),1),n("td",yh,R(h.username||h.user_id),1),n("td",xh,R(h.amount),1),n("td",bh,R(h.status),1),n("td",_h,R(h.created_at?new Date(h.created_at).toLocaleString():"-"),1)]))),128))])])])])])):oe("",!0),r.value==="categories"?(k(),C("div",wh,[n("div",{class:"flex justify-between items-center"},[i[82]||(i[82]=n("h1",{class:"text-3xl font-bold text-gray-800"},"",-1)),n("div",{class:"flex items-center space-x-3"},[n("button",{onClick:b,class:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors"}," "),n("button",{onClick:se,class:"bg-gray-200 text-gray-800 px-3 py-2 rounded"},"")])]),n("div",kh,[n("div",Sh,[n("div",$h,[i[83]||(i[83]=n("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"",-1)),n("div",Ch,[(k(!0),C(fe,null,$e(E.value,h=>(k(),C("div",{key:h.id,class:"flex items-center justify-between p-3 border rounded"},[n("div",null,[n("div",Ah,R(h.name),1),n("div",Eh,R(h.description||"-"),1)]),n("div",Ph,[n("button",{onClick:Y=>y(h),class:"text-blue-600 hover:text-blue-900"},"",8,Ih),n("button",{onClick:Y=>F(h.id),class:"text-red-600 hover:text-red-900"},"",8,Rh)])]))),128)),E.value.length===0?(k(),C("div",Th,"")):oe("",!0)])]),n("div",Oh,[n("h3",Nh,R(H.id?"":""),1),n("form",{onSubmit:nt(P,["prevent"]),class:"space-y-3"},[n("div",null,[i[84]||(i[84]=n("label",{class:"block text-sm text-gray-700"},"",-1)),ne(n("input",{"onUpdate:modelValue":i[13]||(i[13]=h=>H.name=h),class:"mt-1 w-full px-3 py-2 border rounded"},null,512),[[ge,H.name]])]),n("div",null,[i[85]||(i[85]=n("label",{class:"block text-sm text-gray-700"},"",-1)),ne(n("input",{"onUpdate:modelValue":i[14]||(i[14]=h=>H.description=h),class:"mt-1 w-full px-3 py-2 border rounded"},null,512),[[ge,H.description]])]),n("div",{class:"flex justify-end space-x-2"},[n("button",{type:"button",onClick:b,class:"px-3 py-1 border rounded"},""),i[86]||(i[86]=n("button",{type:"submit",class:"px-3 py-1 bg-blue-600 text-white rounded"},"",-1))])],32)])])])])):oe("",!0),r.value==="episodes"?(k(),C("div",Lh,[i[92]||(i[92]=n("div",{class:"flex justify-between items-center"},[n("h1",{class:"text-3xl font-bold text-gray-800"},"")],-1)),n("div",Dh,[n("div",Mh,[i[88]||(i[88]=n("h2",{class:"text-xl font-bold"},"",-1)),n("div",jh,[ne(n("input",{"onUpdate:modelValue":i[15]||(i[15]=h=>X.value=h),type:"search",placeholder:"...",class:"px-3 py-2 border rounded w-64"},null,512),[[ge,X.value]]),ne(n("select",{"onUpdate:modelValue":i[16]||(i[16]=h=>Lt.value=h),onChange:Ds,class:"px-3 py-2 border rounded"},[i[87]||(i[87]=n("option",{value:""},"",-1)),(k(!0),C(fe,null,$e(B.value,h=>(k(),C("option",{key:h.id,value:h.id},R(h.title),9,Uh))),128))],544),[[pt,Lt.value]])])]),Lt.value?(k(),C("div",Fh,[n("div",Vh,[i[89]||(i[89]=n("h3",{class:"text-lg font-medium"},"",-1)),n("div",Bh,[n("button",{onClick:la,class:"px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700 text-sm"}," URL "),n("button",{onClick:i[17]||(i[17]=h=>lr(null)),class:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"},"  ")])]),n("div",Hh,[(k(!0),C(fe,null,$e(At.value,h=>(k(),C("div",{key:h.id,class:"flex items-center justify-between p-3 border rounded"},[n("div",zh,[n("div",Wh,""+R(h.episode_number)+" - "+R(h.title),1),n("div",qh," : "+R(h.duration?Math.floor(h.duration/60)+":"+(h.duration%60).toString().padStart(2,"0"):""),1),n("div",Kh,[i[90]||(i[90]=je(" : ",-1)),n("span",{class:Se(h.video_url&&h.video_url.startsWith("/uploads/")?"text-green-600":"text-red-600")},R(h.video_url||""),3)])]),n("div",Jh,[n("button",{onClick:Y=>ea(h),class:"px-3 py-1 bg-yellow-500 text-white rounded text-sm hover:bg-yellow-600"},"  ",8,Gh),h.video_url&&h.video_url.startsWith("/uploads/")?(k(),C("button",{key:0,onClick:Y=>ra(h),class:"px-3 py-1 bg-blue-500 text-white rounded text-sm hover:bg-blue-600"},"  ",8,Yh)):oe("",!0),n("button",{onClick:Y=>ta(h.id),class:"px-3 py-1 bg-red-500 text-white rounded text-sm hover:bg-red-600"},"  ",8,Xh)])]))),128)),At.value.length===0?(k(),C("div",Qh,"")):oe("",!0)]),eo.value?(k(),C("div",Zh,[i[91]||(i[91]=n("h4",{class:"font-medium mb-2"},":",-1)),n("video",{src:eo.value,controls:"",controlsList:"nodownload",disablePictureInPicture:"",onContextmenu:i[18]||(i[18]=nt(()=>{},["prevent"])),class:"w-full max-w-md rounded",style:{"max-height":"300px"}},null,40,ev),n("p",tv,R(rr.value),1)])):oe("",!0)])):(k(),C("div",sv,""))])])):oe("",!0),r.value==="settings"?(k(),C("div",nv,[n("div",{class:"flex justify-between items-center"},[i[93]||(i[93]=n("h1",{class:"text-3xl font-bold text-gray-800"},"",-1)),n("div",null,[n("button",{onClick:mn,class:"bg-gray-200 text-gray-800 px-3 py-1 rounded"},"")])]),n("div",ov,[n("form",{onSubmit:nt(qi,["prevent"]),class:"space-y-4"},[n("div",rv,[n("div",null,[i[94]||(i[94]=n("label",{class:"block text-sm text-gray-700"},"",-1)),ne(n("input",{"onUpdate:modelValue":i[19]||(i[19]=h=>me.siteTitle=h),class:"mt-1 w-full px-3 py-2 border rounded"},null,512),[[ge,me.siteTitle]])]),n("div",null,[i[95]||(i[95]=n("label",{class:"block text-sm text-gray-700"},"",-1)),ne(n("input",{"onUpdate:modelValue":i[20]||(i[20]=h=>me.itemsPerPage=h),type:"number",min:"1",class:"mt-1 w-full px-3 py-2 border rounded"},null,512),[[ge,me.itemsPerPage,void 0,{number:!0}]])]),n("div",lv,[i[96]||(i[96]=n("label",{class:"block text-sm text-gray-700"},"",-1)),ne(n("textarea",{"onUpdate:modelValue":i[21]||(i[21]=h=>me.siteDescription=h),rows:"3",class:"mt-1 w-full px-3 py-2 border rounded"},null,512),[[ge,me.siteDescription]])]),n("div",null,[i[97]||(i[97]=n("label",{class:"block text-sm text-gray-700"}," ID",-1)),ne(n("input",{"onUpdate:modelValue":i[22]||(i[22]=h=>me.defaultCategoryId=h),type:"number",class:"mt-1 w-full px-3 py-2 border rounded"},null,512),[[ge,me.defaultCategoryId,void 0,{number:!0}]])]),n("div",null,[i[98]||(i[98]=n("label",{class:"block text-sm text-gray-700"}," Logo",-1)),n("input",{type:"file",accept:"image/*",onChange:zi,class:"mt-1 w-full"},null,32),me.logoPreview||me.siteLogo?(k(),C("div",iv,[n("img",{src:me.logoPreview||me.siteLogo,class:"w-32 h-32 object-cover rounded",onError:is},null,40,av)])):oe("",!0)])]),n("div",{class:"flex justify-end space-x-3 mt-4"},[n("button",{type:"button",onClick:Wi,class:"px-4 py-2 border rounded"},""),i[99]||(i[99]=n("button",{type:"submit",class:"px-4 py-2 bg-green-600 text-white rounded"},"",-1))])],32)])])):oe("",!0),r.value==="banners"?(k(),C("div",uv,[n("div",cv,[i[103]||(i[103]=n("h1",{class:"text-3xl font-bold text-gray-800"}," (Banners)",-1)),n("div",dv,[n("button",{onClick:q,class:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors"},"  Banner"),n("button",{onClick:G,class:"bg-gray-200 text-gray-800 px-3 py-2 rounded"},""),n("div",fv,[n("button",{onClick:i[23]||(i[23]=h=>Ui()),disabled:Ke.value.length===0,class:"flex items-center space-x-2 bg-blue-500 text-white px-3 py-2 rounded hover:shadow-md disabled:opacity-50 transition transform hover:-translate-y-0.5"},[...i[100]||(i[100]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{d:"M16.707 5.293a1 1 0 00-1.414 0L9 11.586 6.707 9.293a1 1 0 10-1.414 1.414l3 3a1 1 0 001.414 0l7-7a1 1 0 000-1.414z"})],-1),n("span",null,"",-1)])],8,pv),n("button",{onClick:i[24]||(i[24]=h=>Fi()),disabled:Ke.value.length===0,class:"flex items-center space-x-2 bg-yellow-500 text-white px-3 py-2 rounded hover:shadow-md disabled:opacity-50 transition transform hover:-translate-y-0.5"},[...i[101]||(i[101]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-10.293a1 1 0 00-1.414-1.414L9 9.586 7.707 8.293a1 1 0 10-1.414 1.414l3 3a1 1 0 001.414 0l7-7a1 1 0 000-1.414z"})],-1),n("span",null,"",-1)])],8,gv),n("button",{onClick:i[25]||(i[25]=h=>Vi()),disabled:Ke.value.length===0,class:"flex items-center space-x-2 bg-red-600 text-white px-3 py-2 rounded hover:shadow-md disabled:opacity-50 transition transform hover:-translate-y-0.5"},[...i[102]||(i[102]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{"fill-rule":"evenodd",d:"M6 2a1 1 0 00-1 1v1H3a1 1 0 100 2h14a1 1 0 100-2h-2V3a1 1 0 00-1-1H6zm2 6a1 1 0 10-2 0v7a1 1 0 102 0V8zm4 0a1 1 0 10-2 0v7a1 1 0 102 0V8z","clip-rule":"evenodd"})],-1),n("span",null,"",-1)])],8,mv)])])]),n("div",hv,[n("div",vv,[n("table",yv,[n("thead",xv,[n("tr",null,[n("th",bv,[n("input",{type:"checkbox",checked:Li.value,onChange:i[26]||(i[26]=h=>Di(h))},null,40,_v)]),i[104]||(i[104]=n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"",-1)),i[105]||(i[105]=n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," / ",-1)),i[106]||(i[106]=n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"",-1)),i[107]||(i[107]=n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"",-1)),i[108]||(i[108]=n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"",-1)),i[109]||(i[109]=n("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"",-1))])]),n("tbody",wv,[(k(!0),C(fe,null,$e(M.value,(h,Y)=>(k(),C("tr",{key:h.id,draggable:"true",onDragstart:ee=>fn(Y),onDragover:nt(ee=>pn(Y),["prevent"]),onDrop:nt(ee=>Ni(Y),["prevent"]),class:Se(ze.value===Y?"opacity-50 bg-gray-50":"")},[n("td",Sv,[ne(n("input",{type:"checkbox","onUpdate:modelValue":i[27]||(i[27]=ee=>Ke.value=ee),value:h.id},null,8,$v),[[Vs,Ke.value]])]),n("td",Cv,[n("img",{src:h.image_url||"/placeholder.svg",class:"w-24 h-12 object-contain rounded bg-black",onError:is},null,40,Av)]),n("td",Ev,[n("div",Pv,R(h.title||"-"),1),n("div",Iv,R(h.subtitle||"-"),1)]),n("td",Rv,[n("a",{href:h.link_url||"#",target:"_blank",rel:"noreferrer"},R(h.link_url?"":"-"),9,Tv)]),n("td",Ov,[n("div",Nv,[n("button",{onClick:ee=>ls(h),class:"px-2 py-1 border rounded"},"",8,Lv),n("button",{onClick:ee=>dn(h),class:"px-2 py-1 border rounded"},"",8,Dv),n("div",Mv,"#"+R(h.order_index||0),1)])]),n("td",jv,[n("label",Uv,[ne(n("input",{type:"checkbox","onUpdate:modelValue":ee=>h.is_active=ee,onChange:ee=>Ne(h)},null,40,Fv),[[Vs,h.is_active]]),n("span",Vv,R(h.is_active?"":""),1)])]),n("td",Bv,[n("button",{onClick:ee=>ce(h),class:"text-blue-600 hover:text-blue-900 mr-3"},"",8,Hv),n("button",{onClick:ee=>Ce(h.id),class:"text-red-600 hover:text-red-900"},"",8,zv)])],42,kv))),128)),M.value.length===0?(k(),C("tr",Wv,[...i[110]||(i[110]=[n("td",{class:"px-6 py-4",colspan:"7"}," Banner",-1)])])):oe("",!0)])])])])])):oe("",!0)]),hs.value?(k(),C("div",qv,[n("div",{class:"fixed inset-0 bg-black opacity-50",onClick:i[28]||(i[28]=h=>hs.value=!1)}),n("div",Kv,[n("h3",Jv,R(as.value?"":""),1),n("form",{onSubmit:nt(Gi,["prevent"]),class:"space-y-4"},[n("div",Gv,[n("div",null,[i[111]||(i[111]=n("label",{class:"block text-sm text-gray-700"},"",-1)),ne(n("input",{"onUpdate:modelValue":i[29]||(i[29]=h=>K.title=h),required:"",class:"mt-1 w-full px-3 py-2 border rounded"},null,512),[[ge,K.title]])]),n("div",null,[i[112]||(i[112]=n("label",{class:"block text-sm text-gray-700"},"",-1)),ne(n("input",{"onUpdate:modelValue":i[30]||(i[30]=h=>K.original_title=h),class:"mt-1 w-full px-3 py-2 border rounded"},null,512),[[ge,K.original_title]])]),n("div",null,[i[113]||(i[113]=n("label",{class:"block text-sm text-gray-700"},"",-1)),ne(n("input",{"onUpdate:modelValue":i[31]||(i[31]=h=>K.total_episodes=h),type:"number",class:"mt-1 w-full px-3 py-2 border rounded"},null,512),[[ge,K.total_episodes,void 0,{number:!0}]])]),n("div",null,[i[114]||(i[114]=n("label",{class:"block text-sm text-gray-700"},"",-1)),ne(n("input",{"onUpdate:modelValue":i[32]||(i[32]=h=>K.release_date=h),type:"date",class:"mt-1 w-full px-3 py-2 border rounded"},null,512),[[ge,K.release_date]])]),n("div",null,[i[115]||(i[115]=n("label",{class:"block text-sm text-gray-700"},"",-1)),ne(n("input",{"onUpdate:modelValue":i[33]||(i[33]=h=>K.updated_at=h),type:"datetime-local",class:"mt-1 w-full px-3 py-2 border rounded"},null,512),[[ge,K.updated_at]])]),n("div",null,[i[116]||(i[116]=n("label",{class:"block text-sm text-gray-700"},"",-1)),ne(n("input",{"onUpdate:modelValue":i[34]||(i[34]=h=>K.rating=h),type:"number",step:"0.1",min:"0",max:"10",class:"mt-1 w-full px-3 py-2 border rounded"},null,512),[[ge,K.rating,void 0,{number:!0}]])]),n("div",null,[i[118]||(i[118]=n("label",{class:"block text-sm text-gray-700"},"",-1)),ne(n("select",{"onUpdate:modelValue":i[35]||(i[35]=h=>K.status=h),class:"mt-1 w-full px-3 py-2 border rounded"},[...i[117]||(i[117]=[n("option",{value:"ongoing"},"",-1),n("option",{value:"completed"},"",-1),n("option",{value:"movie"},"",-1)])],512),[[pt,K.status]])]),n("div",null,[i[120]||(i[120]=n("label",{class:"block text-sm text-gray-700"},"",-1)),ne(n("select",{"onUpdate:modelValue":i[36]||(i[36]=h=>K.category_id=h),class:"mt-1 w-full px-3 py-2 border rounded"},[i[119]||(i[119]=n("option",{value:null},"",-1)),(k(!0),C(fe,null,$e(v.value,h=>(k(),C("option",{key:h.id,value:h.id},R(h.name),9,Yv))),128))],512),[[pt,K.category_id]])]),n("div",null,[i[122]||(i[122]=n("label",{class:"block text-sm text-gray-700"},"",-1)),ne(n("select",{"onUpdate:modelValue":i[37]||(i[37]=h=>K.region=h),class:"mt-1 w-full px-3 py-2 border rounded"},[...i[121]||(i[121]=[Ss('<option value="" data-v-c812d208></option><option value="" data-v-c812d208></option><option value="" data-v-c812d208></option><option value="" data-v-c812d208></option><option value="" data-v-c812d208></option>',5)])],512),[[pt,K.region]])]),n("div",null,[i[124]||(i[124]=n("label",{class:"block text-sm text-gray-700"},"",-1)),ne(n("select",{"onUpdate:modelValue":i[38]||(i[38]=h=>K.language=h),class:"mt-1 w-full px-3 py-2 border rounded"},[...i[123]||(i[123]=[Ss('<option value="" data-v-c812d208></option><option value="" data-v-c812d208></option><option value="" data-v-c812d208></option><option value="" data-v-c812d208></option><option value="" data-v-c812d208></option><option value="" data-v-c812d208></option>',6)])],512),[[pt,K.language]])]),n("div",null,[i[125]||(i[125]=n("label",{class:"block text-sm text-gray-700"},"",-1)),ne(n("input",{"onUpdate:modelValue":i[39]||(i[39]=h=>K.updated_to=h),type:"text",placeholder:" 03  12",class:"mt-1 w-full px-3 py-2 border rounded"},null,512),[[ge,K.updated_to]])]),n("div",null,[i[127]||(i[127]=n("label",{class:"block text-sm text-gray-700"},"",-1)),ne(n("select",{"onUpdate:modelValue":i[40]||(i[40]=h=>K.update_day=h),class:"mt-1 w-full px-3 py-2 border rounded"},[...i[126]||(i[126]=[n("option",{value:null},"",-1),n("option",{value:1},"",-1),n("option",{value:2},"",-1),n("option",{value:3},"",-1),n("option",{value:4},"",-1),n("option",{value:5},"",-1),n("option",{value:6},"",-1),n("option",{value:7},"",-1)])],512),[[pt,K.update_day]])]),n("div",Xv,[i[128]||(i[128]=n("label",{class:"block text-sm text-gray-700"},"",-1)),ne(n("input",{"onUpdate:modelValue":i[41]||(i[41]=h=>K.tags=h),placeholder:", , ",class:"mt-1 w-full px-3 py-2 border rounded"},null,512),[[ge,K.tags]])]),n("div",Qv,[i[129]||(i[129]=n("label",{class:"block text-sm text-gray-700"},"",-1)),ne(n("textarea",{"onUpdate:modelValue":i[42]||(i[42]=h=>K.description=h),rows:"4",class:"mt-1 w-full px-3 py-2 border rounded"},null,512),[[ge,K.description]])]),n("div",null,[i[130]||(i[130]=n("label",{class:"block text-sm text-gray-700"},"",-1)),n("input",{type:"file",accept:"image/*",onChange:Bi,class:"mt-1 w-full"},null,32),K.coverPreview||K.cover_url?(k(),C("div",Zv,[n("img",{src:K.coverPreview||K.cover_url,class:"w-32 h-40 object-cover rounded",onError:is},null,40,e1)])):oe("",!0)])]),n("div",t1,[n("button",{type:"button",onClick:i[43]||(i[43]=h=>hs.value=!1),class:"px-4 py-2 border rounded"},""),n("button",s1,R(as.value?"":""),1)])],32)])])):oe("",!0),Ls.value?(k(),C("div",n1,[n("div",{class:"fixed inset-0 bg-black opacity-50",onClick:i[44]||(i[44]=h=>Ls.value=!1)}),n("div",o1,[n("h3",r1,R(us.value?"":""),1),n("form",{onSubmit:nt(ia,["prevent"]),class:"space-y-4"},[n("div",l1,[n("div",null,[i[131]||(i[131]=n("label",{class:"block text-sm text-gray-700"},"",-1)),ne(n("input",{"onUpdate:modelValue":i[45]||(i[45]=h=>ue.episode_number=h),type:"number",min:"1",class:"mt-1 w-full px-3 py-2 border rounded",required:""},null,512),[[ge,ue.episode_number,void 0,{number:!0}]])]),n("div",null,[i[132]||(i[132]=n("label",{class:"block text-sm text-gray-700"},"",-1)),ne(n("input",{"onUpdate:modelValue":i[46]||(i[46]=h=>ue.title=h),class:"mt-1 w-full px-3 py-2 border rounded",required:""},null,512),[[ge,ue.title]])]),n("div",null,[i[133]||(i[133]=n("label",{class:"block text-sm text-gray-700"},"",-1)),ne(n("input",{"onUpdate:modelValue":i[47]||(i[47]=h=>ue.duration=h),type:"number",min:"0",class:"mt-1 w-full px-3 py-2 border rounded"},null,512),[[ge,ue.duration,void 0,{number:!0}]])]),n("div",null,[i[135]||(i[135]=n("label",{class:"block text-sm text-gray-700"},"",-1)),n("input",{type:"file",accept:"video/*",onChange:sa,class:"mt-1 w-full"},null,32),ue.videoFile?(k(),C("div",i1,"  : "+R(ue.videoFile.name)+" ("+R(Math.round(ue.videoFile.size/1024/1024))+"MB) ",1)):oe("",!0),!ue.videoFile&&ue.video_url?(k(),C("div",a1,"  URL: "+R(ue.video_url),1)):oe("",!0),!ue.videoFile&&!ue.video_url?(k(),C("div",u1,"  URL -  ")):oe("",!0),n("div",c1,[i[134]||(i[134]=n("label",{class:"block text-sm text-gray-700"},"URL",-1)),ne(n("input",{"onUpdate:modelValue":i[48]||(i[48]=h=>ue.video_url=h),placeholder:": /uploads/filename.mp4  https://...",class:"mt-1 w-full px-3 py-2 border rounded"},null,512),[[ge,ue.video_url]]),ue.video_url&&!ue.videoFile?(k(),C("div",d1," : "+R(ue.video_url),1)):oe("",!0)]),i[136]||(i[136]=n("div",{class:"mt-2 text-xs text-gray-500"},[je(" : MP4, AVI, MKV : 500MB"),n("br"),je(" : /uploads/file_xxx.mp4 ")],-1))])]),n("div",f1,[n("button",{type:"button",onClick:i[49]||(i[49]=h=>Ls.value=!1),class:"px-4 py-2 border rounded"},""),n("button",p1,R(us.value?"":""),1)])],32)])])):oe("",!0),U.value?(k(),C("div",g1,[n("div",{class:"fixed inset-0 bg-black opacity-50",onClick:i[50]||(i[50]=h=>U.value=!1)}),n("div",m1,[n("h3",h1,R(Z.value?" Banner":" Banner"),1),n("form",{onSubmit:nt(pe,["prevent"]),class:"space-y-4"},[n("div",v1,[n("div",null,[i[137]||(i[137]=n("label",{class:"block text-sm text-gray-700"},"",-1)),ne(n("input",{"onUpdate:modelValue":i[51]||(i[51]=h=>D.title=h),class:"mt-1 w-full px-3 py-2 border rounded"},null,512),[[ge,D.title]])]),n("div",null,[i[138]||(i[138]=n("label",{class:"block text-sm text-gray-700"},"",-1)),ne(n("input",{"onUpdate:modelValue":i[52]||(i[52]=h=>D.subtitle=h),class:"mt-1 w-full px-3 py-2 border rounded"},null,512),[[ge,D.subtitle]])]),n("div",null,[i[139]||(i[139]=n("label",{class:"block text-sm text-gray-700"}," ( URL)",-1)),n("input",{type:"file",accept:"image/*",onChange:te,class:"mt-1 w-full"},null,32),ne(n("input",{"onUpdate:modelValue":i[53]||(i[53]=h=>D.image_url=h),placeholder:" URL",class:"mt-2 w-full px-3 py-2 border rounded"},null,512),[[ge,D.image_url]]),D.image_url&&!D.imageFile?(k(),C("div",y1,[n("img",{src:D.image_url,class:"w-full h-[200px] object-contain rounded bg-black",onError:is},null,40,x1)])):oe("",!0),D.imageFile?(k(),C("div",b1,[n("p",_1," : "+R(D.imageFile.name),1),n("p",w1,": "+R(Math.round(D.imageFile.size/1024))+"KB",1)])):oe("",!0)]),n("div",null,[i[140]||(i[140]=n("label",{class:"block text-sm text-gray-700"}," ()",-1)),ne(n("input",{"onUpdate:modelValue":i[54]||(i[54]=h=>D.link_url=h),placeholder:" /detail/1  https://...",class:"mt-1 w-full px-3 py-2 border rounded"},null,512),[[ge,D.link_url]])]),n("div",k1,[n("div",null,[i[141]||(i[141]=n("label",{class:"block text-sm text-gray-700"},"",-1)),ne(n("input",{"onUpdate:modelValue":i[55]||(i[55]=h=>D.order_index=h),type:"number",class:"mt-1 w-full px-3 py-2 border rounded"},null,512),[[ge,D.order_index,void 0,{number:!0}]])]),n("div",null,[i[143]||(i[143]=n("label",{class:"block text-sm text-gray-700"},"",-1)),ne(n("select",{"onUpdate:modelValue":i[56]||(i[56]=h=>D.is_active=h),class:"mt-1 w-full px-3 py-2 border rounded"},[...i[142]||(i[142]=[n("option",{value:1},"",-1),n("option",{value:0},"",-1)])],512),[[pt,D.is_active,void 0,{number:!0}]])])])]),n("div",S1,[n("button",{type:"button",onClick:i[57]||(i[57]=h=>U.value=!1),class:"px-4 py-2 border rounded"},""),i[144]||(i[144]=n("button",{type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded"},"",-1))])],32)])])):oe("",!0),gn.value?(k(),C("div",$1,[n("div",{class:"fixed inset-0 bg-black opacity-50",onClick:tr}),n("div",C1,[i[146]||(i[146]=n("h3",{class:"text-lg font-semibold mb-4"},"",-1)),n("p",A1,R(er.value),1),n("div",E1,[n("label",P1,[ne(n("input",{type:"checkbox","onUpdate:modelValue":i[58]||(i[58]=h=>Qn.value=h)},null,512),[[Vs,Qn.value]]),i[145]||(i[145]=n("span",{class:"text-sm text-gray-600"},"",-1))]),n("div",{class:"flex justify-end space-x-3"},[n("button",{onClick:tr,class:"px-4 py-2 border rounded hover:shadow-sm"},""),n("button",{onClick:ji,class:"px-4 py-2 bg-red-600 text-white rounded hover:shadow-md transform transition hover:-translate-y-0.5"},"")])])])])):oe("",!0)])}}},R1=Os(I1,[["__scopeId","data-v-c812d208"]]),T1={class:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"},O1={class:"max-w-md w-full space-y-8"},N1={class:"bg-white py-8 px-6 shadow-xl rounded-lg"},L1={class:"mt-1 relative"},D1={key:0,class:"absolute inset-y-0 right-0 pr-3 flex items-center"},M1={key:0,class:"mt-1 text-sm text-red-600"},j1={class:"mt-1 relative"},U1={key:0,class:"absolute inset-y-0 right-0 pr-3 flex items-center"},F1={key:0,class:"mt-1 text-sm text-red-600"},V1={class:"flex items-center justify-between"},B1={class:"flex items-center"},H1={key:0,class:"rounded-md bg-red-50 p-4"},z1={class:"flex"},W1={class:"ml-3"},q1={class:"mt-2 text-sm text-red-700"},K1=["disabled"],J1={key:0,class:"flex items-center"},G1={key:1},Y1={class:"mt-6 text-center"},X1={__name:"AdminLogin",setup(e){const t=Ct(),s=Gt(),o=rt({username:"",password:"",rememberMe:!1}),r=V(!1),l=V(""),a=rt({username:"",password:""}),u=()=>{a.username="",a.password="";let f=!0;return o.username.trim()||(a.username="",f=!1),o.password.trim()||(a.password="",f=!1),f},c=async()=>{if(u()){r.value=!0,l.value="";try{const f=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o.username,password:o.password}),credentials:"include"});if(!f.ok){const _=await f.json().catch(()=>null);l.value=_?.message||"";return}const p=await f.json(),d=p.user||{},x=p.token||"";if(d.role!=="admin"){l.value="";return}s.adminLogin({...d,token:x}),t.push("/admin")}catch{l.value=""}finally{r.value=!1}}};return vt(()=>{s.checkAdminStatus(),s.isAdminUser&&t.push("/admin")}),(f,p)=>{const d=Nt("router-link");return k(),C("div",T1,[n("div",O1,[p[12]||(p[12]=Ss('<div class="text-center" data-v-af6dcbfd><div class="mx-auto h-16 w-16 bg-blue-600 rounded-full flex items-center justify-center" data-v-af6dcbfd><span class="text-2xl" data-v-af6dcbfd></span></div><h2 class="mt-6 text-3xl font-extrabold text-gray-900" data-v-af6dcbfd>  </h2><p class="mt-2 text-sm text-gray-600" data-v-af6dcbfd>  </p></div>',1)),n("div",N1,[n("form",{onSubmit:nt(c,["prevent"]),class:"space-y-6"},[n("div",null,[p[4]||(p[4]=n("label",{for:"username",class:"block text-sm font-medium text-gray-700"},"  ",-1)),n("div",L1,[ne(n("input",{id:"username","onUpdate:modelValue":p[0]||(p[0]=x=>o.username=x),type:"text",required:"",class:Se(["appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",{"border-red-500":a.username}]),placeholder:""},null,2),[[ge,o.username]]),a.username?(k(),C("div",D1,[...p[3]||(p[3]=[n("span",{class:"text-red-500 text-sm"},"",-1)])])):oe("",!0)]),a.username?(k(),C("p",M1,R(a.username),1)):oe("",!0)]),n("div",null,[p[6]||(p[6]=n("label",{for:"password",class:"block text-sm font-medium text-gray-700"},"  ",-1)),n("div",j1,[ne(n("input",{id:"password","onUpdate:modelValue":p[1]||(p[1]=x=>o.password=x),type:"password",required:"",class:Se(["appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",{"border-red-500":a.password}]),placeholder:""},null,2),[[ge,o.password]]),a.password?(k(),C("div",U1,[...p[5]||(p[5]=[n("span",{class:"text-red-500 text-sm"},"",-1)])])):oe("",!0)]),a.password?(k(),C("p",F1,R(a.password),1)):oe("",!0)]),n("div",V1,[n("div",B1,[ne(n("input",{id:"remember-me","onUpdate:modelValue":p[2]||(p[2]=x=>o.rememberMe=x),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[Vs,o.rememberMe]]),p[7]||(p[7]=n("label",{for:"remember-me",class:"ml-2 block text-sm text-gray-900"},"  ",-1))])]),l.value?(k(),C("div",H1,[n("div",z1,[p[9]||(p[9]=n("div",{class:"flex-shrink-0"},[n("span",{class:"text-red-400"},"")],-1)),n("div",W1,[p[8]||(p[8]=n("h3",{class:"text-sm font-medium text-red-800"},"  ",-1)),n("div",q1,[n("p",null,R(l.value),1)])])])])):oe("",!0),n("div",null,[n("button",{type:"submit",disabled:r.value,class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[r.value?(k(),C("span",J1,[...p[10]||(p[10]=[n("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[n("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),n("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),je(" ... ",-1)])])):(k(),C("span",G1,""))],8,K1)])],32),n("div",Y1,[Ee(d,{to:"/",class:"text-sm text-blue-600 hover:text-blue-500"},{default:Ue(()=>[...p[11]||(p[11]=[je("   ",-1)])]),_:1})])]),p[13]||(p[13]=n("div",{class:"text-center"},[n("p",{class:"text-xs text-gray-500"},"  ")],-1))])])}}},Q1=Os(X1,[["__scopeId","data-v-af6dcbfd"]]),Z1={class:"min-h-screen flex items-center justify-center bg-gray-50"},ey={class:"max-w-md w-full bg-white p-8 rounded-lg shadow"},ty={key:0,class:"text-red-600 text-sm"},sy={class:"flex items-center justify-between"},ny={__name:"Login",setup(e){const t=Ct(),s=Gt(),o=rt({username:"",password:""}),r=V(""),l=()=>{try{const c=localStorage.getItem("registered_users");return c?JSON.parse(c):[]}catch{return[]}},a="/api",u=async()=>{r.value="";try{const c=await fetch(`${a}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o.username,password:o.password}),credentials:"include"});if(c.ok){const p=await c.json(),d=p.user||p,x=p.token||"";if(d?.role==="admin"){s.adminLogin({...d,token:x}),t.push("/admin");return}s.login(d,!1,x),t.push("/");return}const f=await c.json().catch(()=>null);r.value=f?.message||""}catch{const p=l().find(d=>d.username===o.username&&d.password===o.password);if(p){const d={id:p.id,username:p.username,email:p.email||""};s.login(d,!1),t.push("/");return}if(o.username==="admin"&&o.password==="admin123"){const d={id:1,username:"",email:"admin@anime.com",role:"admin"};s.adminLogin(d),t.push("/admin");return}r.value=""}};return vt(()=>{s.checkUserStatus()}),(c,f)=>{const p=Nt("router-link");return k(),C("div",Z1,[n("div",ey,[f[6]||(f[6]=n("h2",{class:"text-2xl font-bold mb-4"},"",-1)),n("form",{onSubmit:nt(u,["prevent"]),class:"space-y-4"},[n("div",null,[f[2]||(f[2]=n("label",{class:"block text-sm text-gray-700"},"",-1)),ne(n("input",{"onUpdate:modelValue":f[0]||(f[0]=d=>o.username=d),type:"text",required:"",class:"mt-1 w-full px-3 py-2 border rounded"},null,512),[[ge,o.username]])]),n("div",null,[f[3]||(f[3]=n("label",{class:"block text-sm text-gray-700"},"",-1)),ne(n("input",{"onUpdate:modelValue":f[1]||(f[1]=d=>o.password=d),type:"password",required:"",class:"mt-1 w-full px-3 py-2 border rounded"},null,512),[[ge,o.password]])]),r.value?(k(),C("div",ty,R(r.value),1)):oe("",!0),n("div",sy,[f[5]||(f[5]=n("button",{type:"submit",class:"bg-blue-600 text-white px-4 py-2 rounded"},"",-1)),Ee(p,{to:"/register",class:"text-sm text-blue-600"},{default:Ue(()=>[...f[4]||(f[4]=[je("",-1)])]),_:1})])],32)])])}}},oy={class:"min-h-screen flex items-center justify-center bg-gray-50"},ry={class:"max-w-md w-full bg-white p-8 rounded-lg shadow"},ly={key:0,class:"text-red-600 text-sm"},iy={class:"flex items-center justify-between"},ay={__name:"Register",setup(e){const t=Ct(),s=Gt(),o=rt({username:"",email:"",password:""}),r=V(""),l=()=>{try{const c=localStorage.getItem("registered_users");return c?JSON.parse(c):[]}catch{return[]}},a=c=>{localStorage.setItem("registered_users",JSON.stringify(c))},u=async()=>{r.value="";try{const c=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o.username,email:o.email,password:o.password}),credentials:"include"});if(c.ok){const p=await c.json(),d=p.user||p,x=p.token||"";d.role=d.role==="admin"?"user":d.role||"user",s.login(d,!1,x),t.push("/");return}const f=await c.json().catch(()=>null);r.value=f?.message||""}catch{const f=l();if(f.find(x=>x.username===o.username)){r.value="";return}const p={id:Date.now(),username:o.username,email:o.email,password:o.password,role:"user"};f.push(p),a(f);const d={id:p.id,username:p.username,email:p.email,role:"user"};s.login(d,!1),t.push("/")}};return(c,f)=>{const p=Nt("router-link");return k(),C("div",oy,[n("div",ry,[f[8]||(f[8]=n("h2",{class:"text-2xl font-bold mb-4"},"",-1)),n("form",{onSubmit:nt(u,["prevent"]),class:"space-y-4"},[n("div",null,[f[3]||(f[3]=n("label",{class:"block text-sm text-gray-700"},"",-1)),ne(n("input",{"onUpdate:modelValue":f[0]||(f[0]=d=>o.username=d),type:"text",required:"",class:"mt-1 w-full px-3 py-2 border rounded"},null,512),[[ge,o.username]])]),n("div",null,[f[4]||(f[4]=n("label",{class:"block text-sm text-gray-700"},"",-1)),ne(n("input",{"onUpdate:modelValue":f[1]||(f[1]=d=>o.email=d),type:"email",class:"mt-1 w-full px-3 py-2 border rounded"},null,512),[[ge,o.email]])]),n("div",null,[f[5]||(f[5]=n("label",{class:"block text-sm text-gray-700"},"",-1)),ne(n("input",{"onUpdate:modelValue":f[2]||(f[2]=d=>o.password=d),type:"password",required:"",class:"mt-1 w-full px-3 py-2 border rounded"},null,512),[[ge,o.password]])]),r.value?(k(),C("div",ly,R(r.value),1)):oe("",!0),n("div",iy,[f[7]||(f[7]=n("button",{type:"submit",class:"bg-green-600 text-white px-4 py-2 rounded"},"",-1)),Ee(p,{to:"/login",class:"text-sm text-blue-600"},{default:Ue(()=>[...f[6]||(f[6]=[je("",-1)])]),_:1})])],32)])])}}},uy={class:"min-h-screen bg-gray-50 p-8"},cy={class:"max-w-3xl mx-auto"},dy={class:"bg-white p-6 rounded-lg shadow mb-6"},fy={class:"flex items-center space-x-4"},py={class:"w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center text-white text-xl"},gy={class:"text-2xl font-bold"},my={class:"text-sm text-gray-500"},hy={class:"bg-white p-6 rounded-lg shadow"},vy={class:"flex items-center space-x-4 mt-2"},yy={class:"w-16 h-16 rounded-full overflow-hidden bg-gray-100"},xy=["src"],by={key:1,class:"w-full h-full flex items-center justify-center text-gray-400"},_y={class:"mt-2"},wy=["disabled"],ky={class:"bg-white p-6 rounded-lg shadow mt-6"},Sy={key:0,class:"text-sm text-red-600"},$y={class:"bg-white p-6 rounded-lg shadow mt-6"},Cy={class:"space-y-2"},Ay={key:0,class:"text-sm text-gray-500"},Ey={__name:"UserDashboard",setup(e){const t=Ct(),s=Gt(),o=rt({username:s.user?.username||"",email:s.user?.email||""}),r=ve(()=>(s.user?.username||"U").charAt(0).toUpperCase()),l=()=>{const X={username:o.username,email:o.email};fetch("/user/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(X),credentials:"include"}).then(async I=>{if(I.ok){const T=(await I.json().catch(()=>null))?.user||null;T?s.updateProfile(T):s.updateProfile(X),alert("")}else s.updateProfile(X),alert("")}).catch(()=>{s.updateProfile(X),alert("")})},a=()=>{o.username=s.user?.username||"",o.email=s.user?.email||""},u=()=>{confirm("")&&(s.logout(),t.push("/"))},c=V(null),f=V(s.user?.avatar||""),p=V(null),d=X=>{const B=X.target.files&&X.target.files[0];if(!B)return;c.value=B;const I=new FileReader;I.onload=O=>{f.value=O.target.result},I.readAsDataURL(B)},x=async()=>{if(!c.value){alert("");return}const X="",B=new FormData;B.append("avatar",c.value);try{const I=await fetch(`${X}/user/avatar`,{method:"POST",body:B,credentials:"include"});if(I.ok){const T=(await I.json().catch(()=>null))?.avatarUrl||f.value;s.updateProfile({avatar:T}),alert(""),c.value=null,p.value&&(p.value.value="")}else alert("")}catch{s.updateProfile({avatar:f.value}),alert("")}},_=rt({current:"",new:"",confirm:""}),j=V(""),W=async()=>{if(j.value="",!_.current||!_.new){j.value="";return}if(_.new!==_.confirm){j.value="";return}const X="";try{const B=await fetch(`${X}/user/password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:_.current,newPassword:_.new}),credentials:"include"});if(B.ok)_.current="",_.new="",_.confirm="",alert("");else{const I=await B.json().catch(()=>null);j.value=I?.message||""}}catch{j.value=""}};return(X,B)=>(k(),C("div",uy,[n("div",cy,[n("div",dy,[n("div",fy,[n("div",py,R(r.value),1),n("div",null,[n("h2",gy,R(Me(s).user?.username||""),1),n("p",my,R(Me(s).user?.email||""),1)]),n("div",{class:"ml-auto"},[n("button",{onClick:u,class:"bg-red-600 text-white px-3 py-1 rounded"},"")])])]),n("div",hy,[B[9]||(B[9]=n("h3",{class:"text-lg font-semibold mb-4"},"",-1)),n("form",{onSubmit:nt(l,["prevent"]),class:"space-y-4"},[n("div",null,[B[5]||(B[5]=n("label",{class:"block text-sm text-gray-700"},"",-1)),ne(n("input",{"onUpdate:modelValue":B[0]||(B[0]=I=>o.username=I),class:"mt-1 w-full px-3 py-2 border rounded"},null,512),[[ge,o.username]])]),n("div",null,[B[6]||(B[6]=n("label",{class:"block text-sm text-gray-700"},"",-1)),ne(n("input",{"onUpdate:modelValue":B[1]||(B[1]=I=>o.email=I),class:"mt-1 w-full px-3 py-2 border rounded"},null,512),[[ge,o.email]])]),n("div",null,[B[7]||(B[7]=n("label",{class:"block text-sm text-gray-700"},"",-1)),n("div",vy,[n("div",yy,[f.value?(k(),C("img",{key:0,src:f.value,alt:"avatar",class:"w-full h-full object-cover"},null,8,xy)):(k(),C("div",by,""))]),n("div",null,[n("input",{ref_key:"avatarInput",ref:p,type:"file",accept:"image/*",onChange:d},null,544),n("div",_y,[n("button",{type:"button",onClick:x,class:"px-3 py-1 bg-blue-600 text-white rounded",disabled:!c.value},"",8,wy)])])])]),n("div",{class:"flex items-center space-x-3"},[B[8]||(B[8]=n("button",{type:"submit",class:"bg-blue-600 text-white px-4 py-2 rounded"},"",-1)),n("button",{type:"button",onClick:a,class:"px-4 py-2 border rounded"},"")])],32)]),n("div",ky,[B[14]||(B[14]=n("h3",{class:"text-lg font-semibold mb-4"},"",-1)),n("form",{onSubmit:nt(W,["prevent"]),class:"space-y-4"},[n("div",null,[B[10]||(B[10]=n("label",{class:"block text-sm text-gray-700"},"",-1)),ne(n("input",{"onUpdate:modelValue":B[2]||(B[2]=I=>_.current=I),type:"password",class:"mt-1 w-full px-3 py-2 border rounded"},null,512),[[ge,_.current]])]),n("div",null,[B[11]||(B[11]=n("label",{class:"block text-sm text-gray-700"},"",-1)),ne(n("input",{"onUpdate:modelValue":B[3]||(B[3]=I=>_.new=I),type:"password",class:"mt-1 w-full px-3 py-2 border rounded"},null,512),[[ge,_.new]])]),n("div",null,[B[12]||(B[12]=n("label",{class:"block text-sm text-gray-700"},"",-1)),ne(n("input",{"onUpdate:modelValue":B[4]||(B[4]=I=>_.confirm=I),type:"password",class:"mt-1 w-full px-3 py-2 border rounded"},null,512),[[ge,_.confirm]])]),B[13]||(B[13]=n("div",{class:"flex items-center space-x-3"},[n("button",{type:"submit",class:"bg-green-600 text-white px-4 py-2 rounded"},"")],-1)),j.value?(k(),C("div",Sy,R(j.value),1)):oe("",!0)],32)]),n("div",$y,[B[15]||(B[15]=n("h3",{class:"text-lg font-semibold mb-4"},"",-1)),n("ul",Cy,[!Me(s).user||!Me(s).userFavorites?.length?(k(),C("li",Ay,"")):oe("",!0),(k(!0),C(fe,null,$e(Me(s).userFavorites||[],I=>(k(),C("li",{key:I,class:"text-sm"},"  ID: "+R(I),1))),128))])])])]))}},Py={class:"min-h-screen p-6 bg-gray-900 text-gray-200"},Iy={class:"grid grid-cols-1 lg:grid-cols-4 gap-6"},Ry={class:"col-span-1 bg-gray-800 text-gray-100 rounded shadow p-4"},Ty={class:"flex flex-col items-center"},Oy={class:"w-24 h-24 rounded-full overflow-hidden mb-3"},Ny=["src"],Ly={class:"text-lg font-semibold text-gray-100"},Dy={class:"text-sm text-gray-400"},My={class:"mt-3 flex items-center justify-center space-x-2"},jy={key:0,class:"mt-2"},Uy={class:"w-full bg-gray-200 h-2 rounded overflow-hidden"},Fy={class:"text-xs text-gray-500 mt-1"},Vy={class:"mt-6"},By={class:"grid grid-cols-2 gap-3 text-center"},Hy={class:"bg-gray-700 p-3 rounded"},zy={class:"text-xl font-bold text-gray-100"},Wy={class:"bg-gray-700 p-3 rounded"},qy={class:"text-xl font-bold text-gray-100"},Ky={key:0,class:"fixed inset-0 z-50 flex items-center justify-center"},Jy={class:"bg-gray-800 rounded shadow-lg p-6 z-10 w-full max-w-md"},Gy={class:"mb-4"},Yy={class:"mt-6"},Xy={class:"space-y-2 text-sm"},Qy={class:"col-span-1 lg:col-span-3"},Zy={key:0,class:"bg-gray-800 rounded shadow p-6"},ex={class:"flex justify-between items-center mb-4"},tx={key:0,class:"space-x-2"},sx={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},nx={class:"mt-1"},ox={class:"text-gray-100"},rx={key:0,class:"mt-1"},lx={class:"text-gray-100"},ix={key:1,class:"mt-1"},ax={key:0,class:"mt-1"},ux={class:"text-gray-100"},cx={key:1,class:"mt-1"},dx={key:0,class:"mt-1"},fx={class:"text-gray-100"},px={key:1,class:"mt-1"},gx={key:0,class:"mt-1"},mx={class:"text-gray-100"},hx={key:1,class:"mt-1"},vx={class:"mt-1 text-gray-100"},yx={class:"mt-1 text-gray-100"},xx={class:"mt-1 text-gray-100"},bx={class:"mt-1 text-gray-100"},_x={class:"mt-1 text-gray-100"},wx={class:"mt-1 text-gray-100"},kx={class:"flex items-center"},Sx={class:"flex-1"},$x={class:"mt-1 text-gray-100"},Cx={key:0,class:"ml-4 self-end"},Ax={key:1,class:"ml-4 self-end"},Ex={key:1,class:"bg-gray-800 rounded shadow p-6 mt-4"},Px={key:0},Ix={key:1},Rx={key:0,class:"text-gray-500"},Tx={class:"space-y-3"},Ox={class:"flex items-center space-x-4"},Nx=["src"],Lx={class:"font-medium"},Dx={class:"text-sm text-gray-500"},Mx={class:"flex items-center space-x-2"},jx=["onClick"],Ux=["onClick"],Fx={key:2,class:"bg-gray-800 rounded shadow p-6 mt-4"},Vx={key:0},Bx={key:1},Hx={key:0,class:"text-gray-500"},zx={class:"space-y-3"},Wx={class:"flex items-center space-x-4"},qx=["src"],Kx={class:"font-medium"},Jx={class:"text-sm text-gray-500"},Gx={class:"flex items-center space-x-2"},Yx=["onClick"],Xx={__name:"UserCenter",setup(e){const t=Ct(),s=cn(),o=V("profile"),r=Gt(),l=ve(()=>r.isAdmin||r.user&&r.user.role==="admin"),a=ve(()=>{try{return l.value&&r.user&&d.value&&d.value.id&&r.user.id!==d.value.id}catch{return!1}}),u=V([]),c=V([]),f=V(!1),p=V(!1),d=V({id:null,username:"",nickname:"",email:"",phone:"",avatar:"",role:"",points:0,vip:!1,created_at:null,last_login:null}),x=V(!1);function _($){return o.value===$?"text-orange-400 border-b-2 border-orange-400":"text-gray-300 hover:bg-gray-700"}const j=$=>_($),W=V(null),X=V(""),B=V(null),I=V(null),O=$=>{if(!$)return"";try{return new Date($).toLocaleString("zh-CN",{hour12:!1})}catch{return String($)}},T=()=>d.value.vip?"":d.value.vip_expiry?new Date(d.value.vip_expiry)>new Date?"":"":"",L=()=>!d.value.vip&&(!d.value.vip_expiry||new Date(d.value.vip_expiry)<=new Date),xe=$=>{const m=$.target.files&&$.target.files[0];if(!m){W.value=null,X.value="";return}W.value=m;const w=new FileReader;w.onload=S=>{X.value=S.target.result},w.readAsDataURL(m)},N=$=>{xe($);const m=$.target.files&&$.target.files[0];m&&J(m)},J=$=>{I.value=0;const m=new XMLHttpRequest,w=new FormData;w.append("avatar",$),m.open("POST","/api/user/avatar",!0);const S=localStorage.getItem("auth_token");S&&m.setRequestHeader("Authorization","Bearer "+S),m.upload.onprogress=v=>{v.lengthComputable&&(I.value=Math.round(v.loaded/v.total*100))},m.onload=()=>{if(m.status>=200&&m.status<300){try{const v=JSON.parse(m.responseText),A=v.avatarUrl||v.url||null;A&&(d.value.avatar=A);try{r.updateProfile({avatar:A})}catch(E){console.warn(" userStore ",E)}}catch(v){console.warn("",v)}alert("")}else alert("");I.value=null,W.value=null,X.value="",B&&B.value&&(B.value.value="")},m.onerror=()=>{alert(""),I.value=null},m.send(w)},Q=()=>{x.value=!0},le=()=>{x.value=!1,Fe(s.query.userId||null)},ie=async()=>{if(!l.value){alert("");return}we.value=d.value.vip_expiry?String(d.value.vip_expiry).split("T")[0]:"",_e.value=!0},_e=V(!1),we=V(""),qe=()=>{_e.value=!1,we.value=""},Xe=async()=>{if(!l.value){alert("");return}const $=we.value&&we.value.trim()!==""?we.value.trim():null;try{await rl.updateUserVip(d.value.id,{vip_expiry:$}),alert(""),qe(),await Fe()}catch(m){console.error(" VIP ",m),alert(""+(m.message||""))}},Pe=async()=>{if(!L()){alert("");return}if(confirm("30"))try{const $=await Bt.createVipOrder({amount:9.9,expiry_days:30}),m=$&&$.order?$.order:$;if(!m||!m.id){alert("");return}const w=await Bt.completeVipOrder({order_id:m.id});w&&(w.vip_expiry||w.message)?(w.vip_expiry&&(d.value.vip_expiry=w.vip_expiry,d.value.vip=!1),alert(""),await Fe()):alert("")}catch($){console.error("",$),alert(""+($.message||""))}};async function ae(){f.value=!0;try{const $=await Ye.getFavorites();u.value=$.favorites||$}catch($){console.error("loadFavorites",$)}finally{f.value=!1}}async function ke(){p.value=!0;try{const $=await Ye.getWatchHistory();c.value=$.history||$}catch($){console.error("loadHistory",$)}finally{p.value=!1}}function Ge($,m,w=0){t.push(`/play/${$}/${m}?t=${w}`)}async function tt($){try{await Ye.removeFavorite($),await ae()}catch(m){console.error("removeFavorite",m)}}const Fe=async($=null)=>{try{if(!localStorage.getItem("auth_token")){t.push("/login");return}let w=null;if($&&l.value){const S=await rl.getUser($);w=S&&S.user?S.user:S}else{const S=await Bt.getUserInfo();w=S&&S.user?S.user:S}w&&(d.value={id:w.id,username:w.username||w.name||"",nickname:w.nickname||"",email:w.email||"",phone:w.phone||"",avatar:w.avatar_url||w.avatar||"",role:w.role||w.user_role||"",points:w.points||0,vip:!!w.vip,vip_expiry:w.vip_expiry||null,login_count:w.login_count||0,last_login_ip:w.last_login_ip||null,created_at:w.created_at||w.createdAt||null,last_login:w.last_login||w.updated_at||w.updatedAt||null})}catch(m){console.error("loadProfile",m),m&&m.message&&m.message.includes("401")&&t.push("/login")}},Ve=async()=>{try{const $=d.value.email&&d.value.email.trim(),m=d.value.phone&&d.value.phone.trim();if($&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test($)){alert("");return}if(m&&!/^1[3-9]\d{9}$/.test(m)){alert("");return}const w={nickname:d.value.nickname,email:$||null,phone:m||null,qq:d.value.qq||null};await Bt.updateProfile(w),x.value=!1,alert("")}catch($){console.error("saveProfile",$),alert("")}};return vt(()=>{if(!localStorage.getItem("auth_token")){t.push("/login");return}const m=s.query.userId||null;Fe(m),ae(),ke()}),bt(()=>s.query.userId,($,m)=>{Fe($||null),ae(),ke()}),($,m)=>(k(),C("div",Py,[m[29]||(m[29]=n("h1",{class:"text-2xl font-bold mb-4"},"",-1)),n("div",Iy,[n("aside",Ry,[n("div",Ty,[n("div",Oy,[n("img",{src:X.value||d.value.avatar||"/placeholder.svg",alt:"avatar",class:"w-full h-full object-cover"},null,8,Ny)]),n("div",Ly,R(d.value.username||""),1),n("div",Dy,R(d.value.role||""),1)]),n("div",My,[n("input",{ref_key:"avatarInput",ref:B,type:"file",accept:"image/*",onChange:N,class:"hidden"},null,544),n("button",{onClick:m[0]||(m[0]=()=>B.value&&B.value.click()),class:"p-2 bg-gray-100 rounded-full",title:""},[...m[9]||(m[9]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-700",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V8.5A1.5 1.5 0 0016.5 7H14V5a2 2 0 00-2-2H8z"})],-1)])])]),I.value!==null?(k(),C("div",jy,[n("div",Uy,[n("div",{style:ln({width:I.value+"%"}),class:"h-2 bg-green-500"},null,4)]),n("div",Fy,R(I.value)+"%",1)])):oe("",!0),n("div",Vy,[n("div",By,[n("div",Hy,[n("div",zy,R(d.value.points||0),1),m[10]||(m[10]=n("div",{class:"text-xs text-gray-400"},"",-1))]),n("div",Wy,[n("div",qy,R(T()),1),m[11]||(m[11]=n("div",{class:"text-xs text-gray-400"},"",-1))])]),_e.value?(k(),C("div",Ky,[n("div",{class:"absolute inset-0 bg-black bg-opacity-50",onClick:qe}),n("div",Jy,[m[13]||(m[13]=n("h3",{class:"text-lg font-semibold text-gray-100 mb-4"},"",-1)),n("div",Gy,[m[12]||(m[12]=n("label",{class:"block text-sm text-gray-400 mb-2"},"",-1)),ne(n("input",{type:"date","onUpdate:modelValue":m[1]||(m[1]=w=>we.value=w),class:"w-full px-3 py-2 rounded bg-gray-700 text-gray-100 border border-gray-600"},null,512),[[ge,we.value]])]),n("div",{class:"flex justify-end space-x-3"},[n("button",{onClick:qe,class:"px-4 py-2 rounded bg-gray-600 text-gray-100"},""),n("button",{onClick:Xe,class:"px-4 py-2 rounded bg-yellow-500 text-black"},"")])])])):oe("",!0)]),n("nav",Yy,[n("ul",Xy,[n("li",null,[n("button",{onClick:m[2]||(m[2]=w=>o.value="profile"),class:Se([j("profile"),"w-full text-left px-3 py-2 rounded"])},"",2)]),n("li",null,[n("button",{onClick:m[3]||(m[3]=w=>o.value="favorites"),class:Se([j("favorites"),"w-full text-left px-3 py-2 rounded"])},"",2)]),n("li",null,[n("button",{onClick:m[4]||(m[4]=w=>o.value="history"),class:Se([j("history"),"w-full text-left px-3 py-2 rounded"])},"",2)])])])]),n("main",Qy,[o.value==="profile"?(k(),C("div",Zy,[n("div",ex,[m[14]||(m[14]=n("h2",{class:"text-xl font-semibold text-gray-100"},"",-1)),a.value?oe("",!0):(k(),C("div",tx,[x.value?(k(),C("button",{key:1,onClick:Ve,class:"px-3 py-1 bg-green-500 text-white rounded text-sm"},"")):(k(),C("button",{key:0,onClick:Q,class:"px-3 py-1 bg-blue-500 text-white rounded text-sm"},"")),x.value?(k(),C("button",{key:2,onClick:le,class:"px-3 py-1 bg-gray-600 text-white rounded text-sm"},"")):oe("",!0)]))]),n("div",sx,[n("div",null,[m[15]||(m[15]=n("label",{class:"block text-sm text-gray-600"},"",-1)),n("div",nx,[n("span",ox,R(d.value.username),1)])]),n("div",null,[m[16]||(m[16]=n("label",{class:"block text-sm text-gray-600"},"",-1)),x.value?(k(),C("div",ix,[ne(n("input",{"onUpdate:modelValue":m[5]||(m[5]=w=>d.value.nickname=w),class:"w-full px-3 py-2 rounded bg-gray-700 text-gray-100 border border-gray-600"},null,512),[[ge,d.value.nickname]])])):(k(),C("div",rx,[n("span",lx,R(d.value.nickname||"-"),1)]))]),n("div",null,[m[17]||(m[17]=n("label",{class:"block text-sm text-gray-600"},"",-1)),x.value?(k(),C("div",cx,[ne(n("input",{"onUpdate:modelValue":m[6]||(m[6]=w=>d.value.email=w),class:"w-full px-3 py-2 rounded bg-gray-700 text-gray-100 border border-gray-600"},null,512),[[ge,d.value.email]])])):(k(),C("div",ax,[n("span",ux,R(d.value.email||"-"),1)]))]),n("div",null,[m[18]||(m[18]=n("label",{class:"block text-sm text-gray-600"},"",-1)),x.value?(k(),C("div",px,[ne(n("input",{"onUpdate:modelValue":m[7]||(m[7]=w=>d.value.phone=w),class:"w-full px-3 py-2 rounded bg-gray-700 text-gray-100 border border-gray-600"},null,512),[[ge,d.value.phone]])])):(k(),C("div",dx,[n("span",fx,R(d.value.phone||"-"),1)]))]),n("div",null,[m[19]||(m[19]=n("label",{class:"block text-sm text-gray-600"},"QQ",-1)),x.value?(k(),C("div",hx,[ne(n("input",{"onUpdate:modelValue":m[8]||(m[8]=w=>d.value.qq=w),class:"w-full px-3 py-2 rounded bg-gray-700 text-gray-100 border border-gray-600"},null,512),[[ge,d.value.qq]])])):(k(),C("div",gx,[n("span",mx,R(d.value.qq||"-"),1)]))]),n("div",null,[m[20]||(m[20]=n("label",{class:"block text-sm text-gray-600"},"",-1)),n("div",vx,R(d.value.points||0),1)]),n("div",null,[m[21]||(m[21]=n("label",{class:"block text-sm text-gray-600"},"",-1)),n("div",yx,R(T()),1)]),n("div",null,[m[22]||(m[22]=n("label",{class:"block text-sm text-gray-600"},"",-1)),n("div",xx,R(O(d.value.created_at)),1)]),n("div",null,[m[23]||(m[23]=n("label",{class:"block text-sm text-gray-600"},"",-1)),n("div",bx,R(O(d.value.last_login)),1)]),n("div",null,[m[24]||(m[24]=n("label",{class:"block text-sm text-gray-600"},"",-1)),n("div",_x,R(d.value.login_count||0),1)]),n("div",null,[m[25]||(m[25]=n("label",{class:"block text-sm text-gray-600"},"IP",-1)),n("div",wx,R(d.value.last_login_ip||"-"),1)]),n("div",kx,[n("div",Sx,[m[26]||(m[26]=n("label",{class:"block text-sm text-gray-600"},"",-1)),n("div",$x,R(d.value.vip_expiry?O(d.value.vip_expiry):"-"),1)]),a.value?(k(),C("div",Cx,[n("button",{onClick:ie,class:"px-3 py-1 bg-yellow-500 text-black rounded text-sm"},"")])):oe("",!0),!a.value&&L()?(k(),C("div",Ax,[n("button",{onClick:Pe,class:"px-3 py-1 bg-green-500 text-white rounded text-sm"},"")])):oe("",!0)])])])):oe("",!0),o.value==="favorites"?(k(),C("div",Ex,[m[27]||(m[27]=n("h2",{class:"text-xl font-semibold mb-4"},"",-1)),f.value?(k(),C("div",Px,"...")):(k(),C("div",Ix,[u.value.length===0?(k(),C("div",Rx,"")):oe("",!0),n("ul",Tx,[(k(!0),C(fe,null,$e(u.value,w=>(k(),C("li",{key:w.id,class:"bg-gray-50 p-4 rounded flex items-center justify-between"},[n("div",Ox,[n("img",{src:w.cover_url||"/placeholder.svg",class:"w-12 h-16 object-cover rounded"},null,8,Nx),n("div",null,[n("div",Lx,R(w.title),1),n("div",Dx,R(w.category_name||""),1)])]),n("div",Mx,[n("button",{onClick:S=>Ge(w.anime_id,w.episode_id),class:"px-3 py-1 bg-green-600 text-white rounded"},"",8,jx),n("button",{onClick:S=>tt(w.anime_id),class:"px-3 py-1 bg-red-500 text-white rounded"},"",8,Ux)])]))),128))])]))])):oe("",!0),o.value==="history"?(k(),C("div",Fx,[m[28]||(m[28]=n("h2",{class:"text-xl font-semibold mb-4"},"",-1)),p.value?(k(),C("div",Vx,"...")):(k(),C("div",Bx,[c.value.length===0?(k(),C("div",Hx,"")):oe("",!0),n("ul",zx,[(k(!0),C(fe,null,$e(c.value,w=>(k(),C("li",{key:w.id,class:"bg-gray-50 p-4 rounded flex items-center justify-between"},[n("div",Wx,[n("img",{src:w.anime_cover||"/placeholder.svg",class:"w-12 h-16 object-cover rounded"},null,8,qx),n("div",null,[n("div",Kx,R(w.anime_title),1),n("div",Jx,""+R(w.episode_number)+"   "+R(w.progress)+"s",1)])]),n("div",Gx,[n("button",{onClick:S=>Ge(w.anime_id,w.episode_id,w.progress),class:"px-3 py-1 bg-green-600 text-white rounded"},"",8,Yx)])]))),128))])]))])):oe("",!0)])])]))}},Qx=[{path:"/",name:"Home",component:mp},{path:"/category",name:"Category",component:Rp},{path:"/detail/:id",name:"Detail",component:Ig},{path:"/play/:id/:episode",name:"Play",component:$0},{path:"/admin/login",name:"AdminLogin",component:Q1},{path:"/login",name:"Login",component:ny},{path:"/register",name:"Register",component:ay},{path:"/profile",name:"Profile",component:Ey},{path:"/user-center",name:"UserCenter",component:Xx},{path:"/admin",name:"Admin",component:R1}],Qo=Hd({history:_d(),routes:Qx});Qo.options.scrollBehavior=(e,t,s)=>s||{left:0,top:0};Qo.beforeEach((e,t,s)=>{if(e.path.startsWith("/admin")){if(e.path==="/admin/login"){s();return}if(!(localStorage.getItem("admin_logged_in")==="true")){s("/admin/login");return}}if(e.path==="/user-center"&&!localStorage.getItem("auth_token")){s("/login");return}s()});const Zx={class:"bg-white shadow-md"},eb={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},tb={class:"flex justify-between items-center h-16"},sb={class:"flex items-center"},nb=["src"],ob={class:"hidden md:flex space-x-8"},rb={class:"flex-1 max-w-lg mx-8"},lb={class:"relative"},ib={class:"flex items-center space-x-4"},ab=["src"],ub={key:0,class:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg text-sm text-gray-800 z-50"},cb={class:"p-3 border-b"},db={class:"flex items-center"},fb=["src"],pb={class:"font-medium"},gb={class:"text-xs text-gray-500"},mb={class:"p-2"},hb={__name:"Header",setup(e){const t=Ct(),s=Gt(),o=V(""),r=V(!1),l=V(null),a=cn(),u=ve(()=>{try{return a.value&&(a.value.path==="/user-center"||a.value.name==="UserCenter")}catch{return!1}}),c=ve(()=>{try{const x=s.user?.role;return x?x==="admin"?"":x==="user"?"":x:""}catch{return""}}),f=()=>{r.value=!r.value},p=()=>{confirm("")&&(s.logout(),r.value=!1,t.push("/"))};vt(()=>{const x=_=>{l.value&&(l.value.contains(_.target)||(r.value=!1))};document.addEventListener("click",x),window.addEventListener("beforeunload",()=>document.removeEventListener("click",x))});const d=()=>{o.value.trim()&&t.push({name:"Category",query:{search:o.value}})};return vt(()=>{s.checkAdminStatus(),s.checkUserStatus()}),(x,_)=>{const j=Nt("router-link");return k(),C("header",Zx,[n("div",eb,[n("div",tb,[n("div",sb,[Ee(j,{to:"/",class:"flex items-center"},{default:Ue(()=>[n("img",{src:Me(Oi),alt:"",class:"h-8 w-auto mr-2"},null,8,nb),_[1]||(_[1]=n("div",{class:"text-2xl font-bold text-blue-600"},"",-1))]),_:1})]),n("nav",ob,[Ee(j,{to:"/",class:Se(["text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium transition-colors",{"text-blue-600":x.$route.name==="Home"}])},{default:Ue(()=>[..._[2]||(_[2]=[je("  ",-1)])]),_:1},8,["class"]),Ee(j,{to:"/category",class:Se(["text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium transition-colors",{"text-blue-600":x.$route.name==="Category"}])},{default:Ue(()=>[..._[3]||(_[3]=[je("  ",-1)])]),_:1},8,["class"]),_[4]||(_[4]=n("a",{href:"#",class:"text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium transition-colors"},null,-1))]),n("div",rb,[n("div",lb,[ne(n("input",{"onUpdate:modelValue":_[0]||(_[0]=W=>o.value=W),onKeyup:Go(d,["enter"]),type:"text",placeholder:"...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,544),[[ge,o.value]]),_[5]||(_[5]=n("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[n("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1))])]),n("div",ib,[Me(s).user?oe("",!0):(k(),St(j,{key:0,to:"/login",class:"text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium transition-colors"},{default:Ue(()=>[..._[6]||(_[6]=[je("  ",-1)])]),_:1})),Me(s).user?oe("",!0):(k(),St(j,{key:1,to:"/register",class:"bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 transition-colors"},{default:Ue(()=>[..._[7]||(_[7]=[je("  ",-1)])]),_:1})),Me(s).user&&!u.value?(k(),C("div",{key:2,class:"relative",ref_key:"menuRoot",ref:l},[n("button",{onClick:f,class:"flex items-center focus:outline-none"},[n("img",{src:Me(s).user.avatar||"/placeholder.svg",class:"w-8 h-8 rounded-full border-2 border-white shadow-sm"},null,8,ab)]),r.value?(k(),C("div",ub,[n("div",cb,[n("div",db,[n("img",{src:Me(s).user.avatar||"/placeholder.svg",class:"w-12 h-12 rounded-full mr-3"},null,8,fb),n("div",null,[n("div",pb,R(Me(s).user.username),1),n("div",gb,R(c.value),1)])])]),n("ul",mb,[n("li",null,[Ee(j,{to:"/user-center",class:"block px-2 py-2 hover:bg-gray-100 rounded"},{default:Ue(()=>[..._[8]||(_[8]=[je("",-1)])]),_:1})])]),n("div",{class:"p-2 border-t"},[n("button",{onClick:p,class:"w-full text-left px-2 py-2 text-red-600 hover:bg-gray-100 rounded"},"")])])):oe("",!0)],512)):oe("",!0)])])])])}}},vb={id:"app"},yb={__name:"App",setup(e){return(t,s)=>{const o=Nt("router-view");return k(),C("div",vb,[Ee(hb),Ee(o)])}}},Zo=Ec(yb),xb=Rc();Zo.use(xb);Zo.use(Qo);Zo.mount("#app");
